!function(t){"function"==typeof define&&define.amd?define(["dependencyLib"],t):"object"==typeof exports?module.exports=t(require("./dependencyLib")):t(window.dependencyLib||jQuery)}(function($){function Inputmask(t){this.el=void 0,this.opts=$.extend(!0,{},this.defaults,t),this.noMasksCache=t&&void 0!==t.definitions,this.userOptions=t||{},resolveAlias(this.opts.alias,t,this.opts)}function isInputEventSupported(t){var e=document.createElement("input"),i="on"+t,n=i in e;return n||(e.setAttribute(i,"return;"),n="function"==typeof e[i]),e=null,n}function isInputTypeSupported(t){var e="text"===t||"tel"===t||"password"===t;if(!e){var i=document.createElement("input");i.setAttribute("type",t),e="text"===i.type,i=null}return e}function resolveAlias(t,e,i){var n=i.aliases[t];return n?(n.alias&&resolveAlias(n.alias,void 0,i),$.extend(!0,i,n),$.extend(!0,i,e),!0):(null===i.mask&&(i.mask=t),!1)}function importAttributeOptions(npt,opts,userOptions){function importOption(option){var optionData=npt.getAttribute("data-inputmask-"+option.toLowerCase());null!==optionData&&(optionData="boolean"==typeof optionData?optionData:optionData.toString(),"string"==typeof optionData&&0===option.indexOf("on")&&(optionData=eval("("+optionData+")")),"mask"===option&&0===optionData.indexOf("[")?(userOptions[option]=optionData.replace(/[\s[\]]/g,"").split(","),userOptions[option][0]=userOptions[option][0].replace("'",""),userOptions[option][userOptions[option].length-1]=userOptions[option][userOptions[option].length-1].replace("'","")):userOptions[option]=optionData)}var attrOptions=npt.getAttribute("data-inputmask");if(attrOptions&&""!==attrOptions)try{attrOptions=attrOptions.replace(new RegExp("'","g"),'"');var dataoptions=$.parseJSON("{"+attrOptions+"}");$.extend(!0,userOptions,dataoptions)}catch(ex){}for(var option in opts)importOption(option);if(userOptions.alias){resolveAlias(userOptions.alias,userOptions,opts);for(option in opts)importOption(option)}return $.extend(!0,opts,userOptions),opts}function generateMaskSet(t,e){function i(e){function i(t,e,i,n){this.matches=[],this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function n(e,i,n){var a=t.definitions[i];n=void 0!==n?n:e.matches.length;var o=e.matches[n-1];if(a&&!h){a.placeholder=$.isFunction(a.placeholder)?a.placeholder.call(this,t):a.placeholder;for(var r=a.prevalidator,s=r?r.length:0,l=1;l<a.cardinality;l++){var u=s>=l?r[l-1]:[],p=u.validator,c=u.cardinality;e.matches.splice(n++,0,{fn:p?"string"==typeof p?new RegExp(p):new function(){this.test=p}:new RegExp("."),cardinality:c?c:1,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(a.definitionSymbol||i),casing:a.casing,def:a.definitionSymbol||i,placeholder:a.placeholder,mask:i}),o=e.matches[n-1]}e.matches.splice(n++,0,{fn:a.validator?"string"==typeof a.validator?new RegExp(a.validator):new function(){this.test=a.validator}:new RegExp("."),cardinality:a.cardinality,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==(a.definitionSymbol||i),casing:a.casing,def:a.definitionSymbol||i,placeholder:a.placeholder,mask:i})}else e.matches.splice(n++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:void 0===o||o.def!==i,casing:null,def:i,placeholder:void 0,mask:i}),h=!1}function a(e,i){e.isGroup&&(e.isGroup=!1,n(e,t.groupmarker.start,0),i!==!0&&n(e,t.groupmarker.end))}function o(t,e,i,o){e.matches.length>0&&(void 0===o||o)&&(i=e.matches[e.matches.length-1],a(i)),n(e,t)}function r(){if(g.length>0){if(c=g[g.length-1],o(u,c,f,!c.isAlternator),c.isAlternator){d=g.pop();for(var t=0;t<d.matches.length;t++)d.matches[t].isGroup=!1;g.length>0?(c=g[g.length-1],c.matches.push(d)):k.matches.push(d)}}else o(u,k,f)}function s(e){function i(e){return e===t.optionalmarker.start?e=t.optionalmarker.end:e===t.optionalmarker.end?e=t.optionalmarker.start:e===t.groupmarker.start?e=t.groupmarker.end:e===t.groupmarker.end&&(e=t.groupmarker.start),e}e.matches=e.matches.reverse();for(var n in e.matches){var a=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[a+1]&&e.matches[a+1].isGroup){var o=e.matches[n];e.matches.splice(n,1),e.matches.splice(a+1,0,o)}void 0!==e.matches[n].matches?e.matches[n]=s(e.matches[n]):e.matches[n]=i(e.matches[n])}return e}for(var l,u,p,c,d,f,m,v=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,h=!1,k=new i,g=[],b=[];l=v.exec(e);)if(u=l[0],h)r();else switch(u.charAt(0)){case t.escapeChar:h=!0;break;case t.optionalmarker.end:case t.groupmarker.end:if(p=g.pop(),void 0!==p)if(g.length>0){if(c=g[g.length-1],c.matches.push(p),c.isAlternator){d=g.pop();for(var y=0;y<d.matches.length;y++)d.matches[y].isGroup=!1;g.length>0?(c=g[g.length-1],c.matches.push(d)):k.matches.push(d)}}else k.matches.push(p);else r();break;case t.optionalmarker.start:g.push(new i((!1),(!0)));break;case t.groupmarker.start:g.push(new i((!0)));break;case t.quantifiermarker.start:var P=new i((!1),(!1),(!0));u=u.replace(/[{}]/g,"");var _=u.split(","),S=isNaN(_[0])?_[0]:parseInt(_[0]),E=1===_.length?S:isNaN(_[1])?_[1]:parseInt(_[1]);if("*"!==E&&"+"!==E||(S="*"===E?0:1),P.quantifier={min:S,max:E},g.length>0){var I=g[g.length-1].matches;l=I.pop(),l.isGroup||(m=new i((!0)),m.matches.push(l),l=m),I.push(l),I.push(P)}else l=k.matches.pop(),l.isGroup||(m=new i((!0)),m.matches.push(l),l=m),k.matches.push(l),k.matches.push(P);break;case t.alternatormarker:g.length>0?(c=g[g.length-1],f=c.matches.pop()):f=k.matches.pop(),f.isAlternator?g.push(f):(d=new i((!1),(!1),(!1),(!0)),d.matches.push(f),g.push(d));break;default:r()}for(;g.length>0;)p=g.pop(),a(p,!0),k.matches.push(p);return k.matches.length>0&&(f=k.matches[k.matches.length-1],a(f),b.push(k)),t.numericInput&&s(b[0]),b}function n(n,a){if(null!==n&&""!==n){if(1===n.length&&t.greedy===!1&&0!==t.repeat&&(t.placeholder=""),t.repeat>0||"*"===t.repeat||"+"===t.repeat){var o="*"===t.repeat?0:"+"===t.repeat?1:t.repeat;n=t.groupmarker.start+n+t.groupmarker.end+t.quantifiermarker.start+o+","+t.repeat+t.quantifiermarker.end}var r;return void 0===Inputmask.prototype.masksCache[n]||e===!0?(r={mask:n,maskToken:i(n),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a},e!==!0&&(Inputmask.prototype.masksCache[t.numericInput?n.split("").reverse().join(""):n]=r)):r=$.extend(!0,{},Inputmask.prototype.masksCache[n]),r}}function a(t){return t=t.toString()}var o;if($.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),$.isArray(t.mask)){if(t.mask.length>1){t.keepStatic=null===t.keepStatic||t.keepStatic;var r="(";return $.each(t.numericInput?t.mask.reverse():t.mask,function(t,e){r.length>1&&(r+=")|("),r+=a(void 0===e.mask||$.isFunction(e.mask)?e:e.mask)}),r+=")",n(r,t.mask)}t.mask=t.mask.pop()}return t.mask&&(o=void 0===t.mask.mask||$.isFunction(t.mask.mask)?n(a(t.mask),t.mask):n(a(t.mask.mask),t.mask)),o}function maskScope(t,e,i){function n(t,e,i){e=e||0;var n,o,r,s=[],l=0;do{if(t===!0&&a().validPositions[l]){var p=a().validPositions[l];o=p.match,n=p.locator.slice(),s.push(i===!0?p.input:I(l,o))}else r=u(l,n,l-1),o=r.match,n=r.locator.slice(),s.push(I(l,o));l++}while((void 0===at||l-1<at)&&null!==o.fn||null===o.fn&&""!==o.def||e>=l);return s.pop(),s}function a(){return e}function o(t){var e=a();e.buffer=void 0,e.tests={},t!==!0&&(e._buffer=void 0,e.validPositions={},e.p=0)}function r(t,e){var i=a(),n=-1,o=i.validPositions;void 0===t&&(t=-1);var r=n,s=n;for(var l in o){var u=parseInt(l);o[u]&&(e||null!==o[u].match.fn)&&(u<=t&&(r=u),u>=t&&(s=u))}return n=r!==-1&&t-r>1||s<t?r:s}function s(t,e,n){if(i.insertMode&&void 0!==a().validPositions[t]&&void 0===n){var o,s=$.extend(!0,{},a().validPositions),l=r();for(o=t;o<=l;o++)delete a().validPositions[o];a().validPositions[t]=e;var u,p=!0,f=a().validPositions;for(o=u=t;o<=l;o++){var m=s[o];if(void 0!==m)for(var v=u,h=-1;v<y()&&(null==m.match.fn&&f[o]&&(f[o].match.optionalQuantifier===!0||f[o].match.optionality===!0)||null!=m.match.fn);){if(null===m.match.fn||!i.keepStatic&&f[o]&&(void 0!==f[o+1]&&d(o+1,f[o].locator.slice(),o).length>1||void 0!==f[o].alternation)?v++:v=P(u),c(v,m.match.def)){p=g(v,m.input,!0,!0)!==!1,u=v;break}if(p=null==m.match.fn,h===v)break;h=v}if(!p)break}if(!p)return a().validPositions=$.extend(!0,{},s),!1}else a().validPositions[t]=e;return!0}function l(t,e,n,s){var l,u=t;for(a().p=t,l=u;l<e;l++)void 0!==a().validPositions[l]&&(n!==!0&&i.canClearPosition(a(),l,r(),s,i)===!1||delete a().validPositions[l]);for(o(!0),l=u+1;l<=r();){for(;void 0!==a().validPositions[u];)u++;var p=a().validPositions[u];l<u&&(l=u+1);var d=a().validPositions[l];void 0!==d&&b(l)&&void 0===p?(c(u,d.match.def)&&g(u,d.input,!0)!==!1&&(delete a().validPositions[l],l++),u++):l++}var f=r(),m=y();for(s!==!0&&n!==!0&&void 0!==a().validPositions[f]&&a().validPositions[f].input===i.radixPoint&&delete a().validPositions[f],l=f+1;l<=m;l++)a().validPositions[l]&&delete a().validPositions[l];o(!0)}function u(t,e,n){var o=a().validPositions[t];if(void 0===o)for(var s=d(t,e,n),l=r(),u=a().validPositions[l]||d(0)[0],p=void 0!==u.alternation?u.locator[u.alternation].toString().split(","):[],c=0;c<s.length&&(o=s[c],!(o.match&&(i.greedy&&o.match.optionalQuantifier!==!0||(o.match.optionality===!1||o.match.newBlockMarker===!1)&&o.match.optionalQuantifier!==!0)&&(void 0===u.alternation||u.alternation!==o.alternation||void 0!==o.locator[u.alternation]&&k(o.locator[u.alternation].toString().split(","),p))));c++);return o}function p(t){return a().validPositions[t]?a().validPositions[t].match:d(t)[0].match}function c(t,e){for(var i=!1,n=d(t),a=0;a<n.length;a++)if(n[a].match&&n[a].match.def===e){i=!0;break}return i}function d(t,e,i,n){function o(e,i,n,l){function p(n,l,f){if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+a().mask;if(u===t&&void 0===n.matches)return c.push({match:n,locator:l.reverse()}),!0;if(void 0!==n.matches){if(n.isGroup&&f!==n){if(n=p(e.matches[$.inArray(n,e.matches)+1],l))return!0}else if(n.isOptional){var m=n;if(n=o(n,i,l,f)){if(r=c[c.length-1].match,s=0===$.inArray(r,m.matches),!s)return!0;d=!0,u=t}}else if(n.isAlternator){var v,h=n,k=[],g=c.slice(),b=l.length,y=i.length>0?i.shift():-1;if(y===-1||"string"==typeof y){var P=u,_=i.slice(),S=[];"string"==typeof y&&(S=y.split(","));for(var E=0;E<h.matches.length;E++){if(c=[],n=p(h.matches[E],[E].concat(l),f)||n,n!==!0&&void 0!==n&&S[S.length-1]<h.matches.length){var I=e.matches.indexOf(n)+1;e.matches.length>I&&(n=p(e.matches[I],[I].concat(l.slice(1,l.length)),f),n&&(S.push(I.toString()),$.each(c,function(t,e){e.alternation=l.length-1})))}v=c.slice(),u=P,c=[];for(var C=0;C<_.length;C++)i[C]=_[C];for(var O=0;O<v.length;O++){var x=v[O];x.alternation=x.alternation||b;for(var A=0;A<k.length;A++){var w=k[A];if(x.match.mask===w.match.mask&&("string"!=typeof y||$.inArray(x.locator[x.alternation].toString(),S)!==-1)){v.splice(O,1),O--,w.locator[x.alternation]=w.locator[x.alternation]+","+x.locator[x.alternation],w.alternation=x.alternation;break}}}k=k.concat(v)}"string"==typeof y&&(k=$.map(k,function(t,e){if(isFinite(e)){var i,n=t.alternation,a=t.locator[n].toString().split(",");t.locator[n]=void 0,t.alternation=void 0;for(var o=0;o<a.length;o++)i=$.inArray(a[o],S)!==-1,i&&(void 0!==t.locator[n]?(t.locator[n]+=",",t.locator[n]+=a[o]):t.locator[n]=parseInt(a[o]),t.alternation=n);if(void 0!==t.locator[n])return t}})),c=g.concat(k),u=t,d=c.length>0}else n=!!h.matches[y]&&p(h.matches[y],[y].concat(l),f);if(n)return!0}else if(n.isQuantifier&&f!==e.matches[$.inArray(n,e.matches)-1])for(var M=n,T=i.length>0?i.shift():0;T<(isNaN(M.quantifier.max)?T+1:M.quantifier.max)&&u<=t;T++){var D=e.matches[$.inArray(M,e.matches)-1];if(n=p(D,[T].concat(l),D)){if(r=c[c.length-1].match,r.optionalQuantifier=T>M.quantifier.min-1,s=0===$.inArray(r,D.matches)){if(T>M.quantifier.min-1){d=!0,u=t;break}return!0}return!0}}else if(n=o(n,i,l,f))return!0}else u++}for(var f=i.length>0?i.shift():0;f<e.matches.length;f++)if(e.matches[f].isQuantifier!==!0){var m=p(e.matches[f],[f].concat(n),l);if(m&&u===t)return m;if(u>t)break}}var r,s,l=a().maskToken,u=e?i:0,p=e||[0],c=[],d=!1;if(n===!0&&a().tests[t])return a().tests[t];if(void 0===e){for(var f,m=t-1;void 0===(f=a().validPositions[m])&&m>-1&&(!a().tests[m]||void 0===(f=a().tests[m][0]));)m--;void 0!==f&&m>-1&&(u=m,p=f.locator.slice())}for(var v=p.shift();v<l.length;v++){var h=o(l[v],p,[v]);if(h&&u===t||u>t)break}return(0===c.length||d)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),a().tests[t]=$.extend(!0,[],c),a().tests[t]}function f(){return void 0===a()._buffer&&(a()._buffer=n(!1,1)),a()._buffer}function m(){return void 0===a().buffer&&(a().buffer=n(!0,r(),!0)),a().buffer}function v(t,e,n){var r;if(n=n||m().slice(),t===!0)o(),t=0,e=n.length;else for(r=t;r<e;r++)delete a().validPositions[r],delete a().tests[r];for(r=t;r<e;r++)o(!0),n[r]!==i.skipOptionalPartCharacter&&g(r,n[r],!0,!0)}function h(t,e){switch(e.casing){case"upper":t=t.toUpperCase();break;case"lower":t=t.toLowerCase()}return t}function k(t,e){for(var n=i.greedy?e:e.slice(0,1),a=!1,o=0;o<t.length;o++)if($.inArray(t[o],n)!==-1){a=!0;break}return a}function g(t,e,n,p){function c(t,e,n,u){var p=!1;return $.each(d(t),function(c,d){for(var f=d.match,k=e?1:0,b="",y=f.cardinality;y>k;y--)b+=S(t-(y-1));if(e&&(b+=e),p=null!=f.fn?f.fn.test(b,a(),t,n,i):(e===f.def||e===i.skipOptionalPartCharacter)&&""!==f.def&&{c:f.def,pos:t},p!==!1){var P=void 0!==p.c?p.c:e;P=P===i.skipOptionalPartCharacter&&null===f.fn?f.def:P;var _=t,E=m();if(void 0!==p.remove&&($.isArray(p.remove)||(p.remove=[p.remove]),$.each(p.remove.sort(function(t,e){return e-t}),function(t,e){l(e,e+1,!0)})),void 0!==p.insert&&($.isArray(p.insert)||(p.insert=[p.insert]),$.each(p.insert.sort(function(t,e){return t-e}),function(t,e){g(e.pos,e.c,!0)})),p.refreshFromBuffer){var I=p.refreshFromBuffer;if(n=!0,v(I===!0?I:I.start,I.end,E),void 0===p.pos&&void 0===p.c)return p.pos=r(),!1;if(_=void 0!==p.pos?p.pos:t,_!==t)return p=$.extend(p,g(_,P,!0)),!1}else if(p!==!0&&void 0!==p.pos&&p.pos!==t&&(_=p.pos,v(t,_),_!==t))return p=$.extend(p,g(_,P,!0)),!1;return(p===!0||void 0!==p.pos||void 0!==p.c)&&(c>0&&o(!0),s(_,$.extend({},d,{input:h(P,f)}),u)||(p=!1),!1)}}),p}function f(t,e,n,s){for(var l,p,c,d,f,m,v=$.extend(!0,{},a().validPositions),h=r();h>=0&&(d=a().validPositions[h],!d||void 0===d.alternation||(l=h,p=a().validPositions[l].alternation,u(l).locator[d.alternation]===d.locator[d.alternation]));h--);if(void 0!==p){l=parseInt(l);for(var k in a().validPositions)if(k=parseInt(k),d=a().validPositions[k],k>=l&&void 0!==d.alternation){var b=a().validPositions[l].locator[p].toString().split(","),y=d.locator[p]||b[0];y.length>0&&(y=y.split(",")[0]);for(var P=0;P<b.length;P++)if(y<b[P]){for(var _,S,E=k;E>=0;E--)if(_=a().validPositions[E],void 0!==_){S=_.locator[p],_.locator[p]=parseInt(b[P]);break}if(y!==_.locator[p]){var I=[],C=0;for(f=k+1;f<r()+1;f++)m=a().validPositions[f],m&&(null!=m.match.fn?I.push(m.input):f<t&&C++),delete a().validPositions[f],delete a().tests[f];for(o(!0),i.keepStatic=!i.keepStatic,c=!0;I.length>0;){var O=I.shift();if(O!==i.skipOptionalPartCharacter&&!(c=g(r()+1,O,!1,!0)))break}if(_.alternation=p,_.locator[p]=S,c){var x=r(t)+1,A=0;for(f=k+1;f<r()+1;f++)m=a().validPositions[f],m&&null==m.match.fn&&f<t&&A++;t+=A-C,c=g(t>x?x:t,e,n,s)}if(i.keepStatic=!i.keepStatic,c)return c;o(),a().validPositions=$.extend(!0,{},v)}}break}}return!1}function _(t,e){for(var i=a().validPositions[e],n=i.locator,o=n.length,r=t;r<e;r++)if(!b(r)){var l=d(r),u=l[0],p=-1;$.each(l,function(t,e){for(var i=0;i<o;i++)e.locator[i]&&k(e.locator[i].toString().split(","),n[i].toString().split(","))&&p<i&&(p=i,u=e)}),s(r,$.extend({},u,{input:u.match.def}),!0)}}n=n===!0;for(var E=m(),C=t-1;C>-1&&!a().validPositions[C];C--);for(C++;C<t;C++)void 0===a().validPositions[C]&&((!b(C)||E[C]!==I(C))&&d(C).length>1||E[C]===i.radixPoint||"0"===E[C]&&$.inArray(i.radixPoint,E)<C)&&c(C,E[C],!0);var O=t,x=!1,A=$.extend(!0,{},a().validPositions);if(O<y()&&(m(),x=c(O,e,n,p),(!n||p)&&x===!1)){var w=a().validPositions[O];if(!w||null!==w.match.fn||w.match.def!==e&&e!==i.skipOptionalPartCharacter){if((i.insertMode||void 0===a().validPositions[P(O)])&&!b(O))for(var T=O+1,D=P(O);T<=D;T++)if(x=c(T,e,n,p),x!==!1){_(O,T),O=T;break}}else x={caret:P(O)}}if(x===!1&&i.keepStatic&&M(E)&&(x=f(t,e,n,p)),x===!0&&(x={pos:O}),$.isFunction(i.postValidation)&&x!==!1&&!n){o(!0);var j=i.postValidation(m(),i);if(j){if(j.refreshFromBuffer){var G=j.refreshFromBuffer;v(G===!0?G:G.start,G.end,j.buffer),o(!0),x=j}}else o(!0),a().validPositions=$.extend(!0,{},A),x=!1}return x}function b(t){var e=p(t);if(null!=e.fn)return e.fn;if(!i.keepStatic&&void 0===a().validPositions[t]){for(var n=d(t),o=!0,r=0;r<n.length;r++)if(""!==n[r].match.def&&(void 0===n[r].alternation||n[r].locator[n[r].alternation].length>1)){o=!1;break}return o}return!1}function y(){var t;at=nt.prop("maxLength"),at===-1&&(at=void 0);var e,i=r(),n=a().validPositions[i],o=void 0!==n?n.locator.slice():void 0;for(e=i+1;void 0===n||null!==n.match.fn||null===n.match.fn&&""!==n.match.def;e++)n=u(e,o,e-1),o=n.locator.slice();var s=p(e-1);return t=""!==s.def?e:e-1,void 0===at||t<at?t:at}function P(t,e){var n=y();if(t>=n)return n;for(var a=t;++a<n&&(e===!0&&(p(a).newBlockMarker!==!0||!b(a))||e!==!0&&!b(a)&&(i.nojumps!==!0||i.nojumpsThreshold>a)););return a}function _(t,e){var i=t;if(i<=0)return 0;for(;--i>0&&(e===!0&&p(i).newBlockMarker!==!0||e!==!0&&!b(i)););return i}function S(t){return void 0===a().validPositions[t]?I(t):a().validPositions[t].input}function E(t,e,n,a,r){if(a&&$.isFunction(i.onBeforeWrite)){var s=i.onBeforeWrite.call(t,a,e,n,i);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;v(l===!0?l:l.start,l.end,s.buffer||e),o(!0),e=m()}n=void 0!==s.caret?s.caret:n}}t.inputmask._valueSet(e.join("")),void 0===n||void 0!==a&&"blur"===a.type||x(t,n),r===!0&&(lt=!0,$(t).trigger("input"))}function I(t,e){if(e=e||p(t),void 0!==e.placeholder)return e.placeholder;if(null===e.fn){if(!i.keepStatic&&void 0===a().validPositions[t]){for(var n,o=d(t),r=!1,s=0;s<o.length;s++){if(n&&""!==o[s].match.def&&o[s].match.def!==n.match.def&&(void 0===o[s].alternation||o[s].alternation===n.alternation)){r=!0;break}o[s].match.optionality!==!0&&o[s].match.optionalQuantifier!==!0&&(n=o[s])}if(r)return i.placeholder.charAt(t%i.placeholder.length)}return e.def}return i.placeholder.charAt(t%i.placeholder.length)}function C(t,e,n,s){function l(){var t=!1,e=f().slice(d,P(d)).join("").indexOf(c);if(e!==-1&&!b(d)){t=!0;for(var i=f().slice(d,d+e),n=0;n<i.length;n++)if(" "!==i[n]){t=!1;break}}return t}var p=void 0!==s?s.slice():t.inputmask._valueGet().split(""),c="",d=0;if(o(),a().p=P(-1),e&&t.inputmask._valueSet(""),!n)if(i.autoUnmask!==!0){var v=f().slice(0,P(-1)).join(""),h=p.join("").match(new RegExp("^"+Inputmask.escapeRegex(v),"g"));h&&h.length>0&&(p.splice(0,h.length*v.length),d=P(d))}else d=P(d);$.each(p,function(e,o){var s=$.Event("keypress");s.which=o.charCodeAt(0),c+=o;var p=r(void 0,!0),f=a().validPositions[p],m=u(p+1,f?f.locator.slice():void 0,p);if(!l()||n||i.autoUnmask){var v=n?e:null==m.match.fn&&m.match.optionality&&p+1<a().p?p+1:a().p;F.call(t,s,!0,!1,n,v),d=v+1,c=""}else F.call(t,s,!0,!1,!0,p+1)}),e&&E(t,m(),document.activeElement===t?P(r(0)):void 0,$.Event("checkval"))}function O(t){if(t[0].inputmask&&!t.hasClass("hasDatepicker")){var e=[],n=a().validPositions;for(var o in n)n[o].match&&null!=n[o].match.fn&&e.push(n[o].input);var r=0===e.length?null:(rt?e.reverse():e).join("");if(null!==r){var s=(rt?m().slice().reverse():m()).join("");$.isFunction(i.onUnMask)&&(r=i.onUnMask.call(t,s,r,i)||r)}return r}return t[0].inputmask._valueGet()}function x(t,e,n){function a(t){if(rt&&"number"==typeof t&&(!i.greedy||""!==i.placeholder)){var e=m().join("").length;t=e-t}return t}var o;if("number"!=typeof e)return t.setSelectionRange?(e=t.selectionStart,n=t.selectionEnd):window.getSelection?(o=window.getSelection().getRangeAt(0),o.commonAncestorContainer.parentNode!==t&&o.commonAncestorContainer!==t||(e=o.startOffset,n=o.endOffset)):document.selection&&document.selection.createRange&&(o=document.selection.createRange(),e=0-o.duplicate().moveStart("character",-1e5),n=e+o.text.length),{begin:a(e),end:a(n)};if(e=a(e),n=a(n),n="number"==typeof n?n:e,$(t).is(":visible")){var r=t.style.fontSize.replace("px","")*n;if(t.scrollLeft=r>t.scrollWidth?r:0,androidchrome||i.insertMode!==!1||e!==n||n++,t.setSelectionRange)t.selectionStart=e,t.selectionEnd=n;else if(window.getSelection){if(o=document.createRange(),void 0===t.firstChild){var s=document.createTextNode("");t.appendChild(s)}o.setStart(t.firstChild,e<t.inputmask._valueGet().length?e:t.inputmask._valueGet().length),o.setEnd(t.firstChild,n<t.inputmask._valueGet().length?n:t.inputmask._valueGet().length),o.collapse(!0);var l=window.getSelection();l.removeAllRanges(),l.addRange(o)}else t.createTextRange&&(o=t.createTextRange(),o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",e),o.select())}}function A(t){var e,i,n=m(),o=n.length,s=r(),l={},p=a().validPositions[s],c=void 0!==p?p.locator.slice():void 0;for(e=s+1;e<n.length;e++)i=u(e,c,e-1),c=i.locator.slice(),l[e]=$.extend(!0,{},i);var f=p&&void 0!==p.alternation?p.locator[p.alternation]:void 0;for(e=o-1;e>s&&(i=l[e],(i.match.optionality||i.match.optionalQuantifier||f&&(f!==l[e].locator[p.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[p.alternation]&&k(i.locator[p.alternation].toString().split(","),f.toString().split(","))&&""!==d(e)[0].def))&&n[e]===I(e,i.match));e--)o--;return t?{l:o,def:l[o]?l[o].match:void 0}:o}function w(t){for(var e=A(),i=t.length-1;i>e&&!b(i);i--);return t.splice(e,i+1-e),t}function M(t){if($.isFunction(i.isComplete))return i.isComplete.call(nt,t,i);if("*"!==i.repeat){var e=!1,n=A(!0),o=_(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){e=!0;for(var r=0;r<=o;r++){var s=u(r).match;if(null!==s.fn&&void 0===a().validPositions[r]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null===s.fn&&t[r]!==I(r,s)){e=!1;break}}}return e}}function T(t,e){return rt?t-e>1||t-e===1&&i.insertMode:e-t>1||e-t===1&&i.insertMode}function D(t){var e=$._data(t).events,n=!1;$.each(e,function(t,e){$.each(e,function(t,e){if("inputmask"===e.namespace){var a=e.handler;e.handler=function(t){if(void 0===this.inputmask){var e=$.data(this,"_inputmask_opts");e?new Inputmask(e).mask(this):$(this).unbind(".inputmask")}else{if("setvalue"===t.type||!(this.disabled||this.readOnly&&!("keydown"===t.type&&t.ctrlKey&&67===t.keyCode||i.tabThrough===!1&&t.keyCode===Inputmask.keyCode.TAB))){switch(t.type){case"input":if(lt===!0||n===!0)return lt=!1,t.preventDefault();break;case"keydown":st=!1,n=!1;break;case"keypress":if(st===!0)return t.preventDefault();st=!0;break;case"compositionstart":n=!0;break;case"compositionupdate":lt=!0;break;case"compositionend":n=!1}return a.apply(this,arguments)}t.preventDefault()}}}})})}function j(t){function e(t){if($.valHooks&&void 0===$.valHooks[t]||$.valHooks[t].inputmaskpatch!==!0){var e=$.valHooks[t]&&$.valHooks[t].get?$.valHooks[t].get:function(t){return t.value},i=$.valHooks[t]&&$.valHooks[t].set?$.valHooks[t].set:function(t,e){return t.value=e,t};$.valHooks[t]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var i=e(t),n=t.inputmask.maskset,a=n._buffer;return a=a?a.join(""):"",i!==a?i:""}return e(t)},set:function(t,e){var n,a=$(t);return n=i(t,e),t.inputmask&&a.triggerHandler("setvalue.inputmask"),n},inputmaskpatch:!0}}}function i(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():o.call(this)!==f().join("")?o.call(this):"":o.call(this)}function n(t){r.call(this,t),this.inputmask&&$(this).triggerHandler("setvalue.inputmask")}function a(t){$(t).bind("mouseenter.inputmask",function(t){var e=$(this),i=this,n=i.inputmask._valueGet();""!==n&&n!==m().join("")&&e.triggerHandler("setvalue.inputmask")});var e=$._data(t).events,i=e.mouseover;if(i){for(var n=i[i.length-1],a=i.length-1;a>0;a--)i[a]=i[a-1];i[0]=n}}var o,r;t.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===t.value?(o=function(){return this.textContent},r=function(t){this.textContent=t},Object.defineProperty(t,"value",{get:i,set:n})):document.__lookupGetter__&&t.__lookupGetter__("value")?(o=t.__lookupGetter__("value"),r=t.__lookupSetter__("value"),t.__defineGetter__("value",i),t.__defineSetter__("value",n)):(o=function(){return t.value},r=function(e){t.value=e},e(t.type),a(t)),t.inputmask.__valueGet=o,t.inputmask._valueGet=function(t){return rt&&t!==!0?o.call(this.el).split("").reverse().join(""):o.call(this.el)},t.inputmask.__valueSet=r,t.inputmask._valueSet=function(t,e){r.call(this.el,e!==!0&&rt?t.split("").reverse().join(""):t)})}function G(t,e,n,s){function p(){if(i.keepStatic){o(!0);var e,n=[],s=$.extend(!0,{},a().validPositions);for(e=r();e>=0;e--){var l=a().validPositions[e];if(l&&(null!=l.match.fn&&n.push(l.input),delete a().validPositions[e],void 0!==l.alternation&&l.locator[l.alternation]===u(e).locator[l.alternation]))break}if(e>-1)for(;n.length>0;){a().p=P(r());var p=$.Event("keypress");p.which=n.pop().charCodeAt(0),F.call(t,p,!0,!1,!1,a().p)}else a().validPositions=$.extend(!0,{},s)}}if((i.numericInput||rt)&&(e===Inputmask.keyCode.BACKSPACE?e=Inputmask.keyCode.DELETE:e===Inputmask.keyCode.DELETE&&(e=Inputmask.keyCode.BACKSPACE),rt)){var c=n.end;n.end=n.begin,n.begin=c}e===Inputmask.keyCode.BACKSPACE&&(n.end-n.begin<1||i.insertMode===!1)?(n.begin=_(n.begin),void 0===a().validPositions[n.begin]||a().validPositions[n.begin].input!==i.groupSeparator&&a().validPositions[n.begin].input!==i.radixPoint||n.begin--):e===Inputmask.keyCode.DELETE&&n.begin===n.end&&(n.end=b(n.end)?n.end+1:P(n.end)+1,void 0===a().validPositions[n.begin]||a().validPositions[n.begin].input!==i.groupSeparator&&a().validPositions[n.begin].input!==i.radixPoint||n.end++),l(n.begin,n.end,!1,s),s!==!0&&p();var d=r(n.begin);d<n.begin?(d===-1&&o(),a().p=P(d)):s!==!0&&(a().p=n.begin)}function B(t){var e=this,n=$(e),o=t.keyCode,s=x(e);o===Inputmask.keyCode.BACKSPACE||o===Inputmask.keyCode.DELETE||iphone&&127===o||t.ctrlKey&&88===o&&!isInputEventSupported("cut")?(t.preventDefault(),88===o&&(X=m().join("")),G(e,o,s),E(e,m(),a().p,t,X!==m().join("")),e.inputmask._valueGet()===f().join("")?n.trigger("cleared"):M(m())===!0&&n.trigger("complete"),i.showTooltip&&n.prop("title",a().mask)):o===Inputmask.keyCode.END||o===Inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var n=P(r());i.insertMode||n!==y()||t.shiftKey||n--,x(e,t.shiftKey?s.begin:n,n)},0):o===Inputmask.keyCode.HOME&&!t.shiftKey||o===Inputmask.keyCode.PAGE_UP?x(e,0,t.shiftKey?s.begin:0):(i.undoOnEscape&&o===Inputmask.keyCode.ESCAPE||90===o&&t.ctrlKey)&&t.altKey!==!0?(C(e,!0,!1,X.split("")),n.click()):o!==Inputmask.keyCode.INSERT||t.shiftKey||t.ctrlKey?i.tabThrough===!0&&o===Inputmask.keyCode.TAB?(t.shiftKey===!0?(null===p(s.begin).fn&&(s.begin=P(s.begin)),s.end=_(s.begin,!0),s.begin=_(s.end,!0)):(s.begin=P(s.begin,!0),s.end=P(s.begin,!0),s.end<y()&&s.end--),s.begin<y()&&(t.preventDefault(),x(e,s.begin,s.end))):i.insertMode!==!1||t.shiftKey||(o===Inputmask.keyCode.RIGHT?setTimeout(function(){var t=x(e);x(e,t.begin)},0):o===Inputmask.keyCode.LEFT&&setTimeout(function(){var t=x(e);x(e,rt?t.begin+1:t.begin-1)},0)):(i.insertMode=!i.insertMode,x(e,i.insertMode||s.begin!==y()?s.begin:s.begin-1)),i.onKeyDown.call(this,t,m(),x(e).begin,i),ut=$.inArray(o,i.ignorables)!==-1}function F(t,e,n,r,l){var u=this,p=$(u),c=t.which||t.charCode||t.keyCode;if(!(e===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||ut))return c===Inputmask.keyCode.ENTER&&X!==m().join("")&&setTimeout(function(){p.change(),X=m().join("")},0),!0;if(c){46===c&&t.shiftKey===!1&&","===i.radixPoint&&(c=44);var f,h=e?{begin:l,end:l}:x(u),k=String.fromCharCode(c),b=T(h.begin,h.end);b&&(a().undoPositions=$.extend(!0,{},a().validPositions),G(u,Inputmask.keyCode.DELETE,h,!0),h.begin=a().p,i.insertMode||(i.insertMode=!i.insertMode,s(h.begin,r),i.insertMode=!i.insertMode),b=!i.multi),a().writeOutBuffer=!0;var y=rt&&!b?h.end:h.begin,S=g(y,k,r);if(S!==!1){if(S!==!0&&(y=void 0!==S.pos?S.pos:y,k=void 0!==S.c?S.c:k),o(!0),void 0!==S.caret)f=S.caret;else{var I=a().validPositions;f=!i.keepStatic&&(void 0!==I[y+1]&&d(y+1,I[y].locator.slice(),y).length>1||void 0!==I[y].alternation)?y+1:P(y)}a().p=f}if(n!==!1){var C=this;if(setTimeout(function(){i.onKeyValidation.call(C,S,i)},0),a().writeOutBuffer&&S!==!1){var O=m();E(u,O,e?void 0:i.numericInput?_(f):f,t,e!==!0),e!==!0&&setTimeout(function(){M(O)===!0&&p.trigger("complete")},0)}else b&&(a().buffer=void 0,a().validPositions=a().undoPositions)}else b&&(a().buffer=void 0,a().validPositions=a().undoPositions);if(i.showTooltip&&p.prop("title",a().mask),e&&$.isFunction(i.onBeforeWrite)){var A=i.onBeforeWrite.call(this,t,m(),f,i);if(A&&A.refreshFromBuffer){var w=A.refreshFromBuffer;v(w===!0?w:w.start,w.end,A.buffer),o(!0),A.caret&&(a().p=A.caret)}}if(t.preventDefault(),e)return S}}function R(t){var e=this,n=$(e),a=e.inputmask._valueGet(!0),o=x(e);if("propertychange"===t.type&&e.inputmask._valueGet().length<=y())return!0;if("paste"===t.type){var r=a.substr(0,o.begin),s=a.substr(o.end,a.length);r===f().slice(0,o.begin).join("")&&(r=""),s===f().slice(o.end).join("")&&(s=""),window.clipboardData&&window.clipboardData.getData?a=r+window.clipboardData.getData("Text")+s:t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(a=r+t.originalEvent.clipboardData.getData("text/plain")+s)}var l=a;if($.isFunction(i.onBeforePaste)){if(l=i.onBeforePaste.call(e,a,i),l===!1)return t.preventDefault(),!1;l||(l=a)}return C(e,!1,!1,rt?l.split("").reverse():l.toString().split("")),E(e,m(),void 0,t,!0),n.click(),M(m())===!0&&n.trigger("complete"),!1}function L(t){var e=this;C(e,!0,!1),M(m())===!0&&$(e).trigger("complete"),t.preventDefault()}function N(t){var e=this;X=m().join(""),""!==et&&0===t.originalEvent.data.indexOf(et)||(tt=x(e))}function K(t){var e=this,n=x(e);0===t.originalEvent.data.indexOf(et)&&(o(),n=tt);var r=t.originalEvent.data;x(e,n.begin,n.end);for(var s=0;s<r.length;s++){var l=$.Event("keypress");l.which=r.charCodeAt(s),st=!1,ut=!1,F.call(e,l)}setTimeout(function(){var t=a().p;E(e,m(),i.numericInput?_(t):t)},0),et=t.originalEvent.data}function H(t){}function U(t){var e=this,n=e.inputmask._valueGet();e.inputmask._valueSet($.isFunction(i.onBeforeMask)?i.onBeforeMask.call(e,n,i)||n:n),C(e,!0,!1),X=m().join(""),(i.clearMaskOnLostFocus||i.clearIncomplete)&&e.inputmask._valueGet()===f().join("")&&e.inputmask._valueSet("")}function W(t){var e=this,n=e.inputmask._valueGet();i.showMaskOnFocus&&(!i.showMaskOnHover||i.showMaskOnHover&&""===n)?e.inputmask._valueGet()!==m().join("")&&E(e,m(),P(r())):pt===!1&&x(e,P(r())),i.positionCaretOnTab===!0&&setTimeout(function(){x(e,P(r()))},0),X=m().join("")}function Q(t){var e=$(this),n=this;if(pt=!1,i.clearMaskOnLostFocus){var a=m().slice(),o=n.inputmask._valueGet();document.activeElement!==n&&o!==e.attr("placeholder")&&""!==o&&(r()===-1&&o===f().join("")?a=[]:w(a),E(n,a))}}function q(t){function e(t){if(i.radixFocus&&""!==i.radixPoint){var e=a().validPositions;if(void 0===e[t]||e[t].input===I(t)){if(t<P(-1))return!0;var n=$.inArray(i.radixPoint,m());if(n!==-1){for(var o in e)if(n<o&&e[o].input!==I(o))return!1;return!0}}}return!1}var n=this;if(document.activeElement===n){var o=x(n);if(o.begin===o.end)if(e(o.begin))x(n,$.inArray(i.radixPoint,m()));else{var s=o.begin,l=P(r(s));s<l?x(n,b(s)||b(s-1)?s:P(s)):x(n,i.numericInput?0:l)}}}function V(t){var e=this;setTimeout(function(){x(e,0,P(r()))},0)}function z(t){lt=!0;var e=this,n=$(e),o=x(e);if(rt){var r=window.clipboardData||t.originalEvent.clipboardData,s=r.getData("text").split("").reverse().join("");r.setData("text",s)}G(e,Inputmask.keyCode.DELETE,o),E(e,m(),a().p,t,X!==m().join("")),e.inputmask._valueGet()===f().join("")&&n.trigger("cleared"),i.showTooltip&&(e.title=a().mask);
}function Z(t){var e=$(this),n=this;if(n.inputmask){var a=n.inputmask._valueGet(),s=m().slice();X!==s.join("")&&setTimeout(function(){e.change(),X=s.join("")},0),""!==a&&(i.clearMaskOnLostFocus&&(r()===-1&&a===f().join("")?s=[]:w(s)),M(s)===!1&&(setTimeout(function(){e.trigger("incomplete")},0),i.clearIncomplete&&(o(),s=i.clearMaskOnLostFocus?[]:f().slice())),E(n,s,void 0,t))}}function J(t){var e=this;pt=!0,document.activeElement!==e&&i.showMaskOnHover&&e.inputmask._valueGet()!==m().join("")&&E(e,m())}function Y(t){nt=$(t),i.showTooltip&&nt.prop("title",a().mask),("rtl"===t.dir||i.rightAlign)&&(t.style.textAlign="right"),("rtl"===t.dir||i.numericInput)&&(t.dir="ltr",t.removeAttribute("dir"),t.inputmask.isRTL=!0,rt=!0),nt.unbind(".inputmask"),("INPUT"===t.tagName&&isInputTypeSupported(t.getAttribute("type"))||t.isContentEditable)&&(nt.closest("form").bind("submit",function(){X!==m().join("")&&nt.change(),i.clearMaskOnLostFocus&&r()===-1&&t.inputmask._valueGet&&t.inputmask._valueGet()===f().join("")&&t.inputmask._valueSet(""),i.removeMaskOnSubmit&&(t.inputmask._valueSet(t.inputmask.unmaskedvalue(),!0),setTimeout(function(){E(t,m())},0))}).bind("reset",function(){setTimeout(function(){nt.triggerHandler("setvalue.inputmask")},0)}),nt.bind("mouseenter.inputmask",J).bind("blur.inputmask",Z).bind("focus.inputmask",W).bind("mouseleave.inputmask",Q).bind("click.inputmask",q).bind("dblclick.inputmask",V).bind(PasteEventType+".inputmask dragdrop.inputmask drop.inputmask",R).bind("cut.inputmask",z).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared).bind("keydown.inputmask",B).bind("keypress.inputmask",F),androidfirefox||nt.bind("compositionstart.inputmask",N).bind("compositionupdate.inputmask",K).bind("compositionend.inputmask",H),"paste"===PasteEventType&&nt.bind("input.inputmask",L)),nt.bind("setvalue.inputmask",U),j(t);var e=$.isFunction(i.onBeforeMask)?i.onBeforeMask.call(t,t.inputmask._valueGet(),i)||t.inputmask._valueGet():t.inputmask._valueGet();C(t,!0,!1,e.split(""));var n=m().slice();X=n.join("");var s;try{s=document.activeElement}catch(l){}M(n)===!1&&i.clearIncomplete&&o(),i.clearMaskOnLostFocus&&(n.join("")===f().join("")?n=[]:w(n)),E(t,n),s===t&&x(t,P(r())),D(t)}var X,tt,et,it,nt,at,ot,rt=!1,st=!1,lt=!1,ut=!1,pt=!0;if(void 0!==t)switch(t.action){case"isComplete":return it=t.el,nt=$(it),e=it.inputmask.maskset,i=it.inputmask.opts,M(t.buffer);case"unmaskedvalue":return it=t.el,void 0===it?(nt=$({}),it=nt[0],it.inputmask=new Inputmask,it.inputmask.opts=i,it.inputmask.el=it,it.inputmask.maskset=e,it.inputmask.isRTL=i.numericInput,i.numericInput&&(rt=!0),ot=($.isFunction(i.onBeforeMask)?i.onBeforeMask.call(nt,t.value,i)||t.value:t.value).split(""),C(nt,!1,!1,rt?ot.reverse():ot),$.isFunction(i.onBeforeWrite)&&i.onBeforeWrite.call(this,void 0,m(),0,i)):nt=$(it),e=it.inputmask.maskset,i=it.inputmask.opts,rt=it.inputmask.isRTL,O(nt);case"mask":X=m().join(""),Y(t.el);break;case"format":return nt=$({}),nt[0].inputmask=new Inputmask,nt[0].inputmask.opts=i,nt[0].inputmask.el=nt[0],nt[0].inputmask.maskset=e,nt[0].inputmask.isRTL=i.numericInput,i.numericInput&&(rt=!0),ot=($.isFunction(i.onBeforeMask)?i.onBeforeMask.call(nt,t.value,i)||t.value:t.value).split(""),C(nt,!1,!1,rt?ot.reverse():ot),$.isFunction(i.onBeforeWrite)&&i.onBeforeWrite.call(this,void 0,m(),0,i),t.metadata?{value:rt?m().slice().reverse().join(""):m().join(""),metadata:nt.inputmask("getmetadata")}:rt?m().slice().reverse().join(""):m().join("");case"isValid":nt=$({}),nt[0].inputmask=new Inputmask,nt[0].inputmask.opts=i,nt[0].inputmask.el=nt[0],nt[0].inputmask.maskset=e,nt[0].inputmask.isRTL=i.numericInput,i.numericInput&&(rt=!0),ot=t.value.split(""),C(nt,!1,!0,rt?ot.reverse():ot);for(var ct=m(),dt=A(),ft=ct.length-1;ft>dt&&!b(ft);ft--);return ct.splice(dt,ft+1-dt),M(ct)&&t.value===ct.join("");case"getemptymask":return it=t.el,nt=$(it),e=it.inputmask.maskset,i=it.inputmask.opts,f();case"remove":it=t.el,nt=$(it),e=it.inputmask.maskset,i=it.inputmask.opts,it.inputmask._valueSet(O(nt)),nt.unbind(".inputmask");var mt;Object.getOwnPropertyDescriptor&&(mt=Object.getOwnPropertyDescriptor(it,"value")),mt&&mt.get?it.inputmask.__valueGet&&Object.defineProperty(it,"value",{get:it.inputmask.__valueGet,set:it.inputmask.__valueSet}):document.__lookupGetter__&&it.__lookupGetter__("value")&&it.inputmask.__valueGet&&(it.__defineGetter__("value",it.inputmask.__valueGet),it.__defineSetter__("value",it.inputmask.__valueSet)),it.inputmask=void 0;break;case"getmetadata":if(it=t.el,nt=$(it),e=it.inputmask.maskset,i=it.inputmask.opts,$.isArray(e.metadata)){for(var vt,ht=r(),kt=ht;kt>=0;kt--)if(a().validPositions[kt]&&void 0!==a().validPositions[kt].alternation){vt=a().validPositions[kt].alternation;break}return void 0!==vt?e.metadata[a().validPositions[ht].locator[vt]]:e.metadata[0]}return e.metadata}}Inputmask.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:$.noop,onBeforeMask:null,onBeforePaste:null,onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!1,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:[],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:$.noop,postValidation:null},masksCache:{},mask:function(t){var e=$.extend(!0,{},this.opts);importAttributeOptions(t,e,$.extend(!0,{},this.userOptions));var i=generateMaskSet(e,this.noMasksCache);return void 0!==i&&(t.inputmask=t.inputmask||new Inputmask,t.inputmask.opts=e,t.inputmask.noMasksCache=this.noMasksCache,t.inputmask.userOptions=$.extend(!0,{},this.userOptions),t.inputmask.el=t,t.inputmask.maskset=i,t.inputmask.isRTL=!1,$.data(t,"_inputmask_opts",e),maskScope({action:"mask",el:t},i,t.inputmask.opts)),t},option:function(t){return"string"==typeof t?this.opts[t]:"object"==typeof t?($.extend(this.opts,t),$.extend(this.userOptions,t),this):void 0},unmaskedvalue:function(){if(this.el)return maskScope({action:"unmaskedvalue",el:this.el})},remove:function(){if(this.el)return maskScope({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el},getemptymask:function(){if(this.el)return maskScope({action:"getemptymask",el:this.el})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){if(this.el)return maskScope({action:"isComplete",buffer:this.el.inputmask._valueGet().split(""),el:this.el})},getmetadata:function(){if(this.el)return maskScope({action:"getmetadata",el:this.el})}},Inputmask.extendDefaults=function(t){$.extend(Inputmask.prototype.defaults,t)},Inputmask.extendDefinitions=function(t){$.extend(Inputmask.prototype.defaults.definitions,t)},Inputmask.extendAliases=function(t){$.extend(Inputmask.prototype.defaults.aliases,t)},Inputmask.format=function(t,e,i){var n=$.extend(!0,{},Inputmask.prototype.defaults,e);return resolveAlias(n.alias,e,n),maskScope({action:"format",value:t,metadata:i},generateMaskSet(n,e&&void 0!==e.definitions),n)},Inputmask.unmask=function(t,e){var i=$.extend(!0,{},Inputmask.prototype.defaults,e);return resolveAlias(i.alias,e,i),maskScope({action:"unmaskedvalue",value:t},generateMaskSet(i,e&&void 0!==e.definitions),i)},Inputmask.isValid=function(t,e){var i=$.extend(!0,{},Inputmask.prototype.defaults,e);return resolveAlias(i.alias,e,i),maskScope({action:"isValid",value:t},generateMaskSet(i,e&&void 0!==e.definitions),i)},Inputmask.escapeRegex=function(t){var e=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return t.replace(new RegExp("(\\"+e.join("|\\")+")","gim"),"\\$1")},Inputmask.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var ua=navigator.userAgent,iphone=null!==ua.match(new RegExp("iphone","i")),androidchrome=null!==ua.match(new RegExp("android.*chrome.*","i")),androidfirefox=null!==ua.match(new RegExp("android.*firefox.*","i")),PasteEventType=isInputEventSupported("paste")?"paste":isInputEventSupported("input")?"input":"propertychange";return window.Inputmask=Inputmask,Inputmask});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hc2tlZGlucHV0LmpzIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwicmVxdWlyZSIsIndpbmRvdyIsImRlcGVuZGVuY3lMaWIiLCJqUXVlcnkiLCIkIiwiSW5wdXRtYXNrIiwib3B0aW9ucyIsInRoaXMiLCJlbCIsInVuZGVmaW5lZCIsIm9wdHMiLCJleHRlbmQiLCJkZWZhdWx0cyIsIm5vTWFza3NDYWNoZSIsImRlZmluaXRpb25zIiwidXNlck9wdGlvbnMiLCJyZXNvbHZlQWxpYXMiLCJhbGlhcyIsImlzSW5wdXRFdmVudFN1cHBvcnRlZCIsImV2ZW50TmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImV2TmFtZSIsImlzU3VwcG9ydGVkIiwic2V0QXR0cmlidXRlIiwiaXNJbnB1dFR5cGVTdXBwb3J0ZWQiLCJpbnB1dFR5cGUiLCJ0eXBlIiwiYWxpYXNTdHIiLCJhbGlhc0RlZmluaXRpb24iLCJhbGlhc2VzIiwibWFzayIsImltcG9ydEF0dHJpYnV0ZU9wdGlvbnMiLCJucHQiLCJpbXBvcnRPcHRpb24iLCJvcHRpb24iLCJvcHRpb25EYXRhIiwiZ2V0QXR0cmlidXRlIiwidG9Mb3dlckNhc2UiLCJ0b1N0cmluZyIsImluZGV4T2YiLCJldmFsIiwicmVwbGFjZSIsInNwbGl0IiwibGVuZ3RoIiwiYXR0ck9wdGlvbnMiLCJSZWdFeHAiLCJkYXRhb3B0aW9ucyIsInBhcnNlSlNPTiIsImV4IiwiZ2VuZXJhdGVNYXNrU2V0Iiwibm9jYWNoZSIsImFuYWx5c2VNYXNrIiwiTWFza1Rva2VuIiwiaXNHcm91cCIsImlzT3B0aW9uYWwiLCJpc1F1YW50aWZpZXIiLCJpc0FsdGVybmF0b3IiLCJtYXRjaGVzIiwicXVhbnRpZmllciIsIm1pbiIsIm1heCIsImluc2VydFRlc3REZWZpbml0aW9uIiwibXRva2VuIiwiZWxlbWVudCIsInBvc2l0aW9uIiwibWFza2RlZiIsInByZXZNYXRjaCIsImVzY2FwZWQiLCJwbGFjZWhvbGRlciIsImlzRnVuY3Rpb24iLCJjYWxsIiwicHJldmFsaWRhdG9ycyIsInByZXZhbGlkYXRvciIsInByZXZhbGlkYXRvcnNMIiwiaSIsImNhcmRpbmFsaXR5IiwidmFsaWRhdG9yIiwic3BsaWNlIiwiZm4iLCJ0ZXN0Iiwib3B0aW9uYWxpdHkiLCJuZXdCbG9ja01hcmtlciIsImRlZiIsImRlZmluaXRpb25TeW1ib2wiLCJjYXNpbmciLCJ2ZXJpZnlHcm91cE1hcmtlciIsImxhc3RNYXRjaCIsImlzT3Blbkdyb3VwIiwiZ3JvdXBtYXJrZXIiLCJzdGFydCIsImVuZCIsIm1hc2tDdXJyZW50VG9rZW4iLCJtIiwiY3VycmVudFRva2VuIiwiZXh0cmFDb25kaXRpb24iLCJkZWZhdWx0Q2FzZSIsIm9wZW5lbmluZ3MiLCJjdXJyZW50T3BlbmluZ1Rva2VuIiwiYWx0ZXJuYXRvciIsInBvcCIsIm1uZHgiLCJwdXNoIiwicmV2ZXJzZVRva2VucyIsIm1hc2tUb2tlbiIsInJldmVyc2VTdGF0aWMiLCJzdCIsIm9wdGlvbmFsbWFya2VyIiwicmV2ZXJzZSIsIm1hdGNoIiwiaW50TWF0Y2giLCJwYXJzZUludCIsInF0Iiwib3BlbmluZ1Rva2VuIiwiZ3JvdXBUb2tlbiIsInRva2VuaXplciIsIm1hc2tUb2tlbnMiLCJleGVjIiwiY2hhckF0IiwiZXNjYXBlQ2hhciIsInF1YW50aWZpZXJtYXJrZXIiLCJtcSIsIm1xMCIsImlzTmFOIiwibXExIiwiYWx0ZXJuYXRvcm1hcmtlciIsIm51bWVyaWNJbnB1dCIsImdlbmVyYXRlTWFzayIsIm1ldGFkYXRhIiwiZ3JlZWR5IiwicmVwZWF0IiwicmVwZWF0U3RhcnQiLCJtYXNrc2V0RGVmaW5pdGlvbiIsInByb3RvdHlwZSIsIm1hc2tzQ2FjaGUiLCJ2YWxpZFBvc2l0aW9ucyIsIl9idWZmZXIiLCJidWZmZXIiLCJ0ZXN0cyIsImpvaW4iLCJwcmVQcm9jZXNzTWFzayIsIm1zIiwiaXNBcnJheSIsImtlZXBTdGF0aWMiLCJhbHRNYXNrIiwiZWFjaCIsIm5keCIsIm1zayIsIm1hc2tTY29wZSIsImFjdGlvbk9iaiIsIm1hc2tzZXQiLCJnZXRNYXNrVGVtcGxhdGUiLCJiYXNlT25JbnB1dCIsIm1pbmltYWxQb3MiLCJpbmNsdWRlSW5wdXQiLCJuZHhJbnRsenIiLCJ0ZXN0UG9zIiwibWFza1RlbXBsYXRlIiwicG9zIiwiZ2V0TWFza1NldCIsInZhbGlkUG9zIiwibG9jYXRvciIsInNsaWNlIiwiaW5wdXQiLCJnZXRQbGFjZWhvbGRlciIsImdldFRlc3RUZW1wbGF0ZSIsIm1heExlbmd0aCIsInJlc2V0TWFza1NldCIsInNvZnQiLCJwIiwiZ2V0TGFzdFZhbGlkUG9zaXRpb24iLCJjbG9zZXN0VG8iLCJzdHJpY3QiLCJsYXN0VmFsaWRQb3NpdGlvbiIsInZhbGlkcyIsImJlZm9yZSIsImFmdGVyIiwicG9zTmR4IiwicHNOZHgiLCJzZXRWYWxpZFBvc2l0aW9uIiwidmFsaWRUZXN0IiwiZnJvbVNldFZhbGlkIiwiaW5zZXJ0TW9kZSIsInBvc2l0aW9uc0Nsb25lIiwibHZwIiwiaiIsInZhbGlkIiwidnBzIiwidCIsInBvc01hdGNoIiwicHJldlBvc01hdGNoIiwiZ2V0TWFza0xlbmd0aCIsIm9wdGlvbmFsUXVhbnRpZmllciIsImdldFRlc3RzIiwiYWx0ZXJuYXRpb24iLCJzZWVrTmV4dCIsInBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uIiwiaXNWYWxpZCIsInN0cmlwVmFsaWRQb3NpdGlvbnMiLCJub2NoZWNrIiwic3RhcnRQb3MiLCJjYW5DbGVhclBvc2l0aW9uIiwicyIsImlzTWFzayIsIm1sIiwicmFkaXhQb2ludCIsInRzdFBzIiwidGVzdFBvc2l0aW9ucyIsImx2VGVzdCIsImx2VGVzdEFsdEFyciIsImNoZWNrQWx0ZXJuYXRpb25NYXRjaCIsImdldFRlc3QiLCJ0bmR4IiwiY2FjaGVhYmxlIiwicmVzb2x2ZVRlc3RGcm9tVG9rZW4iLCJuZHhJbml0aWFsaXplciIsImxvb3BOZHgiLCJxdWFudGlmaWVyUmVjdXJzZSIsImhhbmRsZU1hdGNoIiwiaW5BcnJheSIsIm9wdGlvbmFsVG9rZW4iLCJsYXRlc3RNYXRjaCIsImlzRmlyc3RNYXRjaCIsImluc2VydFN0b3AiLCJtYWx0TWF0Y2hlcyIsImFsdGVybmF0ZVRva2VuIiwibWFsdGVybmF0ZU1hdGNoZXMiLCJjdXJyZW50TWF0Y2hlcyIsImxvb3BOZHhDbnQiLCJhbHRJbmRleCIsInNoaWZ0IiwiY3VycmVudFBvcyIsIm5keEluaXRpYWxpemVyQ2xvbmUiLCJhbHRJbmRleEFyciIsImFtbmR4IiwiY29uY2F0IiwibnRuZHgiLCJsbW50IiwibmR4MSIsImFsdE1hdGNoIiwibmR4MiIsImFsdE1hdGNoMiIsIm1hcCIsImlzRmluaXRlIiwibWFtYXRjaCIsImFsdExvY0FyciIsImFsbmR4IiwicW5keCIsInRva2VuR3JvdXAiLCJwcmV2aW91c1BvcyIsIm10bmR4IiwiZ2V0QnVmZmVyVGVtcGxhdGUiLCJnZXRCdWZmZXIiLCJyZWZyZXNoRnJvbUJ1ZmZlciIsInNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIiLCJlbGVtIiwidG9VcHBlckNhc2UiLCJhbHRBcnIxIiwiYWx0QXJyMiIsImFsdEFyckMiLCJpc01hdGNoIiwiYyIsIl9pc1ZhbGlkIiwicnNsdCIsInRzdCIsImxvb3BlbmQiLCJjaHJzIiwiZ2V0QnVmZmVyRWxlbWVudCIsInZhbGlkYXRlZFBvcyIsInBvc3NpYmxlTW9kaWZpZWRCdWZmZXIiLCJyZW1vdmUiLCJzb3J0IiwiYSIsImIiLCJpbnNlcnQiLCJyZWZyZXNoIiwiYWx0ZXJuYXRlIiwibGFzdEFsdCIsImlzVmFsaWRSc2x0IiwiYWx0UG9zIiwidmFsaWRQc0Nsb25lIiwibEFsdCIsImRlY2lzaW9uUG9zIiwiYWx0TmR4cyIsImRlY2lzaW9uVGFrZXIiLCJwb3NzaWJpbGl0eVBvcyIsInBvc3NpYmlsaXRpZXMiLCJkcCIsInZhbGlkSW5wdXRzIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zIiwidGFyZ2V0THZwIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlIiwidHJhY2tiYWNrQWx0ZXJuYXRpb25zIiwib3JpZ2luYWxQb3MiLCJuZXdQb3MiLCJ2cCIsInRhcmdldExvY2F0b3IiLCJ0bGwiLCJwcyIsImJlc3RNYXRjaCIsImVxdWFsaXR5IiwicG5keCIsIm1hc2tQb3MiLCJyZXN1bHQiLCJjdXJyZW50UG9zVmFsaWQiLCJuUG9zIiwic25Qb3MiLCJjYXJldCIsImlzQ29tcGxldGUiLCJwb3N0VmFsaWRhdGlvbiIsInBvc3RWYWxpZFJlc3VsdCIsInN0YXRpY0FsdGVybmF0aW9ucyIsIm1hc2tMZW5ndGgiLCIkZWwiLCJwcm9wIiwibGFzdFRlc3QiLCJuZXdCbG9jayIsIm1hc2tMIiwibm9qdW1wcyIsIm5vanVtcHNUaHJlc2hvbGQiLCJzZWVrUHJldmlvdXMiLCJ3cml0ZUJ1ZmZlciIsImNhcmV0UG9zIiwiZXZlbnQiLCJ0cmlnZ2VySW5wdXRFdmVudCIsIm9uQmVmb3JlV3JpdGUiLCJpbnB1dG1hc2siLCJfdmFsdWVTZXQiLCJza2lwSW5wdXRFdmVudCIsInRyaWdnZXIiLCJwcmV2VGVzdCIsImhhc0FsdGVybmF0aW9ucyIsImNoZWNrVmFsIiwid3JpdGVPdXQiLCJucHR2bCIsImlzVGVtcGxhdGVNYXRjaCIsImNoYXJDb2RlTmR4IiwiaW5pdGlhbE5keCIsImNoYXJDb2RlcyIsImJ1ZmZlclRlbXBsYXRlQXJyIiwiaW5wdXRWYWx1ZSIsIl92YWx1ZUdldCIsImF1dG9Vbm1hc2siLCJzdGF0aWNJbnB1dCIsImVzY2FwZVJlZ2V4IiwiY2hhckNvZGUiLCJrZXlwcmVzcyIsIkV2ZW50Iiwid2hpY2giLCJjaGFyQ29kZUF0IiwibmV4dFRlc3QiLCJrZXlwcmVzc0V2ZW50IiwiYWN0aXZlRWxlbWVudCIsInVubWFza2VkdmFsdWUiLCIkaW5wdXQiLCJoYXNDbGFzcyIsInVtVmFsdWUiLCJ1bm1hc2tlZFZhbHVlIiwiaXNSVEwiLCJidWZmZXJWYWx1ZSIsIm9uVW5NYXNrIiwiYmVnaW4iLCJ0cmFuc2xhdGVQb3NpdGlvbiIsImJmZnJMZ2h0IiwicmFuZ2UiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiZ2V0U2VsZWN0aW9uIiwiZ2V0UmFuZ2VBdCIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwicGFyZW50Tm9kZSIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0Iiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiLCJtb3ZlU3RhcnQiLCJ0ZXh0IiwiaXMiLCJzY3JvbGxDYWxjIiwic3R5bGUiLCJmb250U2l6ZSIsInNjcm9sbExlZnQiLCJzY3JvbGxXaWR0aCIsImFuZHJvaWRjaHJvbWUiLCJmaXJzdENoaWxkIiwidGV4dE5vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwic2V0U3RhcnQiLCJzZXRFbmQiLCJjb2xsYXBzZSIsInNlbCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiY3JlYXRlVGV4dFJhbmdlIiwibW92ZUVuZCIsInNlbGVjdCIsImRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uIiwicmV0dXJuRGVmaW5pdGlvbiIsImJsIiwicG9zaXRpb25zIiwibHZUZXN0QWx0IiwibCIsImNsZWFyT3B0aW9uYWxUYWlsIiwicmwiLCJsbWliIiwiY29tcGxldGUiLCJscnAiLCJhbWwiLCJpc1NlbGVjdGlvbiIsImluc3RhbGxFdmVudFJ1bGVyIiwiZXZlbnRzIiwiX2RhdGEiLCJpbkNvbXBvc2l0aW9uIiwiZXZlbnRUeXBlIiwiZXZlbnRIYW5kbGVycyIsImV2ZW50SGFuZGxlciIsIm5hbWVzcGFjZSIsImhhbmRsZXIiLCJlIiwiaW1PcHRzIiwiZGF0YSIsInVuYmluZCIsImRpc2FibGVkIiwicmVhZE9ubHkiLCJjdHJsS2V5Iiwia2V5Q29kZSIsInRhYlRocm91Z2giLCJUQUIiLCJwcmV2ZW50RGVmYXVsdCIsInNraXBLZXlQcmVzc0V2ZW50IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJwYXRjaFZhbHVlUHJvcGVydHkiLCJwYXRjaFZhbGhvb2siLCJ2YWxIb29rcyIsImlucHV0bWFza3BhdGNoIiwidmFsaG9va0dldCIsImdldCIsInZhbHVlIiwidmFsaG9va1NldCIsInNldCIsImJ1ZmZlclRlbXBsYXRlIiwiJGVsZW0iLCJ0cmlnZ2VySGFuZGxlciIsImdldHRlciIsInZhbHVlR2V0Iiwic2V0dGVyIiwidmFsdWVTZXQiLCJpbnN0YWxsTmF0aXZlVmFsdWVTZXRGYWxsYmFjayIsImJpbmQiLCJoYW5kbGVycyIsIm1vdXNlb3ZlciIsIm91ckhhbmRsZXIiLCJfX3ZhbHVlR2V0IiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidGV4dENvbnRlbnQiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fbG9va3VwR2V0dGVyX18iLCJfX2xvb2t1cFNldHRlcl9fIiwiX19kZWZpbmVHZXR0ZXJfXyIsIl9fZGVmaW5lU2V0dGVyX18iLCJvdmVycnVsZVJUTCIsIl9fdmFsdWVTZXQiLCJoYW5kbGVSZW1vdmUiLCJrIiwiZ2VuZXJhbGl6ZSIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsInBlbmQiLCJncm91cFNlcGFyYXRvciIsImtleWRvd25FdmVudCIsImlwaG9uZSIsInVuZG9WYWx1ZSIsInNob3dUb29sdGlwIiwiRU5EIiwiUEFHRV9ET1dOIiwic2V0VGltZW91dCIsInNoaWZ0S2V5IiwiSE9NRSIsIlBBR0VfVVAiLCJ1bmRvT25Fc2NhcGUiLCJFU0NBUEUiLCJhbHRLZXkiLCJjbGljayIsIklOU0VSVCIsIlJJR0hUIiwiTEVGVCIsIm9uS2V5RG93biIsImlnbm9yYWJsZSIsImlnbm9yYWJsZXMiLCJjaGVja3ZhbCIsIm1ldGFLZXkiLCJFTlRFUiIsImNoYW5nZSIsImZvcndhcmRQb3NpdGlvbiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImlzU2xjdG4iLCJ1bmRvUG9zaXRpb25zIiwibXVsdGkiLCJ3cml0ZU91dEJ1ZmZlciIsInZhbFJlc3VsdCIsInNlbGYiLCJvbktleVZhbGlkYXRpb24iLCJwYXN0ZUV2ZW50IiwidmFsdWVCZWZvcmVDYXJldCIsInN1YnN0ciIsInZhbHVlQWZ0ZXJDYXJldCIsImNsaXBib2FyZERhdGEiLCJnZXREYXRhIiwib3JpZ2luYWxFdmVudCIsInBhc3RlVmFsdWUiLCJvbkJlZm9yZVBhc3RlIiwiaW5wdXRGYWxsQmFja0V2ZW50IiwiY29tcG9zaXRpb25TdGFydEV2ZW50IiwiY29tcG9zaXRpb25EYXRhIiwiY29tcG9zaXRpb25DYXJldFBvcyIsImNvbXBvc2l0aW9uVXBkYXRlRXZlbnQiLCJuZXdEYXRhIiwiY29tcG9zaXRpb25FbmRFdmVudCIsInNldFZhbHVlRXZlbnQiLCJvbkJlZm9yZU1hc2siLCJjbGVhck1hc2tPbkxvc3RGb2N1cyIsImNsZWFySW5jb21wbGV0ZSIsImZvY3VzRXZlbnQiLCJucHRWYWx1ZSIsInNob3dNYXNrT25Gb2N1cyIsInNob3dNYXNrT25Ib3ZlciIsIm1vdXNlRW50ZXIiLCJwb3NpdGlvbkNhcmV0T25UYWIiLCJtb3VzZWxlYXZlRXZlbnQiLCJhdHRyIiwiY2xpY2tFdmVudCIsImRvUmFkaXhGb2N1cyIsImNsaWNrUG9zIiwicmFkaXhGb2N1cyIsInJhZGl4UG9zIiwic2VsZWN0ZWRDYXJldCIsImNsaWNrUG9zaXRpb24iLCJsYXN0UG9zaXRpb24iLCJkYmxjbGlja0V2ZW50IiwiY3V0RXZlbnQiLCJjbGlwRGF0YSIsInNldERhdGEiLCJ0aXRsZSIsImJsdXJFdmVudCIsIm1vdXNlZW50ZXJFdmVudCIsImRpciIsInJpZ2h0QWxpZ24iLCJ0ZXh0QWxpZ24iLCJyZW1vdmVBdHRyaWJ1dGUiLCJ0YWdOYW1lIiwiaXNDb250ZW50RWRpdGFibGUiLCJjbG9zZXN0IiwicmVtb3ZlTWFza09uU3VibWl0IiwiUGFzdGVFdmVudFR5cGUiLCJvbmNvbXBsZXRlIiwib25pbmNvbXBsZXRlIiwib25jbGVhcmVkIiwiYW5kcm9pZGZpcmVmb3giLCJpbml0aWFsVmFsdWUiLCJ2YWx1ZUJ1ZmZlciIsImFjdGlvbiIsInZhbHVlUHJvcGVydHkiLCJmaXJzdEFsdCIsIm5vb3AiLCJzdXBwb3J0c0lucHV0VHlwZSIsIjkiLCIqIiwic2NvcGVkT3B0cyIsImdldGVtcHR5bWFzayIsImhhc01hc2tlZFZhbHVlIiwiZ2V0bWV0YWRhdGEiLCJleHRlbmREZWZhdWx0cyIsImV4dGVuZERlZmluaXRpb25zIiwiZGVmaW5pdGlvbiIsImV4dGVuZEFsaWFzZXMiLCJmb3JtYXQiLCJ1bm1hc2siLCJzdHIiLCJzcGVjaWFscyIsIkFMVCIsIkNBUFNfTE9DSyIsIkNPTU1BIiwiQ09NTUFORCIsIkNPTU1BTkRfTEVGVCIsIkNPTU1BTkRfUklHSFQiLCJDT05UUk9MIiwiRE9XTiIsIk1FTlUiLCJOVU1QQURfQUREIiwiTlVNUEFEX0RFQ0lNQUwiLCJOVU1QQURfRElWSURFIiwiTlVNUEFEX0VOVEVSIiwiTlVNUEFEX01VTFRJUExZIiwiTlVNUEFEX1NVQlRSQUNUIiwiUEVSSU9EIiwiU0hJRlQiLCJTUEFDRSIsIlVQIiwiV0lORE9XUyIsInVhIiwibmF2aWdhdG9yIiwidXNlckFnZW50Il0sIm1hcHBpbmdzIjoiQ0FPQyxTQUFVQSxHQUNtQixrQkFBWEMsU0FBeUJBLE9BQU9DLElBQ3ZDRCxRQUFRLGlCQUFrQkQsR0FDQSxnQkFBWkcsU0FDZEMsT0FBT0QsUUFBVUgsRUFBUUssUUFBUSxvQkFFakNMLEVBQVFNLE9BQU9DLGVBQWlCQyxTQUd2QyxTQUFVQyxHQUNQLFFBQVNDLFdBQVVDLEdBQ2ZDLEtBQUtDLEdBQUtDLE9BRVZGLEtBQUtHLEtBQU9OLEVBQUVPLFFBQU8sS0FBVUosS0FBS0ssU0FBVU4sR0FDOUNDLEtBQUtNLGFBQWVQLEdBQW1DRyxTQUF4QkgsRUFBUVEsWUFDdkNQLEtBQUtRLFlBQWNULE1BQ25CVSxhQUFhVCxLQUFLRyxLQUFLTyxNQUFPWCxFQUFTQyxLQUFLRyxNQTZPaEQsUUFBU1EsdUJBQXNCQyxHQUMzQixHQUFJWCxHQUFLWSxTQUFTQyxjQUFjLFNBQzVCQyxFQUFTLEtBQU9ILEVBQ2hCSSxFQUFlRCxJQUFVZCxFQU03QixPQUxLZSxLQUNEZixFQUFHZ0IsYUFBYUYsRUFBUSxXQUN4QkMsRUFBbUMsa0JBQWRmLEdBQUdjLElBRTVCZCxF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Q1IvRyxNQUFPLEdBQ1BnSCxNQUFPLEdBQ1BDLE1BQU8sR0FDUDVLLElBQUssRUFDTDZLLEdBQUksR0FDSkMsUUFBUyxHQTRhYixJQUFJQyxJQUFLQyxVQUFVQyxVQUNmcEksT0FBaUQsT0FBeENrSSxHQUFHaGYsTUFBTSxHQUFJL0QsUUFBTyxTQUFVLE1BRXZDbVYsY0FBbUUsT0FBbkQ0TixHQUFHaGYsTUFBTSxHQUFJL0QsUUFBTyxvQkFBcUIsTUFDekRxZ0IsZUFBcUUsT0FBcEQwQyxHQUFHaGYsTUFBTSxHQUFJL0QsUUFBTyxxQkFBc0IsTUFFM0RpZ0IsZUFBaUI3aEIsc0JBQXNCLFNBQVcsUUFBVUEsc0JBQXNCLFNBQVcsUUFBVSxnQkF5OUQzRyxPQURBakIsUUFBT0ksVUFBWUEsVUFDWkEiLCJmaWxlIjoibWFza2VkaW5wdXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBJbnB1dCBNYXNrIENvcmVcclxuICogaHR0cDovL2dpdGh1Yi5jb20vUm9iaW5IZXJib3RzL2pxdWVyeS5pbnB1dG1hc2tcclxuICogQ29weXJpZ2h0IChjKSAyMDEwIC1cdFJvYmluIEhlcmJvdHNcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuICogVmVyc2lvbjogMC4wLjAtZGV2XHJcbiAqL1xyXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICAgICAgZGVmaW5lKFtcImRlcGVuZGVuY3lMaWJcIl0sIGZhY3RvcnkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09IFwib2JqZWN0XCIpIHtcclxuICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoXCIuL2RlcGVuZGVuY3lMaWJcIikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZhY3Rvcnkod2luZG93LmRlcGVuZGVuY3lMaWIgfHwgalF1ZXJ5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAoZnVuY3Rpb24gKCQpIHtcclxuICAgICAgICBmdW5jdGlvbiBJbnB1dG1hc2sob3B0aW9ucykge1xyXG4gICAgICAgICAgICB0aGlzLmVsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAvL2luaXQgb3B0aW9uc1xyXG4gICAgICAgICAgICB0aGlzLm9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHRoaXMubm9NYXNrc0NhY2hlID0gb3B0aW9ucyAmJiBvcHRpb25zLmRlZmluaXRpb25zICE9PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMudXNlck9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvL3VzZXIgcGFzc2VkIG9wdGlvbnNcclxuICAgICAgICAgICAgcmVzb2x2ZUFsaWFzKHRoaXMub3B0cy5hbGlhcywgb3B0aW9ucywgdGhpcy5vcHRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIElucHV0bWFzay5wcm90b3R5cGUgPSB7XHJcbiAgICAgICAgICAgIC8vb3B0aW9ucyBkZWZhdWx0XHJcbiAgICAgICAgICAgIGRlZmF1bHRzOiB7XHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJfXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25hbG1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIltcIixcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwiXVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcXVhbnRpZmllcm1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBcIntcIixcclxuICAgICAgICAgICAgICAgICAgICBlbmQ6IFwifVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ3JvdXBtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydDogXCIoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBcIilcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGFsdGVybmF0b3JtYXJrZXI6IFwifFwiLFxyXG4gICAgICAgICAgICAgICAgZXNjYXBlQ2hhcjogXCJcXFxcXCIsXHJcbiAgICAgICAgICAgICAgICBtYXNrOiBudWxsLCAvL25lZWRzIHRvYmUgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZCBhcyB0aGUgZXh0ZW5kIG1ldGhvZCBkb2VzIG5vdCBjb25zaWRlciBwcm9wcyB3aXRoIHRoZSB1bmRlZmluZWQgdmFsdWVcclxuICAgICAgICAgICAgICAgIG9uY29tcGxldGU6ICQubm9vcCwgLy9leGVjdXRlcyB3aGVuIHRoZSBtYXNrIGlzIGNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICBvbmluY29tcGxldGU6ICQubm9vcCwgLy9leGVjdXRlcyB3aGVuIHRoZSBtYXNrIGlzIGluY29tcGxldGUgYW5kIGZvY3VzIGlzIGxvc3RcclxuICAgICAgICAgICAgICAgIG9uY2xlYXJlZDogJC5ub29wLCAvL2V4ZWN1dGVzIHdoZW4gdGhlIG1hc2sgaXMgY2xlYXJlZFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0OiAwLCAvL3JlcGV0aXRpb25zIG9mIHRoZSBtYXNrOiAqIH4gZm9yZXZlciwgb3RoZXJ3aXNlIHNwZWNpZnkgYW4gaW50ZWdlclxyXG4gICAgICAgICAgICAgICAgZ3JlZWR5OiB0cnVlLCAvL3RydWU6IGFsbG9jYXRlZCBidWZmZXIgZm9yIHRoZSBtYXNrIGFuZCByZXBldGl0aW9ucyAtIGZhbHNlOiBhbGxvY2F0ZSBvbmx5IGlmIG5lZWRlZFxyXG4gICAgICAgICAgICAgICAgYXV0b1VubWFzazogZmFsc2UsIC8vYXV0b21hdGljYWxseSB1bm1hc2sgd2hlbiByZXRyaWV2aW5nIHRoZSB2YWx1ZSB3aXRoICQuZm4udmFsIG9yIHZhbHVlIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIF9fbG9va3VwR2V0dGVyX18gb3IgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yXHJcbiAgICAgICAgICAgICAgICByZW1vdmVNYXNrT25TdWJtaXQ6IGZhbHNlLCAvL3JlbW92ZSB0aGUgbWFzayBiZWZvcmUgc3VibWl0dGluZyB0aGUgZm9ybS5cclxuICAgICAgICAgICAgICAgIGNsZWFyTWFza09uTG9zdEZvY3VzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgaW5zZXJ0TW9kZTogdHJ1ZSwgLy9pbnNlcnQgdGhlIGlucHV0IG9yIG92ZXJ3cml0ZSB0aGUgaW5wdXRcclxuICAgICAgICAgICAgICAgIGNsZWFySW5jb21wbGV0ZTogZmFsc2UsIC8vY2xlYXIgdGhlIGluY29tcGxldGUgaW5wdXQgb24gYmx1clxyXG4gICAgICAgICAgICAgICAgYWxpYXNlczoge30sIC8vYWxpYXNlcyBkZWZpbml0aW9ucyA9PiBzZWUganF1ZXJ5LmlucHV0bWFzay5leHRlbnNpb25zLmpzXHJcbiAgICAgICAgICAgICAgICBhbGlhczogbnVsbCxcclxuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogJC5ub29wLCAvL2NhbGxiYWNrIHRvIGltcGxlbWVudCBhdXRvY29tcGxldGUgb24gY2VydGFpbiBrZXlzIGZvciBleGFtcGxlLiBhcmdzID0+IGV2ZW50LCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzXHJcbiAgICAgICAgICAgICAgICBvbkJlZm9yZU1hc2s6IG51bGwsIC8vZXhlY3V0ZXMgYmVmb3JlIG1hc2tpbmcgdGhlIGluaXRpYWwgdmFsdWUgdG8gYWxsb3cgcHJlcHJvY2Vzc2luZyBvZiB0aGUgaW5pdGlhbCB2YWx1ZS5cdGFyZ3MgPT4gaW5pdGlhbFZhbHVlLCBvcHRzID0+IHJldHVybiBwcm9jZXNzZWRWYWx1ZVxyXG4gICAgICAgICAgICAgICAgb25CZWZvcmVQYXN0ZTogbnVsbCwgLy9leGVjdXRlcyBiZWZvcmUgbWFza2luZyB0aGUgcGFzdGVkIHZhbHVlIHRvIGFsbG93IHByZXByb2Nlc3Npbmcgb2YgdGhlIHBhc3RlZCB2YWx1ZS5cdGFyZ3MgPT4gcGFzdGVkVmFsdWUsIG9wdHMgPT4gcmV0dXJuIHByb2Nlc3NlZFZhbHVlXHJcbiAgICAgICAgICAgICAgICBvbkJlZm9yZVdyaXRlOiBudWxsLCAvL2V4ZWN1dGVzIGJlZm9yZSB3cml0aW5nIHRvIHRoZSBtYXNrZWQgZWxlbWVudC4gYXJncyA9PiBldmVudCwgb3B0c1xyXG4gICAgICAgICAgICAgICAgb25Vbk1hc2s6IG51bGwsIC8vZXhlY3V0ZXMgYWZ0ZXIgdW5tYXNraW5nIHRvIGFsbG93IHBvc3Rwcm9jZXNzaW5nIG9mIHRoZSB1bm1hc2tlZHZhbHVlLlx0YXJncyA9PiBtYXNrZWRWYWx1ZSwgdW5tYXNrZWRWYWx1ZSwgb3B0c1xyXG4gICAgICAgICAgICAgICAgc2hvd01hc2tPbkZvY3VzOiB0cnVlLCAvL3Nob3cgdGhlIG1hc2stcGxhY2Vob2xkZXIgd2hlbiB0aGUgaW5wdXQgaGFzIGZvY3VzXHJcbiAgICAgICAgICAgICAgICBzaG93TWFza09uSG92ZXI6IGZhbHNlLCAvL3Nob3cgdGhlIG1hc2stcGxhY2Vob2xkZXIgd2hlbiBob3ZlcmluZyB0aGUgZW1wdHkgaW5wdXRcclxuICAgICAgICAgICAgICAgIG9uS2V5VmFsaWRhdGlvbjogJC5ub29wLCAvL2V4ZWN1dGVzIG9uIGV2ZXJ5IGtleS1wcmVzcyB3aXRoIHRoZSByZXN1bHQgb2YgaXNWYWxpZC4gUGFyYW1zOiByZXN1bHQsIG9wdHNcclxuICAgICAgICAgICAgICAgIHNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXI6IFwiIFwiLCAvL2EgY2hhcmFjdGVyIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHNraXAgYW4gb3B0aW9uYWwgcGFydCBvZiBhIG1hc2tcclxuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwOiBmYWxzZSwgLy9zaG93IHRoZSBhY3RpdmVtYXNrIGFzIHRvb2x0aXBcclxuICAgICAgICAgICAgICAgIG51bWVyaWNJbnB1dDogZmFsc2UsIC8vbnVtZXJpY0lucHV0IGlucHV0IGRpcmVjdGlvbiBzdHlsZSAoaW5wdXQgc2hpZnRzIHRvIHRoZSBsZWZ0IHdoaWxlIGhvbGRpbmcgdGhlIGNhcmV0IHBvc2l0aW9uKVxyXG4gICAgICAgICAgICAgICAgcmlnaHRBbGlnbjogZmFsc2UsIC8vYWxpZ24gdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgICAgICAgICB1bmRvT25Fc2NhcGU6IHRydWUsIC8vcHJlc3NpbmcgZXNjYXBlIHJldmVydHMgdGhlIHZhbHVlIHRvIHRoZSB2YWx1ZSBiZWZvcmUgZm9jdXNcclxuICAgICAgICAgICAgICAgIC8vbnVtZXJpYyBiYXNpYyBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgICAgICByYWRpeFBvaW50OiBcIlwiLCAvL1wiLlwiLCAvLyB8IFwiLFwiXHJcbiAgICAgICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCJcIiwgLy9cIixcIiwgLy8gfCBcIi5cIlxyXG4gICAgICAgICAgICAgICAgcmFkaXhGb2N1czogZmFsc2UsIC8vcG9zaXRpb24gY2FyZXQgdG8gcmFkaXhwb2ludCBvbiBpbml0aWFsIGNsaWNrXHJcbiAgICAgICAgICAgICAgICAvL251bWVyaWMgYmFzaWMgcHJvcGVydGllc1xyXG4gICAgICAgICAgICAgICAgbm9qdW1wczogZmFsc2UsIC8vZG8gbm90IGp1bXAgb3ZlciBmaXhlZCBwYXJ0cyBpbiB0aGUgbWFza1xyXG4gICAgICAgICAgICAgICAgbm9qdW1wc1RocmVzaG9sZDogMCwgLy9zdGFydCBub2p1bXBzIGFzIG9mXHJcbiAgICAgICAgICAgICAgICBrZWVwU3RhdGljOiBudWxsLCAvL3RyeSB0byBrZWVwIHRoZSBtYXNrIHN0YXRpYyB3aGlsZSB0eXBpbmcuIERlY2lzaW9ucyB0byBhbHRlciB0aGUgbWFzayB3aWxsIGJlIHBvc3BvbmVkIGlmIHBvc3NpYmxlIC0gbnVsbCBzZWUgYXV0byBzZWxlY3Rpb24gZm9yIG11bHRpIG1hc2tzXHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbkNhcmV0T25UYWI6IGZhbHNlLCAvL3doZW4gZW5hYmxlZCB0aGUgY2FyZXQgcG9zaXRpb24gaXMgc2V0IGFmdGVyIHRoZSBsYXRlc3QgdmFsaWQgcG9zaXRpb24gb24gVEFCXHJcbiAgICAgICAgICAgICAgICB0YWJUaHJvdWdoOiBmYWxzZSwgLy9hbGxvd3MgZm9yIHRhYmJpbmcgdGhyb3VnaCB0aGUgZGlmZmVyZW50IHBhcnRzIG9mIHRoZSBtYXNrZWQgZmllbGRcclxuICAgICAgICAgICAgICAgIHN1cHBvcnRzSW5wdXRUeXBlOiBbXSwgLy9hbGxvdyBleHRyYSBpbnB1dHR5cGVzIGZvciBtYXNraW5nLCBleC4gbnVtYmVyIGNhbiBiZSBhbGxvd2VkIGZvciBudW1lcmljIGFsaWFzIHdpdGhvdXQgcHJlLS9zdWZmaXggYW5kIHN0YW5kYXJkIHJhZGl4cG9pbnQsIGdyb3VwU2VwYXJhdG9yXHJcbiAgICAgICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwiOVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvblN5bWJvbDogXCIqXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiYVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbQS1aYS16XFx1MDQxMC1cXHUwNDRGXFx1MDQwMVxcdTA0NTFcXHUwMEMwLVxcdTAwRkZcXHUwMEI1XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvblN5bWJvbDogXCIqXCJcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwiKlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05QS1aYS16XFx1MDQxMC1cXHUwNDRGXFx1MDQwMVxcdTA0NTFcXHUwMEMwLVxcdTAwRkZcXHUwMEI1XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvL3NwZWNpZnkga2V5Q29kZXMgd2hpY2ggc2hvdWxkIG5vdCBiZSBjb25zaWRlcmVkIGluIHRoZSBrZXlwcmVzcyBldmVudCwgb3RoZXJ3aXNlIHRoZSBwcmV2ZW50RGVmYXVsdCB3aWxsIHN0b3AgdGhlaXIgZGVmYXVsdCBiZWhhdmlvciBlc3BlY2lhbGx5IGluIEZGXHJcbiAgICAgICAgICAgICAgICBpZ25vcmFibGVzOiBbOCwgOSwgMTMsIDE5LCAyNywgMzMsIDM0LCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA0NSwgNDYsIDkzLCAxMTIsIDExMywgMTE0LCAxMTUsIDExNiwgMTE3LCAxMTgsIDExOSwgMTIwLCAxMjEsIDEyMiwgMTIzXSxcclxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGU6IG51bGwsIC8vb3ZlcnJpZGUgZm9yIGlzQ29tcGxldGUgLSBhcmdzID0+IGJ1ZmZlciwgb3B0cyAtIHJldHVybiB0cnVlIHx8IGZhbHNlXHJcbiAgICAgICAgICAgICAgICBjYW5DbGVhclBvc2l0aW9uOiAkLm5vb3AsIC8vaG9vayB0byBhbHRlciB0aGUgY2xlYXIgYmVoYXZpb3IgaW4gdGhlIHN0cmlwVmFsaWRQb3NpdGlvbnMgYXJncyA9PiBtYXNrc2V0LCBwb3NpdGlvbiwgbGFzdFZhbGlkUG9zaXRpb24sIG9wdHMgPT4gcmV0dXJuIHRydWV8ZmFsc2VcclxuICAgICAgICAgICAgICAgIHBvc3RWYWxpZGF0aW9uOiBudWxsIC8vaG9vayB0byBwb3N0VmFsaWRhdGUgdGhlIHJlc3VsdCBmcm9tIGlzVmFsaWQuXHRVc2VmdWxsIGZvciB2YWxpZGF0aW5nIHRoZSBlbnRyeSBhcyBhIHdob2xlLlx0YXJncyA9PiBidWZmZXIsIG9wdHMgPT4gcmV0dXJuIHRydWUvZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWFza3NDYWNoZToge30sXHJcbiAgICAgICAgICAgIG1hc2s6IGZ1bmN0aW9uIChlbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNjb3BlZE9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5vcHRzKTtcclxuICAgICAgICAgICAgICAgIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMoZWwsIHNjb3BlZE9wdHMsICQuZXh0ZW5kKHRydWUsIHt9LCB0aGlzLnVzZXJPcHRpb25zKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza3NldCA9IGdlbmVyYXRlTWFza1NldChzY29wZWRPcHRzLCB0aGlzLm5vTWFza3NDYWNoZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWFza3NldCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zdG9yZSBpbnB1dG1hc2sgaW5zdGFuY2Ugb24gdGhlIGlucHV0IHdpdGggZWxlbWVudCByZWZlcmVuY2VcclxuICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2sgPSBlbC5pbnB1dG1hc2sgfHwgbmV3IElucHV0bWFzaygpOyAvL2luIGNhc2Ugb2YgcmVtYXNraW5nIHJldXNlIHRoZSBpbnB1dG1hc2sgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLm9wdHMgPSBzY29wZWRPcHRzO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzay5ub01hc2tzQ2FjaGUgPSB0aGlzLm5vTWFza3NDYWNoZTtcclxuICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2sudXNlck9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy51c2VyT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLmVsID0gZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLm1hc2tzZXQgPSBtYXNrc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzay5pc1JUTCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkLmRhdGEoZWwsIFwiX2lucHV0bWFza19vcHRzXCIsIHNjb3BlZE9wdHMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFjdGlvblwiOiBcIm1hc2tcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbFwiOiBlbFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIG1hc2tzZXQsIGVsLmlucHV0bWFzay5vcHRzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBlbDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb3B0aW9uOiBmdW5jdGlvbiAob3B0aW9ucykgeyAvL3NldCBleHRyYSBvcHRpb25zIHx8IHJldHJpZXZlIHZhbHVlIG9mIGEgY3VycmVudCBvcHRpb25cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdHNbb3B0aW9uc107XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5leHRlbmQodGhpcy5vcHRzLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICAkLmV4dGVuZCh0aGlzLnVzZXJPcHRpb25zLCBvcHRpb25zKTsgLy91c2VyIHBhc3NlZCBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVubWFza2VkdmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IFwidW5tYXNrZWR2YWx1ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsXCI6IHRoaXMuZWxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IFwicmVtb3ZlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZWxcIjogdGhpcy5lbFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuaW5wdXRtYXNrID0gdW5kZWZpbmVkOyAvL2RlbGV0ZSB+IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRlbXB0eW1hc2s6IGZ1bmN0aW9uICgpIHsgLy9yZXR1cm4gdGhlIGRlZmF1bHQgKGVtcHR5KSBtYXNrIHZhbHVlLCB1c2VmdWxsIGZvciBzZXR0aW5nIHRoZSBkZWZhdWx0IHZhbHVlIGluIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IFwiZ2V0ZW1wdHltYXNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZWxcIjogdGhpcy5lbFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBoYXNNYXNrZWRWYWx1ZTogZnVuY3Rpb24gKCkgeyAvL2NoZWNrIHdoZXRlciB0aGUgcmV0dXJuZWQgdmFsdWUgaXMgbWFza2VkIG9yIG5vdDsgY3VycmVudGx5IG9ubHkgd29ya3MgcmVsaWFibGUgd2hlbiB1c2luZyBqcXVlcnkudmFsIGZuIHRvIHJldHJpZXZlIHRoZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICF0aGlzLm9wdHMuYXV0b1VubWFzaztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNDb21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhY3Rpb25cIjogXCJpc0NvbXBsZXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYnVmZmVyXCI6IHRoaXMuZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpLnNwbGl0KFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVsXCI6IHRoaXMuZWxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0bWV0YWRhdGE6IGZ1bmN0aW9uICgpIHsgLy9yZXR1cm4gbWFzayBtZXRhZGF0YSBpZiBleGlzdHNcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IFwiZ2V0bWV0YWRhdGFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJlbFwiOiB0aGlzLmVsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL2FwbHkgZGVmYXVsdHMsIGRlZmluaXRpb25zLCBhbGlhc2VzXHJcbiAgICAgICAgSW5wdXRtYXNrLmV4dGVuZERlZmF1bHRzID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgJC5leHRlbmQoSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBJbnB1dG1hc2suZXh0ZW5kRGVmaW5pdGlvbnMgPSBmdW5jdGlvbiAoZGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICAkLmV4dGVuZChJbnB1dG1hc2sucHJvdG90eXBlLmRlZmF1bHRzLmRlZmluaXRpb25zLCBkZWZpbml0aW9uKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIElucHV0bWFzay5leHRlbmRBbGlhc2VzID0gZnVuY3Rpb24gKGFsaWFzKSB7XHJcbiAgICAgICAgICAgICQuZXh0ZW5kKElucHV0bWFzay5wcm90b3R5cGUuZGVmYXVsdHMuYWxpYXNlcywgYWxpYXMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9zdGF0aWMgZm4gb24gaW5wdXRtYXNrXHJcbiAgICAgICAgSW5wdXRtYXNrLmZvcm1hdCA9IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucywgbWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIG9wdHMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHJlc29sdmVBbGlhcyhvcHRzLmFsaWFzLCBvcHRpb25zLCBvcHRzKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBcImFjdGlvblwiOiBcImZvcm1hdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIFwibWV0YWRhdGFcIjogbWV0YWRhdGEgLy90cnVlL2ZhbHNlIGdldG1ldGFkYXRhXHJcbiAgICAgICAgICAgIH0sIGdlbmVyYXRlTWFza1NldChvcHRzLCBvcHRpb25zICYmIG9wdGlvbnMuZGVmaW5pdGlvbnMgIT09IHVuZGVmaW5lZCksIG9wdHMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgSW5wdXRtYXNrLnVubWFzayA9IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgb3B0cyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBJbnB1dG1hc2sucHJvdG90eXBlLmRlZmF1bHRzLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgcmVzb2x2ZUFsaWFzKG9wdHMuYWxpYXMsIG9wdGlvbnMsIG9wdHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIFwiYWN0aW9uXCI6IFwidW5tYXNrZWR2YWx1ZVwiLFxyXG4gICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiB2YWx1ZVxyXG4gICAgICAgICAgICB9LCBnZW5lcmF0ZU1hc2tTZXQob3B0cywgb3B0aW9ucyAmJiBvcHRpb25zLmRlZmluaXRpb25zICE9PSB1bmRlZmluZWQpLCBvcHRzKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIElucHV0bWFzay5pc1ZhbGlkID0gZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRzID0gJC5leHRlbmQodHJ1ZSwge30sIElucHV0bWFzay5wcm90b3R5cGUuZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICByZXNvbHZlQWxpYXMob3B0cy5hbGlhcywgb3B0aW9ucywgb3B0cyk7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgXCJhY3Rpb25cIjogXCJpc1ZhbGlkXCIsXHJcbiAgICAgICAgICAgICAgICBcInZhbHVlXCI6IHZhbHVlXHJcbiAgICAgICAgICAgIH0sIGdlbmVyYXRlTWFza1NldChvcHRzLCBvcHRpb25zICYmIG9wdGlvbnMuZGVmaW5pdGlvbnMgIT09IHVuZGVmaW5lZCksIG9wdHMpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4ID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgICAgICAgICB2YXIgc3BlY2lhbHMgPSBbXCIvXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsIFwiP1wiLCBcInxcIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgXCJcXFxcXCIsIFwiJFwiLCBcIl5cIl07XHJcbiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKFwiKFxcXFxcIiArIHNwZWNpYWxzLmpvaW4oXCJ8XFxcXFwiKSArIFwiKVwiLCBcImdpbVwiKSwgXCJcXFxcJDFcIik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBJbnB1dG1hc2sua2V5Q29kZSA9IHtcclxuICAgICAgICAgICAgQUxUOiAxOCxcclxuICAgICAgICAgICAgQkFDS1NQQUNFOiA4LFxyXG4gICAgICAgICAgICBDQVBTX0xPQ0s6IDIwLFxyXG4gICAgICAgICAgICBDT01NQTogMTg4LFxyXG4gICAgICAgICAgICBDT01NQU5EOiA5MSxcclxuICAgICAgICAgICAgQ09NTUFORF9MRUZUOiA5MSxcclxuICAgICAgICAgICAgQ09NTUFORF9SSUdIVDogOTMsXHJcbiAgICAgICAgICAgIENPTlRST0w6IDE3LFxyXG4gICAgICAgICAgICBERUxFVEU6IDQ2LFxyXG4gICAgICAgICAgICBET1dOOiA0MCxcclxuICAgICAgICAgICAgRU5EOiAzNSxcclxuICAgICAgICAgICAgRU5URVI6IDEzLFxyXG4gICAgICAgICAgICBFU0NBUEU6IDI3LFxyXG4gICAgICAgICAgICBIT01FOiAzNixcclxuICAgICAgICAgICAgSU5TRVJUOiA0NSxcclxuICAgICAgICAgICAgTEVGVDogMzcsXHJcbiAgICAgICAgICAgIE1FTlU6IDkzLFxyXG4gICAgICAgICAgICBOVU1QQURfQUREOiAxMDcsXHJcbiAgICAgICAgICAgIE5VTVBBRF9ERUNJTUFMOiAxMTAsXHJcbiAgICAgICAgICAgIE5VTVBBRF9ESVZJREU6IDExMSxcclxuICAgICAgICAgICAgTlVNUEFEX0VOVEVSOiAxMDgsXHJcbiAgICAgICAgICAgIE5VTVBBRF9NVUxUSVBMWTogMTA2LFxyXG4gICAgICAgICAgICBOVU1QQURfU1VCVFJBQ1Q6IDEwOSxcclxuICAgICAgICAgICAgUEFHRV9ET1dOOiAzNCxcclxuICAgICAgICAgICAgUEFHRV9VUDogMzMsXHJcbiAgICAgICAgICAgIFBFUklPRDogMTkwLFxyXG4gICAgICAgICAgICBSSUdIVDogMzksXHJcbiAgICAgICAgICAgIFNISUZUOiAxNixcclxuICAgICAgICAgICAgU1BBQ0U6IDMyLFxyXG4gICAgICAgICAgICBUQUI6IDksXHJcbiAgICAgICAgICAgIFVQOiAzOCxcclxuICAgICAgICAgICAgV0lORE9XUzogOTFcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvL2hlbHBlciBmdW5jdGlvbnNcclxuICAgICAgICBmdW5jdGlvbiBpc0lucHV0RXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcclxuICAgICAgICAgICAgICAgIGV2TmFtZSA9IFwib25cIiArIGV2ZW50TmFtZSxcclxuICAgICAgICAgICAgICAgIGlzU3VwcG9ydGVkID0gKGV2TmFtZSBpbiBlbCk7XHJcbiAgICAgICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcclxuICAgICAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZShldk5hbWUsIFwicmV0dXJuO1wiKTtcclxuICAgICAgICAgICAgICAgIGlzU3VwcG9ydGVkID0gdHlwZW9mIGVsW2V2TmFtZV0gPT0gXCJmdW5jdGlvblwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsID0gbnVsbDtcclxuICAgICAgICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNJbnB1dFR5cGVTdXBwb3J0ZWQoaW5wdXRUeXBlKSB7XHJcbiAgICAgICAgICAgIHZhciBpc1N1cHBvcnRlZCA9IGlucHV0VHlwZSA9PT0gXCJ0ZXh0XCIgfHwgaW5wdXRUeXBlID09PSBcInRlbFwiIHx8IGlucHV0VHlwZSA9PT0gXCJwYXNzd29yZFwiO1xyXG4gICAgICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIGlucHV0VHlwZSk7XHJcbiAgICAgICAgICAgICAgICBpc1N1cHBvcnRlZCA9IGVsLnR5cGUgPT09IFwidGV4dFwiOyAvL2FwcGx5IG1hc2sgb25seSBpZiB0aGUgdHlwZSBpcyBub3QgbmF0aXZlbHkgc3VwcG9ydGVkXHJcbiAgICAgICAgICAgICAgICBlbCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZUFsaWFzKGFsaWFzU3RyLCBvcHRpb25zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgIHZhciBhbGlhc0RlZmluaXRpb24gPSBvcHRzLmFsaWFzZXNbYWxpYXNTdHJdO1xyXG4gICAgICAgICAgICBpZiAoYWxpYXNEZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWxpYXNEZWZpbml0aW9uLmFsaWFzKSByZXNvbHZlQWxpYXMoYWxpYXNEZWZpbml0aW9uLmFsaWFzLCB1bmRlZmluZWQsIG9wdHMpOyAvL2FsaWFzIGlzIGFub3RoZXIgYWxpYXNcclxuICAgICAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIG9wdHMsIGFsaWFzRGVmaW5pdGlvbik7IC8vbWVyZ2UgYWxpYXMgZGVmaW5pdGlvbiBpbiB0aGUgb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgJC5leHRlbmQodHJ1ZSwgb3B0cywgb3B0aW9ucyk7IC8vcmVhcHBseSBleHRyYSBnaXZlbiBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIC8vYWxpYXMgbm90IGZvdW5kIC0gdHJ5IGFzIG1hc2tcclxuICAgICAgICAgICAgaWYgKG9wdHMubWFzayA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgb3B0cy5tYXNrID0gYWxpYXNTdHI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMobnB0LCBvcHRzLCB1c2VyT3B0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgYXR0ck9wdGlvbnMgPSBucHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbnB1dG1hc2tcIik7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbXBvcnRPcHRpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRGF0YSA9IG5wdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlucHV0bWFzay1cIiArIG9wdGlvbi50b0xvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25EYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRGF0YSA9IHR5cGVvZiBvcHRpb25EYXRhID09IFwiYm9vbGVhblwiID8gb3B0aW9uRGF0YSA6IG9wdGlvbkRhdGEudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlIG5vLWV2YWwgKi9cclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbkRhdGEgPT09IFwic3RyaW5nXCIgJiYgb3B0aW9uLmluZGV4T2YoXCJvblwiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25EYXRhID0gZXZhbChcIihcIiArIG9wdGlvbkRhdGEgKyBcIilcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8qZXNsaW50LWVuYWJsZSBuby1ldmFsICovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbiA9PT0gXCJtYXNrXCIgJiYgb3B0aW9uRGF0YS5pbmRleE9mKFwiW1wiKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9uc1tvcHRpb25dID0gb3B0aW9uRGF0YS5yZXBsYWNlKC9bXFxzW1xcXV0vZywgXCJcIikuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyT3B0aW9uc1tvcHRpb25dWzBdID0gdXNlck9wdGlvbnNbb3B0aW9uXVswXS5yZXBsYWNlKFwiJ1wiLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlck9wdGlvbnNbb3B0aW9uXVt1c2VyT3B0aW9uc1tvcHRpb25dLmxlbmd0aCAtIDFdID0gdXNlck9wdGlvbnNbb3B0aW9uXVt1c2VyT3B0aW9uc1tvcHRpb25dLmxlbmd0aCAtIDFdLnJlcGxhY2UoXCInXCIsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB1c2VyT3B0aW9uc1tvcHRpb25dID0gb3B0aW9uRGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGF0dHJPcHRpb25zICYmIGF0dHJPcHRpb25zICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJPcHRpb25zID0gYXR0ck9wdGlvbnMucmVwbGFjZShuZXcgUmVnRXhwKFwiJ1wiLCBcImdcIiksICdcIicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhb3B0aW9ucyA9ICQucGFyc2VKU09OKFwie1wiICsgYXR0ck9wdGlvbnMgKyBcIn1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5leHRlbmQodHJ1ZSwgdXNlck9wdGlvbnMsIGRhdGFvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcblxyXG4gICAgICAgICAgICAgICAgfSAvL25lZWQgYSBtb3JlIHJlbGF4IHBhcnNlSlNPTlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIG9wdGlvbiBpbiBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpbXBvcnRPcHRpb24ob3B0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodXNlck9wdGlvbnMuYWxpYXMpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVBbGlhcyh1c2VyT3B0aW9ucy5hbGlhcywgdXNlck9wdGlvbnMsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChvcHRpb24gaW4gb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGltcG9ydE9wdGlvbihvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHRydWUsIG9wdHMsIHVzZXJPcHRpb25zKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZU1hc2tTZXQob3B0cywgbm9jYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgbXM7XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBhbmFseXNlTWFzayhtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5pemVyID0gLyg/Ols/KitdfFxce1swLTlcXCtcXCpdKyg/OixbMC05XFwrXFwqXSopP1xcfSl8W14uPyorXiR7W10oKXxcXFxcXSt8Li9nLFxyXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4gPSBuZXcgTWFza1Rva2VuKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgbSxcclxuICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFza1Rva2VucyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5pbmdUb2tlbixcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlbmluZ1Rva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwVG9rZW47XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gTWFza1Rva2VuKGlzR3JvdXAsIGlzT3B0aW9uYWwsIGlzUXVhbnRpZmllciwgaXNBbHRlcm5hdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0dyb3VwID0gaXNHcm91cCB8fCBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSBpc09wdGlvbmFsIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNRdWFudGlmaWVyID0gaXNRdWFudGlmaWVyIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBbHRlcm5hdG9yID0gaXNBbHRlcm5hdG9yIHx8IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVhbnRpZmllciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy90ZXN0IGRlZmluaXRpb24gPT4ge2ZuOiBSZWdFeHAvZnVuY3Rpb24sIGNhcmRpbmFsaXR5OiBpbnQsIG9wdGlvbmFsaXR5OiBib29sLCBuZXdCbG9ja01hcmtlcjogYm9vbCwgY2FzaW5nOiBudWxsL3VwcGVyL2xvd2VyLCBkZWY6IGRlZmluaXRpb25TeW1ib2wsIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlciwgbWFzazogcmVhbCBtYXNrRGVmaW5pdGlvbn1cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGluc2VydFRlc3REZWZpbml0aW9uKG10b2tlbiwgZWxlbWVudCwgcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFza2RlZiA9IG9wdHMuZGVmaW5pdGlvbnNbZWxlbWVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiAhPT0gdW5kZWZpbmVkID8gcG9zaXRpb24gOiBtdG9rZW4ubWF0Y2hlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZNYXRjaCA9IG10b2tlbi5tYXRjaGVzW3Bvc2l0aW9uIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2tkZWYgJiYgIWVzY2FwZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza2RlZi5wbGFjZWhvbGRlciA9ICQuaXNGdW5jdGlvbihtYXNrZGVmLnBsYWNlaG9sZGVyKSA/IG1hc2tkZWYucGxhY2Vob2xkZXIuY2FsbCh0aGlzLCBvcHRzKSA6IG1hc2tkZWYucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmV2YWxpZGF0b3JzID0gbWFza2RlZi5wcmV2YWxpZGF0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3JzTCA9IHByZXZhbGlkYXRvcnMgPyBwcmV2YWxpZGF0b3JzLmxlbmd0aCA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFuZGxlIHByZXZhbGlkYXRvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBtYXNrZGVmLmNhcmRpbmFsaXR5OyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmV2YWxpZGF0b3IgPSBwcmV2YWxpZGF0b3JzTCA+PSBpID8gcHJldmFsaWRhdG9yc1tpIC0gMV0gOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3IgPSBwcmV2YWxpZGF0b3IudmFsaWRhdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5ID0gcHJldmFsaWRhdG9yLmNhcmRpbmFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssIDAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbjogdmFsaWRhdG9yID8gdHlwZW9mIHZhbGlkYXRvciA9PT0gXCJzdHJpbmdcIiA/IG5ldyBSZWdFeHAodmFsaWRhdG9yKSA6IG5ldyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVzdCA9IHZhbGlkYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogbmV3IFJlZ0V4cChcIi5cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IGNhcmRpbmFsaXR5ID8gY2FyZGluYWxpdHkgOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdCbG9ja01hcmtlcjogcHJldk1hdGNoID09PSB1bmRlZmluZWQgfHwgcHJldk1hdGNoLmRlZiAhPT0gKG1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbCB8fCBlbGVtZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG1hc2tkZWYuY2FzaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogbWFza2RlZi5kZWZpbml0aW9uU3ltYm9sIHx8IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG1hc2tkZWYucGxhY2Vob2xkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2TWF0Y2ggPSBtdG9rZW4ubWF0Y2hlc1twb3NpdGlvbiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbjogbWFza2RlZi52YWxpZGF0b3IgPyB0eXBlb2YgbWFza2RlZi52YWxpZGF0b3IgPT0gXCJzdHJpbmdcIiA/IG5ldyBSZWdFeHAobWFza2RlZi52YWxpZGF0b3IpIDogbmV3IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlc3QgPSBtYXNrZGVmLnZhbGlkYXRvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBuZXcgUmVnRXhwKFwiLlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiBtYXNrZGVmLmNhcmRpbmFsaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxpdHk6IG10b2tlbi5pc09wdGlvbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHByZXZNYXRjaCA9PT0gdW5kZWZpbmVkIHx8IHByZXZNYXRjaC5kZWYgIT09IChtYXNrZGVmLmRlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG1hc2tkZWYuY2FzaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBtYXNrZGVmLmRlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBtYXNrZGVmLnBsYWNlaG9sZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFzazogZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywgMCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrTWFya2VyOiBwcmV2TWF0Y2ggPT09IHVuZGVmaW5lZCB8fCBwcmV2TWF0Y2guZGVmICE9PSBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2s6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdmVyaWZ5R3JvdXBNYXJrZXIobGFzdE1hdGNoLCBpc09wZW5Hcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0TWF0Y2guaXNHcm91cCkgeyAvL3RoaXMgaXMgbm90IGEgZ3JvdXAgYnV0IGEgbm9ybWFsIG1hc2sgPT4gY29udmVydFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWF0Y2guaXNHcm91cCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXN0RGVmaW5pdGlvbihsYXN0TWF0Y2gsIG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNPcGVuR3JvdXAgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFRlc3REZWZpbml0aW9uKGxhc3RNYXRjaCwgb3B0cy5ncm91cG1hcmtlci5lbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1hc2tDdXJyZW50VG9rZW4obSwgY3VycmVudFRva2VuLCBsYXN0TWF0Y2gsIGV4dHJhQ29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgKGV4dHJhQ29uZGl0aW9uID09PSB1bmRlZmluZWQgfHwgZXh0cmFDb25kaXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzW2N1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJpZnlHcm91cE1hcmtlcihsYXN0TWF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRUZXN0RGVmaW5pdGlvbihjdXJyZW50VG9rZW4sIG0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGRlZmF1bHRDYXNlKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza0N1cnJlbnRUb2tlbihtLCBjdXJyZW50T3BlbmluZ1Rva2VuLCBsYXN0TWF0Y2gsICFjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcikgeyAvL2hhbmRsZSBhbHRlcm5hdG9yIGEgfCBiIGNhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IgPSBvcGVuZW5pbmdzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbW5keCA9IDA7IG1uZHggPCBhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoOyBtbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cCA9IGZhbHNlOyAvL2Rvbid0IG1hcmsgYWx0ZXJuYXRlIGdyb3VwcyBhcyBncm91cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5lbmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrQ3VycmVudFRva2VuKG0sIGN1cnJlbnRUb2tlbiwgbGFzdE1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmV2ZXJzZVRva2VucyhtYXNrVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXZlcnNlU3RhdGljKHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdCA9PT0gb3B0cy5vcHRpb25hbG1hcmtlci5zdGFydCkgc3QgPSBvcHRzLm9wdGlvbmFsbWFya2VyLmVuZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc3QgPT09IG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kKSBzdCA9IG9wdHMub3B0aW9uYWxtYXJrZXIuc3RhcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0ID09PSBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0KSBzdCA9IG9wdHMuZ3JvdXBtYXJrZXIuZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzdCA9PT0gb3B0cy5ncm91cG1hcmtlci5lbmQpIHN0ID0gb3B0cy5ncm91cG1hcmtlci5zdGFydDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1hc2tUb2tlbi5tYXRjaGVzID0gbWFza1Rva2VuLm1hdGNoZXMucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1hdGNoIGluIG1hc2tUb2tlbi5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnRNYXRjaCA9IHBhcnNlSW50KG1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXS5pc1F1YW50aWZpZXIgJiYgbWFza1Rva2VuLm1hdGNoZXNbaW50TWF0Y2ggKyAxXSAmJiBtYXNrVG9rZW4ubWF0Y2hlc1tpbnRNYXRjaCArIDFdLmlzR3JvdXApIHsgLy9yZXBvc2l0aW9uIHF1YW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdCA9IG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUb2tlbi5tYXRjaGVzLnNwbGljZShtYXRjaCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW4ubWF0Y2hlcy5zcGxpY2UoaW50TWF0Y2ggKyAxLCAwLCBxdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXS5tYXRjaGVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSA9IHJldmVyc2VUb2tlbnMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSA9IHJldmVyc2VTdGF0aWMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tUb2tlbjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobWF0Y2ggPSB0b2tlbml6ZXIuZXhlYyhtYXNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG0gPSBtYXRjaFswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVzY2FwZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdENhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAobS5jaGFyQXQoMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBvcHRzLmVzY2FwZUNoYXI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uYWwgY2xvc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG9wdHMuZ3JvdXBtYXJrZXIuZW5kOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR3JvdXAgY2xvc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmluZ1Rva2VuID0gb3BlbmVuaW5ncy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuaW5nVG9rZW4gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRPcGVuaW5nVG9rZW4uaXNBbHRlcm5hdG9yKSB7IC8vaGFuZGxlIGFsdGVybmF0b3IgKGEpIHwgKGIpIGNhc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IgPSBvcGVuZW5pbmdzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbW5keCA9IDA7IG1uZHggPCBhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoOyBtbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cCA9IGZhbHNlOyAvL2Rvbid0IG1hcmsgYWx0ZXJuYXRlIGdyb3VwcyBhcyBncm91cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5lbmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGRlZmF1bHRDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBvcHRzLm9wdGlvbmFsbWFya2VyLnN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3B0aW9uYWwgb3BlbmluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5wdXNoKG5ldyBNYXNrVG9rZW4oZmFsc2UsIHRydWUpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBHcm91cCBvcGVuaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbih0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBvcHRzLnF1YW50aWZpZXJtYXJrZXIuc3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1F1YW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdWFudGlmaWVyID0gbmV3IE1hc2tUb2tlbihmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBtLnJlcGxhY2UoL1t7fV0vZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbXEgPSBtLnNwbGl0KFwiLFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcTAgPSBpc05hTihtcVswXSkgPyBtcVswXSA6IHBhcnNlSW50KG1xWzBdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcTEgPSBtcS5sZW5ndGggPT09IDEgPyBtcTAgOiAoaXNOYU4obXFbMV0pID8gbXFbMV0gOiBwYXJzZUludChtcVsxXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1xMSA9PT0gXCIqXCIgfHwgbXExID09PSBcIitcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1xMCA9IG1xMSA9PT0gXCIqXCIgPyAwIDogMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1YW50aWZpZXIucXVhbnRpZmllciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IG1xMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IG1xMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXS5tYXRjaGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gbWF0Y2hlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoLmlzR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBUb2tlbiA9IG5ldyBNYXNrVG9rZW4odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwVG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBncm91cFRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2gobWF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChxdWFudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoLmlzR3JvdXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBUb2tlbiA9IG5ldyBNYXNrVG9rZW4odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwVG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBncm91cFRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKHF1YW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5hbHRlcm5hdG9ybWFya2VyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wZW5lbmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoID0gY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWF0Y2ggPSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0TWF0Y2guaXNBbHRlcm5hdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5wdXNoKGxhc3RNYXRjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IgPSBuZXcgTWFza1Rva2VuKGZhbHNlLCBmYWxzZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IubWF0Y2hlcy5wdXNoKGxhc3RNYXRjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5wdXNoKGFsdGVybmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAob3BlbmVuaW5ncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbmluZ1Rva2VuID0gb3BlbmVuaW5ncy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB2ZXJpZnlHcm91cE1hcmtlcihvcGVuaW5nVG9rZW4sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoID0gY3VycmVudFRva2VuLm1hdGNoZXNbY3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZ5R3JvdXBNYXJrZXIobGFzdE1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW5zLnB1c2goY3VycmVudFRva2VuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5udW1lcmljSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXZlcnNlVG9rZW5zKG1hc2tUb2tlbnNbMF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkobWFza1Rva2VucykpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tUb2tlbnM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlTWFzayhtYXNrLCBtZXRhZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hc2sgPT09IG51bGwgfHwgbWFzayA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXNrLmxlbmd0aCA9PT0gMSAmJiBvcHRzLmdyZWVkeSA9PT0gZmFsc2UgJiYgb3B0cy5yZXBlYXQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5wbGFjZWhvbGRlciA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvL2hpZGUgcGxhY2Vob2xkZXIgd2l0aCBzaW5nbGUgbm9uLWdyZWVkeSBtYXNrXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMucmVwZWF0ID4gMCB8fCBvcHRzLnJlcGVhdCA9PT0gXCIqXCIgfHwgb3B0cy5yZXBlYXQgPT09IFwiK1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXBlYXRTdGFydCA9IG9wdHMucmVwZWF0ID09PSBcIipcIiA/IDAgOiAob3B0cy5yZXBlYXQgPT09IFwiK1wiID8gMSA6IG9wdHMucmVwZWF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFzayA9IG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQgKyBtYXNrICsgb3B0cy5ncm91cG1hcmtlci5lbmQgKyBvcHRzLnF1YW50aWZpZXJtYXJrZXIuc3RhcnQgKyByZXBlYXRTdGFydCArIFwiLFwiICsgb3B0cy5yZXBlYXQgKyBvcHRzLnF1YW50aWZpZXJtYXJrZXIuZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobWFzayk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2tzZXREZWZpbml0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza10gPT09IHVuZGVmaW5lZCB8fCBub2NhY2hlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXREZWZpbml0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtYXNrXCI6IG1hc2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1hc2tUb2tlblwiOiBhbmFseXNlTWFzayhtYXNrKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidmFsaWRQb3NpdGlvbnNcIjoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIl9idWZmZXJcIjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidWZmZXJcIjogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0ZXN0c1wiOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0YWRhdGFcIjogbWV0YWRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vY2FjaGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVtvcHRzLm51bWVyaWNJbnB1dCA/IG1hc2suc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBtYXNrXSA9IG1hc2tzZXREZWZpbml0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG1hc2tzZXREZWZpbml0aW9uID0gJC5leHRlbmQodHJ1ZSwge30sIElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXNrc2V0RGVmaW5pdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlUHJvY2Vzc01hc2sobWFzaykge1xyXG4gICAgICAgICAgICAgICAgbWFzayA9IG1hc2sudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIC8vIGlmIChvcHRzLm51bWVyaWNJbnB1dCkge1xyXG4gICAgICAgICAgICAgICAgLy8gXHRtYXNrID0gbWFzay5zcGxpdCgnJykucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gXHRtYXNrID0gbWFzay5qb2luKCcnKTtcclxuICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMubWFzaykpIHsgLy9hbGxvdyBtYXNrIHRvIGJlIGEgcHJlcHJvY2Vzc2luZyBmbiAtIHNob3VsZCByZXR1cm4gYSB2YWxpZCBtYXNrXHJcbiAgICAgICAgICAgICAgICBvcHRzLm1hc2sgPSBvcHRzLm1hc2suY2FsbCh0aGlzLCBvcHRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJC5pc0FycmF5KG9wdHMubWFzaykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLm1hc2subGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMua2VlcFN0YXRpYyA9IG9wdHMua2VlcFN0YXRpYyA9PT0gbnVsbCA/IHRydWUgOiBvcHRzLmtlZXBTdGF0aWM7IC8vZW5hYmxlIGJ5IGRlZmF1bHQgd2hlbiBwYXNzaW5nIG11bHRpcGxlIG1hc2tzIHdoZW4gdGhlIG9wdGlvbiBpcyBub3QgZXhwbGljaXRseSBzcGVjaWZpZWRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWx0TWFzayA9IFwiKFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChvcHRzLm51bWVyaWNJbnB1dCA/IG9wdHMubWFzay5yZXZlcnNlKCkgOiBvcHRzLm1hc2ssIGZ1bmN0aW9uIChuZHgsIG1zaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWx0TWFzay5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRNYXNrICs9IFwiKXwoXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zay5tYXNrICE9PSB1bmRlZmluZWQgJiYgISQuaXNGdW5jdGlvbihtc2subWFzaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdE1hc2sgKz0gcHJlUHJvY2Vzc01hc2sobXNrLm1hc2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0TWFzayArPSBwcmVQcm9jZXNzTWFzayhtc2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYWx0TWFzayArPSBcIilcIjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVNYXNrKGFsdE1hc2ssIG9wdHMubWFzayk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Ugb3B0cy5tYXNrID0gb3B0cy5tYXNrLnBvcCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0cy5tYXNrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5tYXNrLm1hc2sgIT09IHVuZGVmaW5lZCAmJiAhJC5pc0Z1bmN0aW9uKG9wdHMubWFzay5tYXNrKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1zID0gZ2VuZXJhdGVNYXNrKHByZVByb2Nlc3NNYXNrKG9wdHMubWFzay5tYXNrKSwgb3B0cy5tYXNrKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXMgPSBnZW5lcmF0ZU1hc2socHJlUHJvY2Vzc01hc2sob3B0cy5tYXNrKSwgb3B0cy5tYXNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG1zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudCxcclxuICAgICAgICAgICAgaXBob25lID0gdWEubWF0Y2gobmV3IFJlZ0V4cChcImlwaG9uZVwiLCBcImlcIikpICE9PSBudWxsLFxyXG4gICAgICAgICAgICAvLyBhbmRyb2lkID0gdWEubWF0Y2gobmV3IFJlZ0V4cChcImFuZHJvaWQuKnNhZmFyaS4qXCIsIFwiaVwiKSkgIT09IG51bGwsXHJcbiAgICAgICAgICAgIGFuZHJvaWRjaHJvbWUgPSB1YS5tYXRjaChuZXcgUmVnRXhwKFwiYW5kcm9pZC4qY2hyb21lLipcIiwgXCJpXCIpKSAhPT0gbnVsbCxcclxuICAgICAgICAgICAgYW5kcm9pZGZpcmVmb3ggPSB1YS5tYXRjaChuZXcgUmVnRXhwKFwiYW5kcm9pZC4qZmlyZWZveC4qXCIsIFwiaVwiKSkgIT09IG51bGwsXHJcbiAgICAgICAgICAgIC8vIGtpbmRsZSA9IC9LaW5kbGUvaS50ZXN0KHVhKSB8fCAvU2lsay9pLnRlc3QodWEpIHx8IC9LRlRUL2kudGVzdCh1YSkgfHwgL0tGT1QvaS50ZXN0KHVhKSB8fCAvS0ZKV0EvaS50ZXN0KHVhKSB8fCAvS0ZKV0kvaS50ZXN0KHVhKSB8fCAvS0ZTT1dJL2kudGVzdCh1YSkgfHwgL0tGVEhXQS9pLnRlc3QodWEpIHx8IC9LRlRIV0kvaS50ZXN0KHVhKSB8fCAvS0ZBUFdBL2kudGVzdCh1YSkgfHwgL0tGQVBXSS9pLnRlc3QodWEpLFxyXG4gICAgICAgICAgICBQYXN0ZUV2ZW50VHlwZSA9IGlzSW5wdXRFdmVudFN1cHBvcnRlZChcInBhc3RlXCIpID8gXCJwYXN0ZVwiIDogaXNJbnB1dEV2ZW50U3VwcG9ydGVkKFwiaW5wdXRcIikgPyBcImlucHV0XCIgOiBcInByb3BlcnR5Y2hhbmdlXCI7XHJcblxyXG4gICAgICAgIC8vaWYgKGFuZHJvaWRjaHJvbWUpIHtcclxuICAgICAgICAvL1x0XHR2YXIgYnJvd3NlciA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2gobmV3IFJlZ0V4cChcImNocm9tZS4qXCIsIFwiaVwiKSksXHJcbiAgICAgICAgLy9cdFx0XHRcdHZlcnNpb24gPSBwYXJzZUludChuZXcgUmVnRXhwKC9bMC05XSsvKS5leGVjKGJyb3dzZXIpKTtcclxuICAgICAgICAvL1x0XHRhbmRyb2lkY2hyb21lMzIgPSAodmVyc2lvbiA9PSAzMik7XHJcbiAgICAgICAgLy99XHJcblxyXG4gICAgICAgIC8vbWFza2luZyBzY29wZVxyXG4gICAgICAgIC8vYWN0aW9uT2JqIGRlZmluaXRpb24gc2VlIGJlbG93XHJcbiAgICAgICAgZnVuY3Rpb24gbWFza1Njb3BlKGFjdGlvbk9iaiwgbWFza3NldCwgb3B0cykge1xyXG4gICAgICAgICAgICB2YXIgaXNSVEwgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHVuZG9WYWx1ZSxcclxuICAgICAgICAgICAgICAgIC8vIGNvbXBvc2l0aW9uVmFsaWRQb3MsXHJcbiAgICAgICAgICAgICAgICBjb21wb3NpdGlvbkNhcmV0UG9zLFxyXG4gICAgICAgICAgICAgICAgY29tcG9zaXRpb25EYXRhLFxyXG4gICAgICAgICAgICAgICAgZWwsICRlbCxcclxuICAgICAgICAgICAgICAgIHNraXBLZXlQcmVzc0V2ZW50ID0gZmFsc2UsIC8vU2FmYXJpIDUuMS54IC0gbW9kYWwgZGlhbG9nIGZpcmVzIGtleXByZXNzIHR3aWNlIHdvcmthcm91bmRcclxuICAgICAgICAgICAgICAgIHNraXBJbnB1dEV2ZW50ID0gZmFsc2UsIC8vc2tpcCB3aGVuIHRyaWdnZXJlZCBmcm9tIHdpdGhpbiBpbnB1dG1hc2tcclxuICAgICAgICAgICAgICAgIGlnbm9yYWJsZSA9IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbW91c2VFbnRlciA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvL21hc2tzZXQgaGVscGVyZnVuY3Rpb25zXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE1hc2tUZW1wbGF0ZShiYXNlT25JbnB1dCwgbWluaW1hbFBvcywgaW5jbHVkZUlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICBtaW5pbWFsUG9zID0gbWluaW1hbFBvcyB8fCAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2tUZW1wbGF0ZSA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG5keEludGx6ciwgcG9zID0gMCxcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0LCB0ZXN0UG9zO1xyXG4gICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChiYXNlT25JbnB1dCA9PT0gdHJ1ZSAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdCA9IHZhbGlkUG9zLm1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZHhJbnRsenIgPSB2YWxpZFBvcy5sb2NhdG9yLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUZW1wbGF0ZS5wdXNoKGluY2x1ZGVJbnB1dCA9PT0gdHJ1ZSA/IHZhbGlkUG9zLmlucHV0IDogZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcImdldG1hc2t0ZW1wbGF0ZSBcIiArIHBvcyArIFwiIFwiICsgSlNPTi5zdHJpbmdpZnkobmR4SW50bHpyKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RQb3MgPSBnZXRUZXN0VGVtcGxhdGUocG9zLCBuZHhJbnRsenIsIHBvcyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0ID0gdGVzdFBvcy5tYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmR4SW50bHpyID0gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUZW1wbGF0ZS5wdXNoKGdldFBsYWNlaG9sZGVyKHBvcywgdGVzdCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgICAgIH0gd2hpbGUgKChtYXhMZW5ndGggPT09IHVuZGVmaW5lZCB8fCBwb3MgLSAxIDwgbWF4TGVuZ3RoKSAmJiB0ZXN0LmZuICE9PSBudWxsIHx8ICh0ZXN0LmZuID09PSBudWxsICYmIHRlc3QuZGVmICE9PSBcIlwiKSB8fCBtaW5pbWFsUG9zID49IHBvcyk7XHJcbiAgICAgICAgICAgICAgICBtYXNrVGVtcGxhdGUucG9wKCk7IC8vZHJvcCB0aGUgbGFzdCBvbmUgd2hpY2ggaXMgZW1wdHlcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrVGVtcGxhdGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE1hc2tTZXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFza3NldDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzZXRNYXNrU2V0KHNvZnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrc2V0ID0gZ2V0TWFza1NldCgpO1xyXG4gICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBtYXNrc2V0LnRlc3RzID0ge307XHJcbiAgICAgICAgICAgICAgICBpZiAoc29mdCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuX2J1ZmZlciA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LnZhbGlkUG9zaXRpb25zID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgbWFza3NldC5wID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0TGFzdFZhbGlkUG9zaXRpb24oY2xvc2VzdFRvLCBzdHJpY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrc2V0ID0gZ2V0TWFza1NldCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RWYWxpZFBvc2l0aW9uID0gLTEsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRzID0gbWFza3NldC52YWxpZFBvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgIGlmIChjbG9zZXN0VG8gPT09IHVuZGVmaW5lZCkgY2xvc2VzdFRvID0gLTE7XHJcbiAgICAgICAgICAgICAgICB2YXIgYmVmb3JlID0gbGFzdFZhbGlkUG9zaXRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXIgPSBsYXN0VmFsaWRQb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc05keCBpbiB2YWxpZHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHNOZHggPSBwYXJzZUludChwb3NOZHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZHNbcHNOZHhdICYmIChzdHJpY3QgfHwgdmFsaWRzW3BzTmR4XS5tYXRjaC5mbiAhPT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBzTmR4IDw9IGNsb3Nlc3RUbykgYmVmb3JlID0gcHNOZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwc05keCA+PSBjbG9zZXN0VG8pIGFmdGVyID0gcHNOZHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGFzdFZhbGlkUG9zaXRpb24gPSAoYmVmb3JlICE9PSAtMSAmJiAoY2xvc2VzdFRvIC0gYmVmb3JlKSA+IDEpIHx8IGFmdGVyIDwgY2xvc2VzdFRvID8gYmVmb3JlIDogYWZ0ZXI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbGFzdFZhbGlkUG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFZhbGlkUG9zaXRpb24ocG9zLCB2YWxpZFRlc3QsIGZyb21TZXRWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuaW5zZXJ0TW9kZSAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSAhPT0gdW5kZWZpbmVkICYmIGZyb21TZXRWYWxpZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9yZXBvc2l0aW9uICYgcmV2YWxpZGF0ZSBvdGhlcnNcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb25zQ2xvbmUgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBwb3M7IGkgPD0gbHZwOyBpKyspIHsgLy9jbGVhciBzZWxlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gPSB2YWxpZFRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkID0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaiwgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IChqID0gcG9zKTsgaSA8PSBsdnA7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHBvc2l0aW9uc0Nsb25lW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zTWF0Y2ggPSBqLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZQb3NNYXRjaCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHBvc01hdGNoIDwgZ2V0TWFza0xlbmd0aCgpICYmICgodC5tYXRjaC5mbiA9PSBudWxsICYmIHZwc1tpXSAmJiAodnBzW2ldLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciA9PT0gdHJ1ZSB8fCB2cHNbaV0ubWF0Y2gub3B0aW9uYWxpdHkgPT09IHRydWUpKSB8fCB0Lm1hdGNoLmZuICE9IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgbmV4dCBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0Lm1hdGNoLmZuID09PSBudWxsIHx8ICghb3B0cy5rZWVwU3RhdGljICYmIHZwc1tpXSAmJiAodnBzW2kgKyAxXSAhPT0gdW5kZWZpbmVkICYmIGdldFRlc3RzKGkgKyAxLCB2cHNbaV0ubG9jYXRvci5zbGljZSgpLCBpKS5sZW5ndGggPiAxIHx8IHZwc1tpXS5hbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zTWF0Y2grKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcG9zTWF0Y2ggPSBzZWVrTmV4dChqKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kb2VzIGl0IG1hdGNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uKHBvc01hdGNoLCB0Lm1hdGNoLmRlZikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBpc1ZhbGlkKHBvc01hdGNoLCB0LmlucHV0LCB0cnVlLCB0cnVlKSAhPT0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGogPSBwb3NNYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSB0Lm1hdGNoLmZuID09IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2UG9zTWF0Y2ggPT09IHBvc01hdGNoKSBicmVhazsgLy9wcmV2ZW50IGVuZGxlc3MgbG9vcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2UG9zTWF0Y2ggPSBwb3NNYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCBwb3NpdGlvbnNDbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gPSB2YWxpZFRlc3Q7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHN0cmlwVmFsaWRQb3NpdGlvbnMoc3RhcnQsIGVuZCwgbm9jaGVjaywgc3RyaWN0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgc3RhcnRQb3MgPSBzdGFydDtcclxuICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS5wID0gc3RhcnQ7IC8vbmVlZGVkIGZvciBhbHRlcm5hdGVkIHBvc2l0aW9uIGFmdGVyIG92ZXJ0eXBlIHNlbGVjdGlvblxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IHN0YXJ0UG9zOyBpIDwgZW5kOyBpKyspIHsgLy9jbGVhciBzZWxlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vY2hlY2sgPT09IHRydWUgfHwgb3B0cy5jYW5DbGVhclBvc2l0aW9uKGdldE1hc2tTZXQoKSwgaSwgZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgc3RyaWN0LCBvcHRzKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgLyplc2xpbnQtZGlzYWJsZSBzZW1pLXNwYWNpbmcgKi9cclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IHN0YXJ0UG9zICsgMTsgaSA8PSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpOykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qZXNsaW50LWRpc2FibGUgc2VtaS1zcGFjaW5nICovXHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tzdGFydFBvc10gIT09IHVuZGVmaW5lZCkgc3RhcnRQb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tzdGFydFBvc107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCBzdGFydFBvcykgaSA9IHN0YXJ0UG9zICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGlsZSAoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldID09IHVuZGVmaW5lZCkgaSsrO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICE9PSB1bmRlZmluZWQgJiYgaXNNYXNrKGkpICYmIHMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24oc3RhcnRQb3MsIHQubWF0Y2guZGVmKSAmJiBpc1ZhbGlkKHN0YXJ0UG9zLCB0LmlucHV0LCB0cnVlKSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUgcmFkaXhwb2ludCBpZiBuZWVkZWRcclxuICAgICAgICAgICAgICAgIHZhciBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1sID0gZ2V0TWFza0xlbmd0aCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cmljdCAhPT0gdHJ1ZSAmJiBub2NoZWNrICE9PSB0cnVlICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdICE9PSB1bmRlZmluZWQgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0uaW5wdXQgPT09IG9wdHMucmFkaXhQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBsdnAgKyAxOyBpIDw9IG1sOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCB0c3RQcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3RQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXTtcclxuICAgICAgICAgICAgICAgIGlmICh0ZXN0UG9zID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdFBvc2l0aW9ucyA9IGdldFRlc3RzKHBvcywgbmR4SW50bHpyLCB0c3RQcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGx2VGVzdCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdIHx8IGdldFRlc3RzKDApWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsdlRlc3RBbHRBcnIgPSAobHZUZXN0LmFsdGVybmF0aW9uICE9PSB1bmRlZmluZWQpID8gbHZUZXN0LmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5keCA9IDA7IG5keCA8IHRlc3RQb3NpdGlvbnMubGVuZ3RoOyBuZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0UG9zID0gdGVzdFBvc2l0aW9uc1tuZHhdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RQb3MubWF0Y2ggJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoKG9wdHMuZ3JlZWR5ICYmIHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICE9PSB0cnVlKSB8fCAodGVzdFBvcy5tYXRjaC5vcHRpb25hbGl0eSA9PT0gZmFsc2UgfHwgdGVzdFBvcy5tYXRjaC5uZXdCbG9ja01hcmtlciA9PT0gZmFsc2UpICYmIHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICE9PSB0cnVlKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgobHZUZXN0LmFsdGVybmF0aW9uID09PSB1bmRlZmluZWQgfHwgbHZUZXN0LmFsdGVybmF0aW9uICE9PSB0ZXN0UG9zLmFsdGVybmF0aW9uKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0gIT09IHVuZGVmaW5lZCAmJiBjaGVja0FsdGVybmF0aW9uTWF0Y2godGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIGx2VGVzdEFsdEFycikpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0UG9zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRUZXN0KHBvcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdLm1hdGNoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRlc3RzKHBvcylbMF0ubWF0Y2g7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uKHBvcywgZGVmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0cyA9IGdldFRlc3RzKHBvcyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB0bmR4ID0gMDsgdG5keCA8IHRlc3RzLmxlbmd0aDsgdG5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RzW3RuZHhdLm1hdGNoICYmIHRlc3RzW3RuZHhdLm1hdGNoLmRlZiA9PT0gZGVmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbGlkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRUZXN0cyhwb3MsIG5keEludGx6ciwgdHN0UHMsIGNhY2hlYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2tUb2tlbnMgPSBnZXRNYXNrU2V0KCkubWFza1Rva2VuLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlc3RQb3MgPSBuZHhJbnRsenIgPyB0c3RQcyA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbmR4SW5pdGlhbGl6ZXIgPSBuZHhJbnRsenIgfHwgWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdG9wID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0TWF0Y2gsIGlzRmlyc3RNYXRjaDtcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlVGVzdEZyb21Ub2tlbihtYXNrVG9rZW4sIG5keEluaXRpYWxpemVyLCBsb29wTmR4LCBxdWFudGlmaWVyUmVjdXJzZSkgeyAvL25keEluaXRpbGl6ZXIgY29udGFpbnMgYSBzZXQgb2YgaW5kZXhlcyB0byBzcGVlZHVwIHNlYXJjaGVzIGluIHRoZSBtdG9rZW5zXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlTWF0Y2gobWF0Y2gsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0UG9zID4gMTAwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwiSW5wdXRtYXNrOiBUaGVyZSBpcyBwcm9iYWJseSBhbiBlcnJvciBpbiB5b3VyIG1hc2sgZGVmaW5pdGlvbiBvciBpbiB0aGUgY29kZS4gQ3JlYXRlIGFuIGlzc3VlIG9uIGdpdGh1YiB3aXRoIGFuIGV4YW1wbGUgb2YgdGhlIG1hc2sgeW91IGFyZSB1c2luZy4gXCIgKyBnZXRNYXNrU2V0KCkubWFzaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVzdFBvcyA9PT0gcG9zICYmIG1hdGNoLm1hdGNoZXMgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1hdGNoXCI6IG1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibG9jYXRvclwiOiBsb29wTmR4LnJldmVyc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaC5tYXRjaGVzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5pc0dyb3VwICYmIHF1YW50aWZpZXJSZWN1cnNlICE9PSBtYXRjaCkgeyAvL3doZW4gYSBncm91cCBwYXNzIGFsb25nIHRvIHRoZSBxdWFudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBoYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1skLmluQXJyYXkobWF0Y2gsIG1hc2tUb2tlbi5tYXRjaGVzKSArIDFdLCBsb29wTmR4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaC5pc09wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsVG9rZW4gPSBtYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IHJlc29sdmVUZXN0RnJvbVRva2VuKG1hdGNoLCBuZHhJbml0aWFsaXplciwgbG9vcE5keCwgcXVhbnRpZmllclJlY3Vyc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3RNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5tYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdE1hdGNoID0gJC5pbkFycmF5KGxhdGVzdE1hdGNoLCBvcHRpb25hbFRva2VuLm1hdGNoZXMpID09PSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaXJzdE1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdG9wID0gdHJ1ZTsgLy9pbnNlcnQgYSBzdG9wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0UG9zID0gcG9zOyAvL21hdGNoIHRoZSBwb3NpdGlvbiBhZnRlciB0aGUgZ3JvdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2guaXNBbHRlcm5hdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdGVybmF0ZVRva2VuID0gbWF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRlcm5hdGVNYXRjaGVzID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRNYXRjaGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50TWF0Y2hlcyA9IG1hdGNoZXMuc2xpY2UoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9vcE5keENudCA9IGxvb3BOZHgubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHRJbmRleCA9IG5keEluaXRpYWxpemVyLmxlbmd0aCA+IDAgPyBuZHhJbml0aWFsaXplci5zaGlmdCgpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsdEluZGV4ID09PSAtMSB8fCB0eXBlb2YgYWx0SW5kZXggPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3MgPSB0ZXN0UG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmR4SW5pdGlhbGl6ZXJDbG9uZSA9IG5keEluaXRpYWxpemVyLnNsaWNlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRJbmRleEFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFsdEluZGV4ID09IFwic3RyaW5nXCIpIGFsdEluZGV4QXJyID0gYWx0SW5kZXguc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhbW5keCA9IDA7IGFtbmR4IDwgYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlcy5sZW5ndGg7IGFtbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gaGFuZGxlTWF0Y2goYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbW5keF0sIFthbW5keF0uY29uY2F0KGxvb3BOZHgpLCBxdWFudGlmaWVyUmVjdXJzZSkgfHwgbWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggIT09IHRydWUgJiYgbWF0Y2ggIT09IHVuZGVmaW5lZCAmJiAoYWx0SW5kZXhBcnJbYWx0SW5kZXhBcnIubGVuZ3RoIC0gMV0gPCBhbHRlcm5hdGVUb2tlbi5tYXRjaGVzLmxlbmd0aCkpIHsgLy9ubyBtYXRjaCBpbiB0aGUgYWx0ZXJuYXRpb25zIChsZW5ndGggbWlzbWF0Y2gpID0+IGxvb2sgZnVydGhlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudG5keCA9IG1hc2tUb2tlbi5tYXRjaGVzLmluZGV4T2YobWF0Y2gpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFza1Rva2VuLm1hdGNoZXMubGVuZ3RoID4gbnRuZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBoYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1tudG5keF0sIFtudG5keF0uY29uY2F0KGxvb3BOZHguc2xpY2UoMSwgbG9vcE5keC5sZW5ndGgpKSwgcXVhbnRpZmllclJlY3Vyc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdEluZGV4QXJyLnB1c2gobnRuZHgudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gobWF0Y2hlcywgZnVuY3Rpb24gKG5keCwgbG1udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQuYWx0ZXJuYXRpb24gPSBsb29wTmR4Lmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdFBvcyA9IGN1cnJlbnRQb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Nsb25lYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZHhJbml0aWFsaXplckNsb25lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmR4SW5pdGlhbGl6ZXJbaV0gPSBuZHhJbml0aWFsaXplckNsb25lW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mdXp6eSBtZXJnZSBtYXRjaGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuZHgxID0gMDsgbmR4MSA8IG1hbHRNYXRjaGVzLmxlbmd0aDsgbmR4MSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE1hdGNoID0gbWFsdE1hdGNoZXNbbmR4MV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0TWF0Y2guYWx0ZXJuYXRpb24gPSBhbHRNYXRjaC5hbHRlcm5hdGlvbiB8fCBsb29wTmR4Q250O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5keDIgPSAwOyBuZHgyIDwgbWFsdGVybmF0ZU1hdGNoZXMubGVuZ3RoOyBuZHgyKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE1hdGNoMiA9IG1hbHRlcm5hdGVNYXRjaGVzW25keDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZlcmlmeSBlcXVhbGl0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWx0TWF0Y2gubWF0Y2gubWFzayA9PT0gYWx0TWF0Y2gyLm1hdGNoLm1hc2sgJiYgKHR5cGVvZiBhbHRJbmRleCAhPT0gXCJzdHJpbmdcIiB8fCAkLmluQXJyYXkoYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKSwgYWx0SW5kZXhBcnIpICE9PSAtMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRNYXRjaGVzLnNwbGljZShuZHgxLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5keDEtLTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdE1hdGNoMi5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXSA9IGFsdE1hdGNoMi5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXSArIFwiLFwiICsgYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRNYXRjaDIuYWx0ZXJuYXRpb24gPSBhbHRNYXRjaC5hbHRlcm5hdGlvbjsgLy93ZSBwYXNzIHRoZSBhbHRlcm5hdGlvbiBpbmRleCA9PiB1c2VkIGluIGRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRlcm5hdGVNYXRjaGVzID0gbWFsdGVybmF0ZU1hdGNoZXMuY29uY2F0KG1hbHRNYXRjaGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhbHRJbmRleCA9PSBcInN0cmluZ1wiKSB7IC8vZmlsdGVyIG1hdGNoZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbHRlcm5hdGVNYXRjaGVzID0gJC5tYXAobWFsdGVybmF0ZU1hdGNoZXMsIGZ1bmN0aW9uIChsbW50LCBuZHgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaW5pdGUobmR4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFtYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uID0gbG1udC5hbHRlcm5hdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdExvY0FyciA9IGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQuYWx0ZXJuYXRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFsbmR4ID0gMDsgYWxuZHggPCBhbHRMb2NBcnIubGVuZ3RoOyBhbG5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW1hdGNoID0gJC5pbkFycmF5KGFsdExvY0FyclthbG5keF0sIGFsdEluZGV4QXJyKSAhPT0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFtYXRjaCkgeyAvL3JlYnVpbGQgdGhlIGxvY2F0b3Igd2l0aCB2YWxpZCBlbnRyaWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dICs9IFwiLFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dICs9IGFsdExvY0FyclthbG5keF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gPSBwYXJzZUludChhbHRMb2NBcnJbYWxuZHhdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1udC5hbHRlcm5hdGlvbiA9IGFsdGVybmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dICE9PSB1bmRlZmluZWQpIHJldHVybiBsbW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gY3VycmVudE1hdGNoZXMuY29uY2F0KG1hbHRlcm5hdGVNYXRjaGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdFBvcyA9IHBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0U3RvcCA9IG1hdGNoZXMubGVuZ3RoID4gMDsgLy9pbnNlcnQgYSBzdG9wZWxlbW50IHdoZW4gdGhlcmUgaXMgYW4gYWx0ZXJuYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYWx0SW5kZXhdKSB7IC8vaWYgbm90IGluIHRoZSBpbml0aWFsIGFsdGVybmF0aW9uID0+IGxvb2sgZnVydGhlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBoYW5kbGVNYXRjaChhbHRlcm5hdGVUb2tlbi5tYXRjaGVzW2FsdEluZGV4XSwgW2FsdEluZGV4XS5jb25jYXQobG9vcE5keCksIHF1YW50aWZpZXJSZWN1cnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG1hdGNoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoLmlzUXVhbnRpZmllciAmJiBxdWFudGlmaWVyUmVjdXJzZSAhPT0gbWFza1Rva2VuLm1hdGNoZXNbJC5pbkFycmF5KG1hdGNoLCBtYXNrVG9rZW4ubWF0Y2hlcykgLSAxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdCA9IG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHFuZHggPSAobmR4SW5pdGlhbGl6ZXIubGVuZ3RoID4gMCkgPyBuZHhJbml0aWFsaXplci5zaGlmdCgpIDogMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHFuZHggPCAoaXNOYU4ocXQucXVhbnRpZmllci5tYXgpID8gcW5keCArIDEgOiBxdC5xdWFudGlmaWVyLm1heCkpICYmIHRlc3RQb3MgPD0gcG9zOyBxbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuR3JvdXAgPSBtYXNrVG9rZW4ubWF0Y2hlc1skLmluQXJyYXkocXQsIG1hc2tUb2tlbi5tYXRjaGVzKSAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGhhbmRsZU1hdGNoKHRva2VuR3JvdXAsIFtxbmR4XS5jb25jYXQobG9vcE5keCksIHRva2VuR3JvdXApOyAvL3NldCB0aGUgdG9rZW5Hcm91cCBhcyBxdWFudGlmaWVyUmVjdXJzZSBtYXJrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBsYXRlc3QgbWF0Y2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdE1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLm1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0TWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyID0gcW5keCA+IChxdC5xdWFudGlmaWVyLm1pbiAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNGaXJzdE1hdGNoID0gJC5pbkFycmF5KGxhdGVzdE1hdGNoLCB0b2tlbkdyb3VwLm1hdGNoZXMpID09PSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0ZpcnN0TWF0Y2gpIHsgLy9zZWFyY2ggZm9yIG5leHQgcG9zc2libGUgbWF0Y2hcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocW5keCA+IChxdC5xdWFudGlmaWVyLm1pbiAtIDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFN0b3AgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0UG9zID0gcG9zOyAvL21hdGNoIHRoZSBwb3NpdGlvbiBhZnRlciB0aGUgZ3JvdXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vc3RvcCBxdWFudGlmaWVybG9vcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsIG5keEluaXRpYWxpemVyLCBsb29wTmR4LCBxdWFudGlmaWVyUmVjdXJzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHRlc3RQb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRuZHggPSAobmR4SW5pdGlhbGl6ZXIubGVuZ3RoID4gMCA/IG5keEluaXRpYWxpemVyLnNoaWZ0KCkgOiAwKTsgdG5keCA8IG1hc2tUb2tlbi5tYXRjaGVzLmxlbmd0aDsgdG5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXNrVG9rZW4ubWF0Y2hlc1t0bmR4XS5pc1F1YW50aWZpZXIgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IGhhbmRsZU1hdGNoKG1hc2tUb2tlbi5tYXRjaGVzW3RuZHhdLCBbdG5keF0uY29uY2F0KGxvb3BOZHgpLCBxdWFudGlmaWVyUmVjdXJzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgdGVzdFBvcyA9PT0gcG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXN0UG9zID4gcG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlYWJsZSA9PT0gdHJ1ZSAmJiBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChuZHhJbnRsenIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1BvcyA9IHBvcyAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCh0ZXN0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3ByZXZpb3VzUG9zXSkgPT09IHVuZGVmaW5lZCAmJiBwcmV2aW91c1BvcyA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkudGVzdHNbcHJldmlvdXNQb3NdICYmICh0ZXN0ID0gZ2V0TWFza1NldCgpLnRlc3RzW3ByZXZpb3VzUG9zXVswXSkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNQb3MtLTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0ICE9PSB1bmRlZmluZWQgJiYgcHJldmlvdXNQb3MgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXN0UG9zID0gcHJldmlvdXNQb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5keEluaXRpYWxpemVyID0gdGVzdC5sb2NhdG9yLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbXRuZHggPSBuZHhJbml0aWFsaXplci5zaGlmdCgpOyBtdG5keCA8IG1hc2tUb2tlbnMubGVuZ3RoOyBtdG5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWFza1Rva2Vuc1ttdG5keF0sIG5keEluaXRpYWxpemVyLCBbbXRuZHhdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKG1hdGNoICYmIHRlc3RQb3MgPT09IHBvcykgfHwgdGVzdFBvcyA+IHBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPT09IDAgfHwgaW5zZXJ0U3RvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibWF0Y2hcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBcIlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwibG9jYXRvclwiOiBbXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnRlc3RzW3Bvc10gPSAkLmV4dGVuZCh0cnVlLCBbXSwgbWF0Y2hlcyk7IC8vc2V0IGEgY2xvbmUgdG8gcHJldmVudCBvdmVyd3JpdGluZyBzb21lIHByb3BzXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9zICsgXCIgLSBcIiArIEpTT04uc3RyaW5naWZ5KG1hdGNoZXMpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QnVmZmVyVGVtcGxhdGUoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2V0TWFza1NldCgpLl9idWZmZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2VuZXJhdGUgdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkuX2J1ZmZlciA9IGdldE1hc2tUZW1wbGF0ZShmYWxzZSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TWFza1NldCgpLl9idWZmZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEJ1ZmZlcigpIHtcclxuICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkuYnVmZmVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkuYnVmZmVyID0gZ2V0TWFza1RlbXBsYXRlKHRydWUsIGdldExhc3RWYWxpZFBvc2l0aW9uKCksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc2tTZXQoKS5idWZmZXI7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlZnJlc2hGcm9tQnVmZmVyKHN0YXJ0LCBlbmQsIGJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgZ2V0QnVmZmVyKCkuc2xpY2UoKTsgLy9wYXNzIG9yIHdvcmsgb24gY2xvbmVcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBidWZmZXIubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudGVzdHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCh0cnVlKTsgLy9wcmV2ZW50cyBjbG9iYmVyIGZyb20gdGhlIGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJbaV0gIT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkKGksIGJ1ZmZlcltpXSwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjYXNpbmcoZWxlbSwgdGVzdCkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0ZXN0LmNhc2luZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1cHBlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG93ZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrQWx0ZXJuYXRpb25NYXRjaChhbHRBcnIxLCBhbHRBcnIyKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYWx0QXJyQyA9IG9wdHMuZ3JlZWR5ID8gYWx0QXJyMiA6IGFsdEFycjIuc2xpY2UoMCwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXRjaCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgYWxuZHggPSAwOyBhbG5keCA8IGFsdEFycjEubGVuZ3RoOyBhbG5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuaW5BcnJheShhbHRBcnIxW2FsbmR4XSwgYWx0QXJyQykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTWF0Y2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNNYXRjaDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNWYWxpZChwb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKSB7IC8vc3RyaWN0IHRydWUgfiBubyBjb3JyZWN0aW9uIG9yIGF1dG9maWxsXHJcbiAgICAgICAgICAgICAgICBzdHJpY3QgPSBzdHJpY3QgPT09IHRydWU7IC8vYWx3YXlzIHNldCBhIHZhbHVlIHRvIHN0cmljdCB0byBwcmV2ZW50IHBvc3NpYmxlIHN0cmFuZ2UgYmVoYXZpb3IgaW4gdGhlIGV4dGVuc2lvbnNcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBfaXNWYWxpZChwb3NpdGlvbiwgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcnNsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChnZXRUZXN0cyhwb3NpdGlvbiksIGZ1bmN0aW9uIChuZHgsIHRzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdCA9IHRzdC5tYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvb3BlbmQgPSBjID8gMSA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJzID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHRlc3QuY2FyZGluYWxpdHk7IGkgPiBsb29wZW5kOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNocnMgKz0gZ2V0QnVmZmVyRWxlbWVudChwb3NpdGlvbiAtIChpIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaHJzICs9IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmV0dXJuIGlzIGZhbHNlIG9yIGEganNvbiBvYmplY3QgPT4geyBwb3M6ID8/LCBjOiA/P30gb3IgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByc2x0ID0gdGVzdC5mbiAhPSBudWxsID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3QuZm4udGVzdChjaHJzLCBnZXRNYXNrU2V0KCksIHBvc2l0aW9uLCBzdHJpY3QsIG9wdHMpIDogKGMgPT09IHRlc3QuZGVmIHx8IGMgPT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcikgJiYgdGVzdC5kZWYgIT09IFwiXCIgPyAvL25vbiBtYXNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogdGVzdC5kZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzbHQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9IHJzbHQuYyAhPT0gdW5kZWZpbmVkID8gcnNsdC5jIDogYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSAoZWxlbSA9PT0gb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyICYmIHRlc3QuZm4gPT09IG51bGwpID8gdGVzdC5kZWYgOiBlbGVtO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0ZWRQb3MgPSBwb3NpdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZU1vZGlmaWVkQnVmZmVyID0gZ2V0QnVmZmVyKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzbHQucmVtb3ZlICE9PSB1bmRlZmluZWQpIHsgLy9yZW1vdmUgcG9zaXRpb24ocylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISQuaXNBcnJheShyc2x0LnJlbW92ZSkpIHJzbHQucmVtb3ZlID0gW3JzbHQucmVtb3ZlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gocnNsdC5yZW1vdmUuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYiAtIGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uIChuZHgsIGxtbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBWYWxpZFBvc2l0aW9ucyhsbW50LCBsbW50ICsgMSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnNsdC5pbnNlcnQgIT09IHVuZGVmaW5lZCkgeyAvL2luc2VydCBwb3NpdGlvbihzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJC5pc0FycmF5KHJzbHQuaW5zZXJ0KSkgcnNsdC5pbnNlcnQgPSBbcnNsdC5pbnNlcnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyc2x0Lmluc2VydC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24gKG5keCwgbG1udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkKGxtbnQucG9zLCBsbW50LmMsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyc2x0LnJlZnJlc2hGcm9tQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSByc2x0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmljdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXIocmVmcmVzaCA9PT0gdHJ1ZSA/IHJlZnJlc2ggOiByZWZyZXNoLnN0YXJ0LCByZWZyZXNoLmVuZCwgcG9zc2libGVNb2RpZmllZEJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJzbHQucG9zID09PSB1bmRlZmluZWQgJiYgcnNsdC5jID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnNsdC5wb3MgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vYnJlYWtvdXQgaWYgcmVmcmVzaEZyb21CdWZmZXIgJiYgbm90aGluZyB0byBpbnNlcnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVkUG9zID0gcnNsdC5wb3MgIT09IHVuZGVmaW5lZCA/IHJzbHQucG9zIDogcG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRlZFBvcyAhPT0gcG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnNsdCA9ICQuZXh0ZW5kKHJzbHQsIGlzVmFsaWQodmFsaWRhdGVkUG9zLCBlbGVtLCB0cnVlKSk7IC8vcmV2YWxpZGF0ZSBuZXcgcG9zaXRpb24gc3RyaWN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyc2x0ICE9PSB0cnVlICYmIHJzbHQucG9zICE9PSB1bmRlZmluZWQgJiYgcnNsdC5wb3MgIT09IHBvc2l0aW9uKSB7IC8vdGhlaXIgaXMgYSBwb3NpdGlvbiBvZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZWRQb3MgPSByc2x0LnBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcihwb3NpdGlvbiwgdmFsaWRhdGVkUG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVkUG9zICE9PSBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByc2x0ID0gJC5leHRlbmQocnNsdCwgaXNWYWxpZCh2YWxpZGF0ZWRQb3MsIGVsZW0sIHRydWUpKTsgLy9yZXZhbGlkYXRlIG5ldyBwb3NpdGlvbiBzdHJpY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnNsdCAhPT0gdHJ1ZSAmJiByc2x0LnBvcyA9PT0gdW5kZWZpbmVkICYmIHJzbHQuYyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvL2JyZWFrb3V0IGlmIG5vdGhpbmcgdG8gaW5zZXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5keCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXRWYWxpZFBvc2l0aW9uKHZhbGlkYXRlZFBvcywgJC5leHRlbmQoe30sIHRzdCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlucHV0XCI6IGNhc2luZyhlbGVtLCB0ZXN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmcm9tU2V0VmFsaWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnNsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvL2JyZWFrIGZyb20gJC5lYWNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJzbHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYWx0ZXJuYXRlKHBvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRQc0Nsb25lID0gJC5leHRlbmQodHJ1ZSwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RBbHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkUnNsdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0UG9zLCBpLCB2YWxpZFBvcztcclxuICAgICAgICAgICAgICAgICAgICAvL2ZpbmQgbGFzdCBtb2RpZmllZCBhbHRlcm5hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGxBbHQgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpOyBsQWx0ID49IDA7IGxBbHQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbEFsdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbHRQb3MgJiYgYWx0UG9zLmFsdGVybmF0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RBbHQgPSBsQWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpb24gPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0uYWx0ZXJuYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0VGVzdFRlbXBsYXRlKGxhc3RBbHQpLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSAhPT0gYWx0UG9zLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmluZCBmaXJzdCBkZWNpc2lvbiBtYWtpbmcgcG9zaXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEFsdCA9IHBhcnNlSW50KGxhc3RBbHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkZWNpc2lvblBvcyBpbiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2lzaW9uUG9zID0gcGFyc2VJbnQoZGVjaXNpb25Qb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2RlY2lzaW9uUG9zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWNpc2lvblBvcyA+PSBsYXN0QWx0ICYmIGFsdFBvcy5hbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE5keHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0ubG9jYXRvclthbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2lzaW9uVGFrZXIgPSBhbHRQb3MubG9jYXRvclthbHRlcm5hdGlvbl0gfHwgYWx0TmR4c1swXTsgLy9ubyBtYXRjaCBpbiB0aGUgYWx0ZXJuYXRpb25zIChsZW5ndGggbWlzbWF0Y2gpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY2lzaW9uVGFrZXIubGVuZ3RoID4gMCkgeyAvL25vIGRlY2lzaW9uIHRha2VuIH4gdGFrZSBmaXJzdCBvbmUgYXMgZGVjaWRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNpc2lvblRha2VyID0gZGVjaXNpb25UYWtlci5zcGxpdChcIixcIilbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtbmR4ID0gMDsgbW5keCA8IGFsdE5keHMubGVuZ3RoOyBtbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY2lzaW9uVGFrZXIgPCBhbHROZHhzW21uZHhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2liaWxpdHlQb3MsIHBvc3NpYmlsaXRpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkcCA9IGRlY2lzaW9uUG9zOyBkcCA+PSAwOyBkcC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2liaWxpdHlQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZHBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJpbGl0eVBvcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmlsaXRpZXMgPSBwb3NzaWJpbGl0eVBvcy5sb2NhdG9yW2FsdGVybmF0aW9uXTsgLy9zdG9yZSB0byByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3NpYmlsaXR5UG9zLmFsdGVybmF0aW9uID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJpbGl0eVBvcy5sb2NhdG9yW2FsdGVybmF0aW9uXSA9IHBhcnNlSW50KGFsdE5keHNbbW5keF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjaXNpb25UYWtlciAhPT0gcG9zc2liaWxpdHlQb3MubG9jYXRvclthbHRlcm5hdGlvbl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRJbnB1dHMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljSW5wdXRzQmVmb3JlUG9zID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBkZWNpc2lvblBvcyArIDE7IGkgPCBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICsgMTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRQb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFBvcy5tYXRjaC5mbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRJbnB1dHMucHVzaCh2YWxpZFBvcy5pbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGkgPCBwb3MpIHN0YXRpY0lucHV0c0JlZm9yZVBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudGVzdHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCh0cnVlKTsgLy9jbGVhciBnZXRidWZmZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmtlZXBTdGF0aWMgPSAhb3B0cy5rZWVwU3RhdGljOyAvL2Rpc2FibGUga2VlcFN0YXRpYyBvbiBnZXRNYXNrTGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZFJzbHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh2YWxpZElucHV0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHZhbGlkSW5wdXRzLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCAhPT0gb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShpc1ZhbGlkUnNsdCA9IGlzVmFsaWQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSArIDEsIGlucHV0LCBmYWxzZSwgdHJ1ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmlsaXR5UG9zLmFsdGVybmF0aW9uID0gYWx0ZXJuYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2liaWxpdHlQb3MubG9jYXRvclthbHRlcm5hdGlvbl0gPSBwb3NzaWJpbGl0aWVzOyAvL3Jlc2V0IGZvcmNlZGRlY2lzaW9uIH4gbmVlZGVkIGZvciBwcm9wZXIgZGVsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWRSc2x0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXRMdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbihwb3MpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRpY0lucHV0c0JlZm9yZVBvc0FsdGVybmF0ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IGRlY2lzaW9uUG9zICsgMTsgaSA8IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgKyAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUG9zICYmIHZhbGlkUG9zLm1hdGNoLmZuID09IG51bGwgJiYgaSA8IHBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0lucHV0c0JlZm9yZVBvc0FsdGVybmF0ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHBvcyArIChzdGF0aWNJbnB1dHNCZWZvcmVQb3NBbHRlcm5hdGUgLSBzdGF0aWNJbnB1dHNCZWZvcmVQb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkUnNsdCA9IGlzVmFsaWQocG9zID4gdGFyZ2V0THZwID8gdGFyZ2V0THZwIDogcG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMua2VlcFN0YXRpYyA9ICFvcHRzLmtlZXBTdGF0aWM7IC8vZW5hYmxlIGtlZXBTdGF0aWMgb24gZ2V0TWFza0xlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZFJzbHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9ICQuZXh0ZW5kKHRydWUsIHt9LCB2YWxpZFBzQ2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gaXNWYWxpZFJzbHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsdGVybmF0b3IgY2hvaWNlIG9uIHByZXZpb3VzIHNraXBwZWQgcGxhY2Vob2xkZXIgcG9zaXRpb25zXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmFja2JhY2tBbHRlcm5hdGlvbnMob3JpZ2luYWxQb3MsIG5ld1Bvcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2cCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tuZXdQb3NdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRMb2NhdG9yID0gdnAubG9jYXRvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGxsID0gdGFyZ2V0TG9jYXRvci5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBzID0gb3JpZ2luYWxQb3M7IHBzIDwgbmV3UG9zOyBwcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNNYXNrKHBzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3RzID0gZ2V0VGVzdHMocHMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IHRlc3RzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVxdWFsaXR5ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2godGVzdHMsIGZ1bmN0aW9uIChuZHgsIHRzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGxsOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRzdC5sb2NhdG9yW2ldICYmIGNoZWNrQWx0ZXJuYXRpb25NYXRjaCh0c3QubG9jYXRvcltpXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSwgdGFyZ2V0TG9jYXRvcltpXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSkgJiYgZXF1YWxpdHkgPCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcXVhbGl0eSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0TWF0Y2ggPSB0c3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbGlkUG9zaXRpb24ocHMsICQuZXh0ZW5kKHt9LCBiZXN0TWF0Y2gsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImlucHV0XCI6IGJlc3RNYXRjaC5tYXRjaC5kZWZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vQ2hlY2sgZm9yIGEgbm9ubWFzayBiZWZvcmUgdGhlIHBvc1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZmluZCBwcmV2aW91cyB2YWxpZFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcG5keCA9IHBvcyAtIDE7IHBuZHggPiAtMTsgcG5keC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twbmR4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLy8vZmlsbCBtaXNzaW5nIG5vbm1hc2sgYW5kIHZhbGlkIHBsYWNlaG9sZGVyc1xyXG4gICAgICAgICAgICAgICAgcG5keCsrO1xyXG4gICAgICAgICAgICAgICAgZm9yICg7IHBuZHggPCBwb3M7IHBuZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJtaXNzaW5nIFwiICsgcG5keCArIFwiIFwiICsgYnVmZmVyW3BuZHhdICsgXCIgaXNtYXNrIFwiICsgaXNNYXNrKHBuZHgpICsgXCIgcGxjaGxkciBcIiArIGdldFBsYWNlaG9sZGVyKHBuZHgpICsgXCIgbnJ0IFwiICsgZ2V0VGVzdHMocG5keCkubGVuKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BuZHhdID09PSB1bmRlZmluZWQgJiYgKCgoIWlzTWFzayhwbmR4KSB8fCBidWZmZXJbcG5keF0gIT09IGdldFBsYWNlaG9sZGVyKHBuZHgpKSAmJiBnZXRUZXN0cyhwbmR4KS5sZW5ndGggPiAxKSB8fCAoYnVmZmVyW3BuZHhdID09PSBvcHRzLnJhZGl4UG9pbnQgfHwgYnVmZmVyW3BuZHhdID09PSBcIjBcIiAmJiAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBidWZmZXIpIDwgcG5keCkpKSAvL3NwZWNpYWwgY2FzZSBmb3IgZGVjaW1hbHMgfiA9IHBsYWNlaG9sZGVyIGJ1dCB5ZXQgdmFsaWQgaW5wdXRcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJpbmplY3QgXCIgKyBwbmR4ICsgXCIgXCIgKyBidWZmZXJbcG5keF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfaXNWYWxpZChwbmR4LCBidWZmZXJbcG5keF0sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza1BvcyA9IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnNDbG9uZSA9ICQuZXh0ZW5kKHRydWUsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpOyAvL2Nsb25lIHRoZSBjdXJyZW50UG9zaXRpb25zXHJcblxyXG4gICAgICAgICAgICAgICAgLy9pZiAoZnJvbVNldFZhbGlkICYmIG1hc2tQb3MgPj0gZ2V0TWFza0xlbmd0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICAvL1x0XHRyZXNldE1hc2tTZXQodHJ1ZSk7IC8vbWFza2xlbmdodCBjYW4gYmUgYWx0ZXJlZCBvbiB0aGUgcHJvY2VzcyA9PiByZXNldCB0byBnZXQgdGhlIGFjdHVhbCBsZW5ndGhcclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgaWYgKG1hc2tQb3MgPCBnZXRNYXNrTGVuZ3RoKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRCdWZmZXIoKTsgLy9tYWtlIHN1cmUgdGhlIGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9pc1ZhbGlkKG1hc2tQb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKCFzdHJpY3QgfHwgZnJvbVNldFZhbGlkKSAmJiByZXN1bHQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UG9zVmFsaWQgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbWFza1Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UG9zVmFsaWQgJiYgY3VycmVudFBvc1ZhbGlkLm1hdGNoLmZuID09PSBudWxsICYmIChjdXJyZW50UG9zVmFsaWQubWF0Y2guZGVmID09PSBjIHx8IGMgPT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNhcmV0XCI6IHNlZWtOZXh0KG1hc2tQb3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChvcHRzLmluc2VydE1vZGUgfHwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3NlZWtOZXh0KG1hc2tQb3MpXSA9PT0gdW5kZWZpbmVkKSAmJiAhaXNNYXNrKG1hc2tQb3MpKSB7IC8vZG9lcyB0aGUgaW5wdXQgbWF0Y2ggb24gYSBmdXJ0aGVyIHBvc2l0aW9uP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgblBvcyA9IG1hc2tQb3MgKyAxLCBzblBvcyA9IHNlZWtOZXh0KG1hc2tQb3MpOyBuUG9zIDw9IHNuUG9zOyBuUG9zKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfaXNWYWxpZChuUG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tiYWNrQWx0ZXJuYXRpb25zKG1hc2tQb3MsIG5Qb3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrUG9zID0gblBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UgJiYgb3B0cy5rZWVwU3RhdGljICYmIGlzQ29tcGxldGUoYnVmZmVyKSkgeyAvL3RyeSBmdXp6eSBhbHRlcm5hdG9yIGxvZ2ljXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gYWx0ZXJuYXRlKHBvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJwb3NcIjogbWFza1Bvc1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMucG9zdFZhbGlkYXRpb24pICYmIHJlc3VsdCAhPT0gZmFsc2UgJiYgIXN0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zdFZhbGlkUmVzdWx0ID0gb3B0cy5wb3N0VmFsaWRhdGlvbihnZXRCdWZmZXIoKSwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwb3N0VmFsaWRSZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgcG9zaXRpb25zQ2xvbmUpOyAvL3JldmVydCB2YWxpZGF0aW9uIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwb3N0VmFsaWRSZXN1bHQucmVmcmVzaEZyb21CdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSBwb3N0VmFsaWRSZXN1bHQucmVmcmVzaEZyb21CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKHJlZnJlc2ggPT09IHRydWUgPyByZWZyZXNoIDogcmVmcmVzaC5zdGFydCwgcmVmcmVzaC5lbmQsIHBvc3RWYWxpZFJlc3VsdC5idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHBvc3RWYWxpZFJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNNYXNrKHBvcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3QgPSBnZXRUZXN0KHBvcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVzdC5mbiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlc3QuZm47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFvcHRzLmtlZXBTdGF0aWMgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0cyA9IGdldFRlc3RzKHBvcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0FsdGVybmF0aW9ucyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVzdHNbaV0ubWF0Y2guZGVmICE9PSBcIlwiICYmICggLyp0ZXN0c1tpXS5tYXRjaC5mbiAhPT0gbnVsbCB8fCAqLyAodGVzdHNbaV0uYWx0ZXJuYXRpb24gPT09IHVuZGVmaW5lZCB8fCB0ZXN0c1tpXS5sb2NhdG9yW3Rlc3RzW2ldLmFsdGVybmF0aW9uXS5sZW5ndGggPiAxKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0FsdGVybmF0aW9ucyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRpY0FsdGVybmF0aW9ucztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldE1hc2tMZW5ndGgoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza0xlbmd0aDtcclxuICAgICAgICAgICAgICAgIG1heExlbmd0aCA9ICRlbC5wcm9wKFwibWF4TGVuZ3RoXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1heExlbmd0aCA9PT0gLTEpIG1heExlbmd0aCA9IHVuZGVmaW5lZDsgLyogRkYgc2V0cyBubyBkZWZpbmVkIG1heCBsZW5ndGggdG8gLTEgKi9cclxuICAgICAgICAgICAgICAgIHZhciBwb3MsIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGVzdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLFxyXG4gICAgICAgICAgICAgICAgICAgIG5keEludGx6ciA9IHRlc3RQb3MgIT09IHVuZGVmaW5lZCA/IHRlc3RQb3MubG9jYXRvci5zbGljZSgpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgZm9yIChwb3MgPSBsdnAgKyAxOyB0ZXN0UG9zID09PSB1bmRlZmluZWQgfHwgKHRlc3RQb3MubWF0Y2guZm4gIT09IG51bGwgfHwgKHRlc3RQb3MubWF0Y2guZm4gPT09IG51bGwgJiYgdGVzdFBvcy5tYXRjaC5kZWYgIT09IFwiXCIpKTsgcG9zKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0UG9zID0gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCBwb3MgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBuZHhJbnRsenIgPSB0ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbGFzdFRlc3QgPSBnZXRUZXN0KHBvcyAtIDEpO1xyXG4gICAgICAgICAgICAgICAgbWFza0xlbmd0aCA9IChsYXN0VGVzdC5kZWYgIT09IFwiXCIpID8gcG9zIDogcG9zIC0gMTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAobWF4TGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbWFza0xlbmd0aCA8IG1heExlbmd0aCkgPyBtYXNrTGVuZ3RoIDogbWF4TGVuZ3RoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZWVrTmV4dChwb3MsIG5ld0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza0wgPSBnZXRNYXNrTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zID49IG1hc2tMKSByZXR1cm4gbWFza0w7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoKytwb3NpdGlvbiA8IG1hc2tMICYmICgobmV3QmxvY2sgPT09IHRydWUgJiYgKGdldFRlc3QocG9zaXRpb24pLm5ld0Jsb2NrTWFya2VyICE9PSB0cnVlIHx8ICFpc01hc2socG9zaXRpb24pKSkgfHwgKG5ld0Jsb2NrICE9PSB0cnVlICYmICFpc01hc2socG9zaXRpb24pICYmIChvcHRzLm5vanVtcHMgIT09IHRydWUgfHwgb3B0cy5ub2p1bXBzVGhyZXNob2xkID4gcG9zaXRpb24pKSkpIHt9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNlZWtQcmV2aW91cyhwb3MsIG5ld0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPD0gMCkgcmV0dXJuIDA7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKC0tcG9zaXRpb24gPiAwICYmICgobmV3QmxvY2sgPT09IHRydWUgJiYgZ2V0VGVzdChwb3NpdGlvbikubmV3QmxvY2tNYXJrZXIgIT09IHRydWUpIHx8IChuZXdCbG9jayAhPT0gdHJ1ZSAmJiAhaXNNYXNrKHBvc2l0aW9uKSkpKSB7fVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QnVmZmVyRWxlbWVudChwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0gPT09IHVuZGVmaW5lZCA/IGdldFBsYWNlaG9sZGVyKHBvc2l0aW9uKSA6IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0uaW5wdXQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIsIGNhcmV0UG9zLCBldmVudCwgdHJpZ2dlcklucHV0RXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudCAmJiAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvcHRzLm9uQmVmb3JlV3JpdGUuY2FsbChpbnB1dCwgZXZlbnQsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSByZXN1bHQucmVmcmVzaEZyb21CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcihyZWZyZXNoID09PSB0cnVlID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCByZXN1bHQuYnVmZmVyIHx8IGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBnZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldFBvcyA9IHJlc3VsdC5jYXJldCAhPT0gdW5kZWZpbmVkID8gcmVzdWx0LmNhcmV0IDogY2FyZXRQb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZVNldChidWZmZXIuam9pbihcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FyZXRQb3MgIT09IHVuZGVmaW5lZCAmJiAoZXZlbnQgPT09IHVuZGVmaW5lZCB8fCBldmVudC50eXBlICE9PSBcImJsdXJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgY2FyZXRQb3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJJbnB1dEV2ZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2tpcElucHV0RXZlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICQoaW5wdXQpLnRyaWdnZXIoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICB0ZXN0ID0gdGVzdCB8fCBnZXRUZXN0KHBvcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGVzdC5wbGFjZWhvbGRlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlc3QucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRlc3QuZm4gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdHMua2VlcFN0YXRpYyAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0cyA9IGdldFRlc3RzKHBvcyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNBbHRlcm5hdGlvbnMgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZUZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldlRlc3QgJiYgdGVzdHNbaV0ubWF0Y2guZGVmICE9PSBcIlwiICYmICh0ZXN0c1tpXS5tYXRjaC5kZWYgIT09IHByZXZUZXN0Lm1hdGNoLmRlZiAmJiAodGVzdHNbaV0uYWx0ZXJuYXRpb24gPT09IHVuZGVmaW5lZCB8fCB0ZXN0c1tpXS5hbHRlcm5hdGlvbiA9PT0gcHJldlRlc3QuYWx0ZXJuYXRpb24pKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FsdGVybmF0aW9ucyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsaXR5ICE9PSB0cnVlICYmIHRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZUZXN0ID0gdGVzdHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNBbHRlcm5hdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3MgJSBvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRlc3QuZGVmO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQocG9zICUgb3B0cy5wbGFjZWhvbGRlci5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjaGVja1ZhbChpbnB1dCwgd3JpdGVPdXQsIHN0cmljdCwgbnB0dmwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gbnB0dmwgIT09IHVuZGVmaW5lZCA/IG5wdHZsLnNsaWNlKCkgOiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkuc3BsaXQoXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGVzID0gXCJcIixcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsTmR4ID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpc1RlbXBsYXRlTWF0Y2goKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzTWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hhckNvZGVOZHggPSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKGluaXRpYWxOZHgsIHNlZWtOZXh0KGluaXRpYWxOZHgpKS5qb2luKFwiXCIpLmluZGV4T2YoY2hhckNvZGVzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhckNvZGVOZHggIT09IC0xICYmICFpc01hc2soaW5pdGlhbE5keCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNNYXRjaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJUZW1wbGF0ZUFyciA9IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoaW5pdGlhbE5keCwgaW5pdGlhbE5keCArIGNoYXJDb2RlTmR4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJUZW1wbGF0ZUFyci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlclRlbXBsYXRlQXJyW2ldICE9PSBcIiBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTWF0Y2ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzTWF0Y2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoKTtcclxuICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS5wID0gc2Vla05leHQoLTEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdyaXRlT3V0KSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpOyAvL2luaXRpYWwgY2xlYXJcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmF1dG9Vbm1hc2sgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRpY0lucHV0ID0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZSgwLCBzZWVrTmV4dCgtMSkpLmpvaW4oXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaGVzID0gaW5wdXRWYWx1ZS5qb2luKFwiXCIpLm1hdGNoKG5ldyBSZWdFeHAoXCJeXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgoc3RhdGljSW5wdXQpLCBcImdcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUuc3BsaWNlKDAsIG1hdGNoZXMubGVuZ3RoICogc3RhdGljSW5wdXQubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxOZHggPSBzZWVrTmV4dChpbml0aWFsTmR4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxOZHggPSBzZWVrTmV4dChpbml0aWFsTmR4KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICQuZWFjaChpbnB1dFZhbHVlLCBmdW5jdGlvbiAobmR4LCBjaGFyQ29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlwcmVzcyA9ICQuRXZlbnQoXCJrZXlwcmVzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBrZXlwcmVzcy53aGljaCA9IGNoYXJDb2RlLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGVzICs9IGNoYXJDb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbih1bmRlZmluZWQsIHRydWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsdlRlc3QgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRlc3QgPSBnZXRUZXN0VGVtcGxhdGUobHZwICsgMSwgbHZUZXN0ID8gbHZUZXN0LmxvY2F0b3Iuc2xpY2UoKSA6IHVuZGVmaW5lZCwgbHZwKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVGVtcGxhdGVNYXRjaCgpIHx8IHN0cmljdCB8fCBvcHRzLmF1dG9Vbm1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IHN0cmljdCA/IG5keCA6IChuZXh0VGVzdC5tYXRjaC5mbiA9PSBudWxsICYmIG5leHRUZXN0Lm1hdGNoLm9wdGlvbmFsaXR5ICYmIChsdnAgKyAxKSA8IGdldE1hc2tTZXQoKS5wID8gbHZwICsgMSA6IGdldE1hc2tTZXQoKS5wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcywgdHJ1ZSwgZmFsc2UsIHN0cmljdCwgcG9zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbE5keCA9IHBvcyArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlcyA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcywgdHJ1ZSwgZmFsc2UsIHRydWUsIGx2cCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHdyaXRlT3V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBpbnB1dCA/IHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKDApKSA6IHVuZGVmaW5lZCwgJC5FdmVudChcImNoZWNrdmFsXCIpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gdW5tYXNrZWR2YWx1ZSgkaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkaW5wdXRbMF0uaW5wdXRtYXNrICYmICEkaW5wdXQuaGFzQ2xhc3MoXCJoYXNEYXRlcGlja2VyXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVtVmFsdWUgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBuZHggaW4gdnBzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2cHNbcG5keF0ubWF0Y2ggJiYgdnBzW3BuZHhdLm1hdGNoLmZuICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVtVmFsdWUucHVzaCh2cHNbcG5keF0uaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1bm1hc2tlZFZhbHVlID0gdW1WYWx1ZS5sZW5ndGggPT09IDAgPyBudWxsIDogKGlzUlRMID8gdW1WYWx1ZS5yZXZlcnNlKCkgOiB1bVZhbHVlKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1bm1hc2tlZFZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJWYWx1ZSA9IChpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpIDogZ2V0QnVmZmVyKCkpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5vblVuTWFzaykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVubWFza2VkVmFsdWUgPSAob3B0cy5vblVuTWFzay5jYWxsKCRpbnB1dCwgYnVmZmVyVmFsdWUsIHVubWFza2VkVmFsdWUsIG9wdHMpIHx8IHVubWFza2VkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bm1hc2tlZFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJGlucHV0WzBdLmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2FyZXQoaW5wdXQsIGJlZ2luLCBlbmQpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVBvc2l0aW9uKHBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1JUTCAmJiB0eXBlb2YgcG9zID09PSBcIm51bWJlclwiICYmICghb3B0cy5ncmVlZHkgfHwgb3B0cy5wbGFjZWhvbGRlciAhPT0gXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJmZnJMZ2h0ID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKS5sZW5ndGg7IC8vam9pbiBpcyBuZWVkZWQgYmVjYXVzZSBzb21ldGltZXMgd2UgZ2V0IGFuIGVtcHR5IGJ1ZmZlciBlbGVtZW50IHdoaWNoIG11c3Qgbm90IGJlIGNvdW50ZWQgZm9yIHRoZSBjYXJldCBwb3NpdGlvbiAobnVtZXJpYyBhbGlhcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gYmZmckxnaHQgLSBwb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJlZ2luID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmVnaW4gPSB0cmFuc2xhdGVQb3NpdGlvbihiZWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gdHJhbnNsYXRlUG9zaXRpb24oZW5kKTtcclxuICAgICAgICAgICAgICAgICAgICBlbmQgPSAodHlwZW9mIGVuZCA9PSBcIm51bWJlclwiKSA/IGVuZCA6IGJlZ2luO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghJChpbnB1dCkuaXMoXCI6dmlzaWJsZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsQ2FsYyA9IGlucHV0LnN0eWxlLmZvbnRTaXplLnJlcGxhY2UoXCJweFwiLCBcIlwiKSAqIGVuZDtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dC5zY3JvbGxMZWZ0ID0gc2Nyb2xsQ2FsYyA+IGlucHV0LnNjcm9sbFdpZHRoID8gc2Nyb2xsQ2FsYyA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbmRyb2lkY2hyb21lICYmIG9wdHMuaW5zZXJ0TW9kZSA9PT0gZmFsc2UgJiYgYmVnaW4gPT09IGVuZCkgZW5kKys7IC8vc2V0IHZpc3VhbGl6YXRpb24gZm9yIGluc2VydC9vdmVyd3JpdGUgbW9kZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZWxlY3Rpb25TdGFydCA9IGJlZ2luO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5zZWxlY3Rpb25FbmQgPSBlbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmZpcnN0Q2hpbGQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoaW5wdXQuZmlyc3RDaGlsZCwgYmVnaW4gPCBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoID8gYmVnaW4gOiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKGlucHV0LmZpcnN0Q2hpbGQsIGVuZCA8IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGggPyBlbmQgOiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pbnB1dC5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuY3JlYXRlVGV4dFJhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gaW5wdXQuY3JlYXRlVGV4dFJhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsIGVuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCBiZWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWdpbiA9IGlucHV0LnNlbGVjdGlvblN0YXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpbnB1dC5zZWxlY3Rpb25FbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lci5wYXJlbnROb2RlID09PSBpbnB1dCB8fCByYW5nZS5jb21tb25BbmNlc3RvckNvbnRhaW5lciA9PT0gaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSByYW5nZS5lbmRPZmZzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW4gPSAwIC0gcmFuZ2UuZHVwbGljYXRlKCkubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIC0xMDAwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBiZWdpbiArIHJhbmdlLnRleHQubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvKmVzbGludC1kaXNhYmxlIGNvbnNpc3RlbnQtcmV0dXJuICovXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJiZWdpblwiOiB0cmFuc2xhdGVQb3NpdGlvbihiZWdpbiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZW5kXCI6IHRyYW5zbGF0ZVBvc2l0aW9uKGVuZClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8qZXNsaW50LWVuYWJsZSBjb25zaXN0ZW50LXJldHVybiAqL1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbihyZXR1cm5EZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgYmwgPSBidWZmZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvcywgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnMgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICBsdlRlc3QgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSxcclxuICAgICAgICAgICAgICAgICAgICBuZHhJbnRsenIgPSBsdlRlc3QgIT09IHVuZGVmaW5lZCA/IGx2VGVzdC5sb2NhdG9yLnNsaWNlKCkgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVzdFBvcztcclxuICAgICAgICAgICAgICAgIGZvciAocG9zID0gbHZwICsgMTsgcG9zIDwgYnVmZmVyLmxlbmd0aDsgcG9zKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXN0UG9zID0gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCBwb3MgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICBuZHhJbnRsenIgPSB0ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbnNbcG9zXSA9ICQuZXh0ZW5kKHRydWUsIHt9LCB0ZXN0UG9zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbHZUZXN0QWx0ID0gbHZUZXN0ICYmIGx2VGVzdC5hbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkID8gbHZUZXN0LmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGZvciAocG9zID0gYmwgLSAxOyBwb3MgPiBsdnA7IHBvcy0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVzdFBvcyA9IHBvc2l0aW9uc1twb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodGVzdFBvcy5tYXRjaC5vcHRpb25hbGl0eSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVzdFBvcy5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsdlRlc3RBbHQgJiYgKChsdlRlc3RBbHQgIT09IHBvc2l0aW9uc1twb3NdLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSAmJiB0ZXN0UG9zLm1hdGNoLmZuICE9IG51bGwpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRlc3RQb3MubWF0Y2guZm4gPT09IG51bGwgJiYgdGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0gJiYgY2hlY2tBbHRlcm5hdGlvbk1hdGNoKHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLCBsdlRlc3RBbHQudG9TdHJpbmcoKS5zcGxpdChcIixcIikpICYmIGdldFRlc3RzKHBvcylbMF0uZGVmICE9PSBcIlwiKSkpKSAmJiBidWZmZXJbcG9zXSA9PT0gZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0UG9zLm1hdGNoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBibC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5EZWZpbml0aW9uID8ge1xyXG4gICAgICAgICAgICAgICAgICAgIFwibFwiOiBibCxcclxuICAgICAgICAgICAgICAgICAgICBcImRlZlwiOiBwb3NpdGlvbnNbYmxdID8gcG9zaXRpb25zW2JsXS5tYXRjaCA6IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgfSA6IGJsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBybCA9IGRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgbG1pYiA9IGJ1ZmZlci5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgZm9yICg7IGxtaWIgPiBybDsgbG1pYi0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTWFzayhsbWliKSkgYnJlYWs7IC8vZml4bWUgaXNtYXNrIGlzIG5vdCBnb29kIGVub3VnaFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnVmZmVyLnNwbGljZShybCwgbG1pYiArIDEgLSBybCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNDb21wbGV0ZShidWZmZXIpIHsgLy9yZXR1cm4gdHJ1ZSAvIGZhbHNlIC8gdW5kZWZpbmVkIChyZXBlYXQgKilcclxuICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5pc0NvbXBsZXRlKSkgcmV0dXJuIG9wdHMuaXNDb21wbGV0ZS5jYWxsKCRlbCwgYnVmZmVyLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnJlcGVhdCA9PT0gXCIqXCIpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29tcGxldGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBscnAgPSBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbih0cnVlKSxcclxuICAgICAgICAgICAgICAgICAgICBhbWwgPSBzZWVrUHJldmlvdXMobHJwLmwpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChscnAuZGVmID09PSB1bmRlZmluZWQgfHwgbHJwLmRlZi5uZXdCbG9ja01hcmtlciB8fCBscnAuZGVmLm9wdGlvbmFsaXR5IHx8IGxycC5kZWYub3B0aW9uYWxRdWFudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGFtbDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gZ2V0VGVzdFRlbXBsYXRlKGkpLm1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHRlc3QuZm4gIT09IG51bGwgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldID09PSB1bmRlZmluZWQgJiYgdGVzdC5vcHRpb25hbGl0eSAhPT0gdHJ1ZSAmJiB0ZXN0Lm9wdGlvbmFsUXVhbnRpZmllciAhPT0gdHJ1ZSkgfHwgKHRlc3QuZm4gPT09IG51bGwgJiYgYnVmZmVyW2ldICE9PSBnZXRQbGFjZWhvbGRlcihpLCB0ZXN0KSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNTZWxlY3Rpb24oYmVnaW4sIGVuZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzUlRMID8gKGJlZ2luIC0gZW5kKSA+IDEgfHwgKChiZWdpbiAtIGVuZCkgPT09IDEgJiYgb3B0cy5pbnNlcnRNb2RlKSA6XHJcbiAgICAgICAgICAgICAgICAgICAgKGVuZCAtIGJlZ2luKSA+IDEgfHwgKChlbmQgLSBiZWdpbikgPT09IDEgJiYgb3B0cy5pbnNlcnRNb2RlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW5zdGFsbEV2ZW50UnVsZXIobnB0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRzID0gJC5fZGF0YShucHQpLmV2ZW50cyxcclxuICAgICAgICAgICAgICAgICAgICBpbkNvbXBvc2l0aW9uID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKGV2ZW50cywgZnVuY3Rpb24gKGV2ZW50VHlwZSwgZXZlbnRIYW5kbGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChldmVudEhhbmRsZXJzLCBmdW5jdGlvbiAobmR4LCBldmVudEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50SGFuZGxlci5uYW1lc3BhY2UgPT09IFwiaW5wdXRtYXNrXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZXZlbnRIYW5kbGVyLmhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudEhhbmRsZXIuaGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ0cmlnZ2VyZWQgXCIgKyBlLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0bWFzayA9PT0gdW5kZWZpbmVkKSB7IC8vaGFwcGVucyB3aGVuIGNsb25pbmcgYW4gb2JqZWN0IHdpdGgganF1ZXJ5LmNsb25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbU9wdHMgPSAkLmRhdGEodGhpcywgXCJfaW5wdXRtYXNrX29wdHNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbU9wdHMpKG5ldyBJbnB1dG1hc2soaW1PcHRzKSkubWFzayh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAkKHRoaXMpLnVuYmluZChcIi5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLnR5cGUgIT09IFwic2V0dmFsdWVcIiAmJiAodGhpcy5kaXNhYmxlZCB8fCAodGhpcy5yZWFkT25seSAmJiAhKGUudHlwZSA9PT0gXCJrZXlkb3duXCIgJiYgKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT09IDY3KSB8fCAob3B0cy50YWJUaHJvdWdoID09PSBmYWxzZSAmJiBlLmtleUNvZGUgPT09IElucHV0bWFzay5rZXlDb2RlLlRBQikpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5wdXRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcElucHV0RXZlbnQgPT09IHRydWUgfHwgaW5Db21wb3NpdGlvbiA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwSW5wdXRFdmVudCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9TYWZhcmkgNS4xLnggLSBtb2RhbCBkaWFsb2cgZmlyZXMga2V5cHJlc3MgdHdpY2Ugd29ya2Fyb3VuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBLZXlQcmVzc0V2ZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5Db21wb3NpdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXBLZXlQcmVzc0V2ZW50ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBLZXlQcmVzc0V2ZW50ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluQ29tcG9zaXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcElucHV0RXZlbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5Db21wb3NpdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJleGVjdXRlZCBcIiArIGUudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHBhdGNoVmFsdWVQcm9wZXJ0eShucHQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZUdldDtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZVNldDtcclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBwYXRjaFZhbGhvb2sodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkLnZhbEhvb2tzICYmICQudmFsSG9va3NbdHlwZV0gPT09IHVuZGVmaW5lZCB8fCAkLnZhbEhvb2tzW3R5cGVdLmlucHV0bWFza3BhdGNoICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxob29rR2V0ID0gJC52YWxIb29rc1t0eXBlXSAmJiAkLnZhbEhvb2tzW3R5cGVdLmdldCA/ICQudmFsSG9va3NbdHlwZV0uZ2V0IDogZnVuY3Rpb24gKGVsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaG9va1NldCA9ICQudmFsSG9va3NbdHlwZV0gJiYgJC52YWxIb29rc1t0eXBlXS5zZXQgPyAkLnZhbEhvb2tzW3R5cGVdLnNldCA6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLnZhbEhvb2tzW3R5cGVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmlucHV0bWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbGhvb2tHZXQoZWxlbSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldCA9IGVsZW0uaW5wdXRtYXNrLm1hc2tzZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyVGVtcGxhdGUgPSBtYXNrc2V0Ll9idWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJUZW1wbGF0ZSA9IGJ1ZmZlclRlbXBsYXRlID8gYnVmZmVyVGVtcGxhdGUuam9pbihcIlwiKSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ICE9PSBidWZmZXJUZW1wbGF0ZSA/IHJlc3VsdCA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcmV0dXJuIHZhbGhvb2tHZXQoZWxlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGVsZW0gPSAkKGVsZW0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsaG9va1NldChlbGVtLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW0uaW5wdXRtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRlbGVtLnRyaWdnZXJIYW5kbGVyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0bWFza3BhdGNoOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldHRlcigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzayA/IHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSA6ICh2YWx1ZUdldC5jYWxsKHRoaXMpICE9PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgPyB2YWx1ZUdldC5jYWxsKHRoaXMpIDogXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiB2YWx1ZUdldC5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNldHRlcih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlU2V0LmNhbGwodGhpcywgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0bWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnRyaWdnZXJIYW5kbGVyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBpbnN0YWxsTmF0aXZlVmFsdWVTZXRGYWxsYmFjayhucHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKG5wdCkuYmluZChcIm1vdXNlZW50ZXIuaW5wdXRtYXNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID0gdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IFwiXCIgJiYgdmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VySGFuZGxlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vISEgdGhlIGJvdW5kIGhhbmRsZXJzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSB3aGVyZSBib3VuZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmVvcmRlciB0aGUgZXZlbnRzIC0gdGhlIG1vdXNlZW50ZXIgZXZlbnQgaXMgaW50ZXJuYWxseSBtYXBwZWQgdG8gdGhlIG1vdXNlb3ZlciBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudHMgPSAkLl9kYXRhKG5wdCkuZXZlbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVycyA9IGV2ZW50cy5tb3VzZW92ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXJIYW5kbGVyID0gaGFuZGxlcnNbaGFuZGxlcnMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBoYW5kbGVycy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyc1tpXSA9IGhhbmRsZXJzW2kgLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyc1swXSA9IG91ckhhbmRsZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghbnB0LmlucHV0bWFzay5fX3ZhbHVlR2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgbnB0LnZhbHVlID09PSB1bmRlZmluZWQpIHsgLy8gJiYgbnB0LmlzQ29udGVudEVkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlR2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlU2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobnB0LCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZ2V0dGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBzZXR0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5fX2xvb2t1cEdldHRlcl9fICYmIG5wdC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVHZXQgPSBucHQuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVNldCA9IG5wdC5fX2xvb2t1cFNldHRlcl9fKFwidmFsdWVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBucHQuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsIGdldHRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5wdC5fX2RlZmluZVNldHRlcl9fKFwidmFsdWVcIiwgc2V0dGVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvL2pxdWVyeS52YWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVHZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnB0LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnB0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGNoVmFsaG9vayhucHQudHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrKG5wdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG5wdC5pbnB1dG1hc2suX192YWx1ZUdldCA9IHZhbHVlR2V0OyAvL3N0b3JlIG5hdGl2ZSBwcm9wZXJ0eSBnZXR0ZXJcclxuICAgICAgICAgICAgICAgICAgICBucHQuaW5wdXRtYXNrLl92YWx1ZUdldCA9IGZ1bmN0aW9uIChvdmVycnVsZVJUTCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNSVEwgJiYgb3ZlcnJ1bGVSVEwgIT09IHRydWUgPyB2YWx1ZUdldC5jYWxsKHRoaXMuZWwpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogdmFsdWVHZXQuY2FsbCh0aGlzLmVsKTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIG5wdC5pbnB1dG1hc2suX192YWx1ZVNldCA9IHZhbHVlU2V0OyAvL3N0b3JlIG5hdGl2ZSBwcm9wZXJ0eSBzZXR0ZXJcclxuICAgICAgICAgICAgICAgICAgICBucHQuaW5wdXRtYXNrLl92YWx1ZVNldCA9IGZ1bmN0aW9uICh2YWx1ZSwgb3ZlcnJ1bGVSVEwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVTZXQuY2FsbCh0aGlzLmVsLCAob3ZlcnJ1bGVSVEwgIT09IHRydWUgJiYgaXNSVEwpID8gdmFsdWUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGlucHV0LCBrLCBwb3MsIHN0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2VuZXJhbGl6ZSgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5rZWVwU3RhdGljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkSW5wdXRzID0gW10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0QWx0LCBwb3NpdGlvbnNDbG9uZSA9ICQuZXh0ZW5kKHRydWUsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbmQgbGFzdCBhbHRlcm5hdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxhc3RBbHQgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpOyBsYXN0QWx0ID49IDA7IGxhc3RBbHQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xhc3RBbHRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUG9zLm1hdGNoLmZuICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRJbnB1dHMucHVzaCh2YWxpZFBvcy5pbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUG9zLmFsdGVybmF0aW9uICE9PSB1bmRlZmluZWQgJiYgdmFsaWRQb3MubG9jYXRvclt2YWxpZFBvcy5hbHRlcm5hdGlvbl0gPT09IGdldFRlc3RUZW1wbGF0ZShsYXN0QWx0KS5sb2NhdG9yW3ZhbGlkUG9zLmFsdGVybmF0aW9uXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0QWx0ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh2YWxpZElucHV0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cHJlc3MgPSAkLkV2ZW50KFwia2V5cHJlc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5cHJlc3Mud2hpY2ggPSB2YWxpZElucHV0cy5wb3AoKS5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsIHRydWUsIGZhbHNlLCBmYWxzZSwgZ2V0TWFza1NldCgpLnApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gJC5leHRlbmQodHJ1ZSwge30sIHBvc2l0aW9uc0Nsb25lKTsgLy9yZXN0b3JlIG9yaWdpbmFsIHBvc2l0aW9uc1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMubnVtZXJpY0lucHV0IHx8IGlzUlRMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgPT09IElucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBrID0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGsgPSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNSVEwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBlbmQgPSBwb3MuZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MuZW5kID0gcG9zLmJlZ2luO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MuYmVnaW4gPSBwZW5kO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFICYmIChwb3MuZW5kIC0gcG9zLmJlZ2luIDwgMSB8fCBvcHRzLmluc2VydE1vZGUgPT09IGZhbHNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvcy5iZWdpbiA9IHNlZWtQcmV2aW91cyhwb3MuYmVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXSAhPT0gdW5kZWZpbmVkICYmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXS5pbnB1dCA9PT0gb3B0cy5ncm91cFNlcGFyYXRvciB8fCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zLmJlZ2luXS5pbnB1dCA9PT0gb3B0cy5yYWRpeFBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MuYmVnaW4tLTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPT09IElucHV0bWFzay5rZXlDb2RlLkRFTEVURSAmJiBwb3MuYmVnaW4gPT09IHBvcy5lbmQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3MuZW5kID0gaXNNYXNrKHBvcy5lbmQpID8gcG9zLmVuZCArIDEgOiBzZWVrTmV4dChwb3MuZW5kKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dICE9PSB1bmRlZmluZWQgJiYgKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0ID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yIHx8IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0ID09PSBvcHRzLnJhZGl4UG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcy5lbmQrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3RyaXBWYWxpZFBvc2l0aW9ucyhwb3MuYmVnaW4sIHBvcy5lbmQsIGZhbHNlLCBzdHJpY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0cmljdCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYWxpemUoKTsgLy9yZXZlcnQgdGhlIGFsdGVybmF0aW9uXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24ocG9zLmJlZ2luKTtcclxuICAgICAgICAgICAgICAgIGlmIChsdnAgPCBwb3MuYmVnaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobHZwID09PSAtMSkgcmVzZXRNYXNrU2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dChsdnApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpY3QgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkucCA9IHBvcy5iZWdpbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24ga2V5ZG93bkV2ZW50KGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0ID0gJChpbnB1dCksXHJcbiAgICAgICAgICAgICAgICAgICAgayA9IGUua2V5Q29kZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBjYXJldChpbnB1dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9iYWNrc3BhY2UsIGRlbGV0ZSwgYW5kIGVzY2FwZSBnZXQgc3BlY2lhbCB0cmVhdG1lbnRcclxuICAgICAgICAgICAgICAgIGlmIChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UgfHwgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFIHx8IChpcGhvbmUgJiYgayA9PT0gMTI3KSB8fCAoZS5jdHJsS2V5ICYmIGsgPT09IDg4ICYmICFpc0lucHV0RXZlbnRTdXBwb3J0ZWQoXCJjdXRcIikpKSB7IC8vYmFja3NwYWNlL2RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy9zdG9wIGRlZmF1bHQgYWN0aW9uIGJ1dCBhbGxvdyBwcm9wYWdhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrID09PSA4OCkgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZW1vdmUoaW5wdXQsIGssIHBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBnZXRNYXNrU2V0KCkucCwgZSwgdW5kb1ZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJjbGVhcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNDb21wbGV0ZShnZXRCdWZmZXIoKSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJjb21wbGV0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuc2hvd1Rvb2x0aXApIHsgLy91cGRhdGUgdG9vbHRpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQucHJvcChcInRpdGxlXCIsIGdldE1hc2tTZXQoKS5tYXNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPT09IElucHV0bWFzay5rZXlDb2RlLkVORCB8fCBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5QQUdFX0RPV04pIHsgLy93aGVuIEVORCBvciBQQUdFX0RPV04gcHJlc3NlZCBzZXQgcG9zaXRpb24gYXQgbGFzdG1hdGNoXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYXJldFBvcyA9IHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdHMuaW5zZXJ0TW9kZSAmJiBjYXJldFBvcyA9PT0gZ2V0TWFza0xlbmd0aCgpICYmICFlLnNoaWZ0S2V5KSBjYXJldFBvcy0tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgZS5zaGlmdEtleSA/IHBvcy5iZWdpbiA6IGNhcmV0UG9zLCBjYXJldFBvcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5IT01FICYmICFlLnNoaWZ0S2V5KSB8fCBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5QQUdFX1VQKSB7IC8vSG9tZSBvciBwYWdlX3VwXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIDAsIGUuc2hpZnRLZXkgPyBwb3MuYmVnaW4gOiAwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKChvcHRzLnVuZG9PbkVzY2FwZSAmJiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5FU0NBUEUpIHx8IChrID09PSA5MCAmJiBlLmN0cmxLZXkpKSAmJiBlLmFsdEtleSAhPT0gdHJ1ZSkgeyAvL2VzY2FwZSAmJiB1bmRvICYmICM3NjJcclxuICAgICAgICAgICAgICAgICAgICBjaGVja1ZhbChpbnB1dCwgdHJ1ZSwgZmFsc2UsIHVuZG9WYWx1ZS5zcGxpdChcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPT09IElucHV0bWFzay5rZXlDb2RlLklOU0VSVCAmJiAhKGUuc2hpZnRLZXkgfHwgZS5jdHJsS2V5KSkgeyAvL2luc2VydFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuaW5zZXJ0TW9kZSA9ICFvcHRzLmluc2VydE1vZGU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsICFvcHRzLmluc2VydE1vZGUgJiYgcG9zLmJlZ2luID09PSBnZXRNYXNrTGVuZ3RoKCkgPyBwb3MuYmVnaW4gLSAxIDogcG9zLmJlZ2luKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0cy50YWJUaHJvdWdoID09PSB0cnVlICYmIGsgPT09IElucHV0bWFzay5rZXlDb2RlLlRBQikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRUZXN0KHBvcy5iZWdpbikuZm4gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcy5iZWdpbiA9IHNlZWtOZXh0KHBvcy5iZWdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmVuZCA9IHNlZWtQcmV2aW91cyhwb3MuYmVnaW4sIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MuYmVnaW4gPSBzZWVrUHJldmlvdXMocG9zLmVuZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmJlZ2luID0gc2Vla05leHQocG9zLmJlZ2luLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zLmVuZCA9IHNlZWtOZXh0KHBvcy5iZWdpbiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3MuZW5kIDwgZ2V0TWFza0xlbmd0aCgpKSBwb3MuZW5kLS07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3MuYmVnaW4gPCBnZXRNYXNrTGVuZ3RoKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgcG9zLmJlZ2luLCBwb3MuZW5kKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdHMuaW5zZXJ0TW9kZSA9PT0gZmFsc2UgJiYgIWUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgY2FyZXRQb3MuYmVnaW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGsgPT09IElucHV0bWFzay5rZXlDb2RlLkxFRlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgaXNSVEwgPyBjYXJldFBvcy5iZWdpbiArIDEgOiBjYXJldFBvcy5iZWdpbiAtIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBvcHRzLm9uS2V5RG93bi5jYWxsKHRoaXMsIGUsIGdldEJ1ZmZlcigpLCBjYXJldChpbnB1dCkuYmVnaW4sIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgaWdub3JhYmxlID0gJC5pbkFycmF5KGssIG9wdHMuaWdub3JhYmxlcykgIT09IC0xO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBrZXlwcmVzc0V2ZW50KGUsIGNoZWNrdmFsLCB3cml0ZU91dCwgc3RyaWN0LCBuZHgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0ID0gJChpbnB1dCksXHJcbiAgICAgICAgICAgICAgICAgICAgayA9IGUud2hpY2ggfHwgZS5jaGFyQ29kZSB8fCBlLmtleUNvZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrdmFsICE9PSB0cnVlICYmICghKGUuY3RybEtleSAmJiBlLmFsdEtleSkgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgaWdub3JhYmxlKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuRU5URVIgJiYgdW5kb1ZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LmNoYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NwZWNpYWwgdHJlYXQgdGhlIGRlY2ltYWwgc2VwYXJhdG9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrID09PSA0NiAmJiBlLnNoaWZ0S2V5ID09PSBmYWxzZSAmJiBvcHRzLnJhZGl4UG9pbnQgPT09IFwiLFwiKSBrID0gNDQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBjaGVja3ZhbCA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWdpbjogbmR4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogbmR4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogY2FyZXQoaW5wdXQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBvc2l0aW9uLCBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShrKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdWxkIHdlIGNsZWFyIGEgcG9zc2libGUgc2VsZWN0aW9uPz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzU2xjdG4gPSBpc1NlbGVjdGlvbihwb3MuYmVnaW4sIHBvcy5lbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNTbGN0bikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnVuZG9Qb3NpdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKTsgLy9pbml0IHVuZG9idWZmZXIgZm9yIHJlY292ZXJ5IHdoZW4gbm90IHZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZW1vdmUoaW5wdXQsIElucHV0bWFzay5rZXlDb2RlLkRFTEVURSwgcG9zLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcy5iZWdpbiA9IGdldE1hc2tTZXQoKS5wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLmluc2VydE1vZGUpIHsgLy9wcmVzZXJ2ZSBzb21lIHNwYWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5pbnNlcnRNb2RlID0gIW9wdHMuaW5zZXJ0TW9kZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWxpZFBvc2l0aW9uKHBvcy5iZWdpbiwgc3RyaWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmluc2VydE1vZGUgPSAhb3B0cy5pbnNlcnRNb2RlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTbGN0biA9ICFvcHRzLm11bHRpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkud3JpdGVPdXRCdWZmZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IGlzUlRMICYmICFpc1NsY3RuID8gcG9zLmVuZCA6IHBvcy5iZWdpbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbFJlc3VsdCA9IGlzVmFsaWQocCwgYywgc3RyaWN0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbFJlc3VsdCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxSZXN1bHQgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gdmFsUmVzdWx0LnBvcyAhPT0gdW5kZWZpbmVkID8gdmFsUmVzdWx0LnBvcyA6IHA7IC8vc2V0IG5ldyBwb3NpdGlvbiBmcm9tIGlzVmFsaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjID0gdmFsUmVzdWx0LmMgIT09IHVuZGVmaW5lZCA/IHZhbFJlc3VsdC5jIDogYzsgLy9zZXQgbmV3IGNoYXIgZnJvbSBpc1ZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsUmVzdWx0LmNhcmV0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3J3YXJkUG9zaXRpb24gPSB2YWxSZXN1bHQuY2FyZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2cHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRzLmtlZXBTdGF0aWMgJiYgKHZwc1twICsgMV0gIT09IHVuZGVmaW5lZCAmJiBnZXRUZXN0cyhwICsgMSwgdnBzW3BdLmxvY2F0b3Iuc2xpY2UoKSwgcCkubGVuZ3RoID4gMSB8fCB2cHNbcF0uYWx0ZXJuYXRpb24gIT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yd2FyZFBvc2l0aW9uID0gcCArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGZvcndhcmRQb3NpdGlvbiA9IHNlZWtOZXh0KHApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnAgPSBmb3J3YXJkUG9zaXRpb247IC8vbmVlZGVkIGZvciBjaGVja3ZhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod3JpdGVPdXQgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLm9uS2V5VmFsaWRhdGlvbi5jYWxsKHNlbGYsIHZhbFJlc3VsdCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkud3JpdGVPdXRCdWZmZXIgJiYgdmFsUmVzdWx0ICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgYnVmZmVyLCBjaGVja3ZhbCA/IHVuZGVmaW5lZCA6IG9wdHMubnVtZXJpY0lucHV0ID8gc2Vla1ByZXZpb3VzKGZvcndhcmRQb3NpdGlvbikgOiBmb3J3YXJkUG9zaXRpb24sIGUsIGNoZWNrdmFsICE9PSB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2t2YWwgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IC8vdGltZW91dCBuZWVkZWQgZm9yIElFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZShidWZmZXIpID09PSB0cnVlKSAkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzU2xjdG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkuYnVmZmVyID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9IGdldE1hc2tTZXQoKS51bmRvUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzU2xjdG4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS5idWZmZXIgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSBnZXRNYXNrU2V0KCkudW5kb1Bvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuc2hvd1Rvb2x0aXApIHsgLy91cGRhdGUgdG9vbHRpcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnByb3AoXCJ0aXRsZVwiLCBnZXRNYXNrU2V0KCkubWFzayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGVja3ZhbCAmJiAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9wdHMub25CZWZvcmVXcml0ZS5jYWxsKHRoaXMsIGUsIGdldEJ1ZmZlcigpLCBmb3J3YXJkUG9zaXRpb24sIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQucmVmcmVzaEZyb21CdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcihyZWZyZXNoID09PSB0cnVlID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCByZXN1bHQuYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jYXJldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkucCA9IHJlc3VsdC5jYXJldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrdmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsUmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBwYXN0ZUV2ZW50KGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0ID0gJChpbnB1dCksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQodHJ1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAvL3Bhc3RlIGV2ZW50IGZvciBJRTggYW5kIGxvd2VyIEkgZ3Vlc3MgOy0pXHJcbiAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09PSBcInByb3BlcnR5Y2hhbmdlXCIgJiYgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCA8PSBnZXRNYXNrTGVuZ3RoKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSBcInBhc3RlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWVCZWZvcmVDYXJldCA9IGlucHV0VmFsdWUuc3Vic3RyKDAsIGNhcmV0UG9zLmJlZ2luKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVBZnRlckNhcmV0ID0gaW5wdXRWYWx1ZS5zdWJzdHIoY2FyZXRQb3MuZW5kLCBpbnB1dFZhbHVlLmxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZUJlZm9yZUNhcmV0ID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKDAsIGNhcmV0UG9zLmJlZ2luKS5qb2luKFwiXCIpKSB2YWx1ZUJlZm9yZUNhcmV0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVBZnRlckNhcmV0ID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKGNhcmV0UG9zLmVuZCkuam9pbihcIlwiKSkgdmFsdWVBZnRlckNhcmV0ID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5jbGlwYm9hcmREYXRhICYmIHdpbmRvdy5jbGlwYm9hcmREYXRhLmdldERhdGEpIHsgLy8gSUVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWx1ZSA9IHZhbHVlQmVmb3JlQ2FyZXQgKyB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKSArIHZhbHVlQWZ0ZXJDYXJldDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUub3JpZ2luYWxFdmVudCAmJiBlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSAmJiBlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YS5nZXREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsdWUgPSB2YWx1ZUJlZm9yZUNhcmV0ICsgZS5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIikgKyB2YWx1ZUFmdGVyQ2FyZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciBwYXN0ZVZhbHVlID0gaW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVBhc3RlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhc3RlVmFsdWUgPSBvcHRzLm9uQmVmb3JlUGFzdGUuY2FsbChpbnB1dCwgaW5wdXRWYWx1ZSwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3RlVmFsdWUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXBhc3RlVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGVWYWx1ZSA9IGlucHV0VmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwoaW5wdXQsIGZhbHNlLCBmYWxzZSwgaXNSVEwgPyBwYXN0ZVZhbHVlLnNwbGl0KFwiXCIpLnJldmVyc2UoKSA6IHBhc3RlVmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIHVuZGVmaW5lZCwgZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAkaW5wdXQuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwiY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbnB1dEZhbGxCYWNrRXZlbnQoZSkgeyAvL2ZhbGxiYWNrIHdoZW4ga2V5cHJlc3MgJiBjb21wb3NpdGlvbmV2ZW50cyBmYWlsXHJcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwoaW5wdXQsIHRydWUsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZShnZXRCdWZmZXIoKSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKGlucHV0KS50cmlnZ2VyKFwiY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjb21wb3NpdGlvblN0YXJ0RXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHVuZG9WYWx1ZSA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9zaXRpb25EYXRhID09PSBcIlwiIHx8IGUub3JpZ2luYWxFdmVudC5kYXRhLmluZGV4T2YoY29tcG9zaXRpb25EYXRhKSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uQ2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0aW9uVXBkYXRlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBjYXJldFBvcyA9IGNhcmV0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgIGlmIChlLm9yaWdpbmFsRXZlbnQuZGF0YS5pbmRleE9mKGNvbXBvc2l0aW9uRGF0YSkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXJldFBvcyA9IGNvbXBvc2l0aW9uQ2FyZXRQb3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YSA9IGUub3JpZ2luYWxFdmVudC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIGNhcmV0UG9zLmJlZ2luLCBjYXJldFBvcy5lbmQpO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleXByZXNzID0gJC5FdmVudChcImtleXByZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleXByZXNzLndoaWNoID0gbmV3RGF0YS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNraXBLZXlQcmVzc0V2ZW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWdub3JhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcyk7IC8vbmVlZHMgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9yd2FyZFBvc2l0aW9uID0gZ2V0TWFza1NldCgpLnA7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBvcHRzLm51bWVyaWNJbnB1dCA/IHNlZWtQcmV2aW91cyhmb3J3YXJkUG9zaXRpb24pIDogZm9yd2FyZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgY29tcG9zaXRpb25EYXRhID0gZS5vcmlnaW5hbEV2ZW50LmRhdGE7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0aW9uRW5kRXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgLy9waWNrdXAgYnkgaW5wdXRmYWxsYmFja1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBzZXRWYWx1ZUV2ZW50KGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlU2V0KCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyAob3B0cy5vbkJlZm9yZU1hc2suY2FsbChpbnB1dCwgdmFsdWUsIG9wdHMpIHx8IHZhbHVlKSA6IHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGNoZWNrVmFsKGlucHV0LCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKChvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzIHx8IG9wdHMuY2xlYXJJbmNvbXBsZXRlKSAmJiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZvY3VzRXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICBucHRWYWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnNob3dNYXNrT25Gb2N1cyAmJiAoIW9wdHMuc2hvd01hc2tPbkhvdmVyIHx8IChvcHRzLnNob3dNYXNrT25Ib3ZlciAmJiBucHRWYWx1ZSA9PT0gXCJcIikpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdXNlRW50ZXIgPT09IGZhbHNlKSB7IC8vb25seSBleGVjdXRlZCBvbiBmb2N1cyB3aXRob3V0IG1vdXNlZW50ZXJcclxuICAgICAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMucG9zaXRpb25DYXJldE9uVGFiID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtb3VzZWxlYXZlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgbW91c2VFbnRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCkuc2xpY2UoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnB0VmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGlucHV0ICYmIG5wdFZhbHVlICE9PSAkaW5wdXQuYXR0cihcInBsYWNlaG9sZGVyXCIpICYmIG5wdFZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRMYXN0VmFsaWRQb3NpdGlvbigpID09PSAtMSAmJiBucHRWYWx1ZSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy9jbGVhcm91dCBvcHRpb25hbCB0YWlsIG9mIHRoZSBtYXNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xpY2tFdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBkb1JhZGl4Rm9jdXMoY2xpY2tQb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5yYWRpeEZvY3VzICYmIG9wdHMucmFkaXhQb2ludCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodnBzW2NsaWNrUG9zXSA9PT0gdW5kZWZpbmVkIHx8ICh2cHNbY2xpY2tQb3NdLmlucHV0ID09PSBnZXRQbGFjZWhvbGRlcihjbGlja1BvcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpY2tQb3MgPCBzZWVrTmV4dCgtMSkpIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4UG9zID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgZ2V0QnVmZmVyKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhZGl4UG9zICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZwIGluIHZwcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFkaXhQb3MgPCB2cCAmJiB2cHNbdnBdLmlucHV0ICE9PSBnZXRQbGFjZWhvbGRlcih2cCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkQ2FyZXQgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2FyZXQuYmVnaW4gPT09IHNlbGVjdGVkQ2FyZXQuZW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb1JhZGl4Rm9jdXMoc2VsZWN0ZWRDYXJldC5iZWdpbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBnZXRCdWZmZXIoKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWNrUG9zaXRpb24gPSBzZWxlY3RlZENhcmV0LmJlZ2luLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQb3NpdGlvbiA9IHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKGNsaWNrUG9zaXRpb24pKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xpY2tQb3NpdGlvbiA8IGxhc3RQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCAhaXNNYXNrKGNsaWNrUG9zaXRpb24pICYmICFpc01hc2soY2xpY2tQb3NpdGlvbiAtIDEpID8gc2Vla05leHQoY2xpY2tQb3NpdGlvbikgOiBjbGlja1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIG9wdHMubnVtZXJpY0lucHV0ID8gMCA6IGxhc3RQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRibGNsaWNrRXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCAwLCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnVuY3Rpb24gY3V0RXZlbnQoZSkge1xyXG4gICAgICAgICAgICAgICAgc2tpcElucHV0RXZlbnQgPSB0cnVlOyAvL3N0b3AgaW5wdXRGYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcyxcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQgPSAkKGlucHV0KSxcclxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBjYXJldChpbnB1dCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jb3JyZWN0IGNsaXBib2FyZERhdGFcclxuICAgICAgICAgICAgICAgIGlmIChpc1JUTCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjbGlwYm9hcmREYXRhID0gd2luZG93LmNsaXBib2FyZERhdGEgfHwgZS5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBEYXRhID0gY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwidGV4dFwiKS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0XCIsIGNsaXBEYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGhhbmRsZVJlbW92ZShpbnB1dCwgSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFLCBwb3MpO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBnZXRNYXNrU2V0KCkucCwgZSwgdW5kb1ZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcImNsZWFyZWRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuc2hvd1Rvb2x0aXApIHsgLy91cGRhdGUgdG9vbHRpcFxyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnRpdGxlID0gZ2V0TWFza1NldCgpLm1hc2s7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGJsdXJFdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5wdFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBnZXRCdWZmZXIoKS5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1bmRvVmFsdWUgIT09IGJ1ZmZlci5qb2luKFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAvL2NoYW5nZSBldmVudCBzaG91bGQgYmUgdHJpZ2dlcmVkIGFmdGVyIHRoZSBvdGhlciBidWZmZXIgbWFuaXB1bGF0aW9ucyBvbiBibHVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQuY2hhbmdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRvVmFsdWUgPSBidWZmZXIuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChucHRWYWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldExhc3RWYWxpZFBvc2l0aW9uKCkgPT09IC0xICYmIG5wdFZhbHVlID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vY2xlYXJvdXQgb3B0aW9uYWwgdGFpbCBvZiB0aGUgbWFza1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGxldGUoYnVmZmVyKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwiaW5jb21wbGV0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuY2xlYXJJbmNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGJ1ZmZlciwgdW5kZWZpbmVkLCBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1vdXNlZW50ZXJFdmVudChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgbW91c2VFbnRlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gaW5wdXQgJiYgb3B0cy5zaG93TWFza09uSG92ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBtYXNrKGVsKSB7XHJcbiAgICAgICAgICAgICAgICAkZWwgPSAkKGVsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgdG9vbHRpcFxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuc2hvd1Rvb2x0aXApIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWwucHJvcChcInRpdGxlXCIsIGdldE1hc2tTZXQoKS5tYXNrKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWwuZGlyID09PSBcInJ0bFwiIHx8IG9wdHMucmlnaHRBbGlnbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlLnRleHRBbGlnbiA9IFwicmlnaHRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWwuZGlyID09PSBcInJ0bFwiIHx8IG9wdHMubnVtZXJpY0lucHV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuZGlyID0gXCJsdHJcIjtcclxuICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLmlzUlRMID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpc1JUTCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy91bmJpbmQgYWxsIGV2ZW50cyAtIHRvIG1ha2Ugc3VyZSB0aGF0IG5vIG90aGVyIG1hc2sgd2lsbCBpbnRlcmZlcmUgd2hlbiByZS1tYXNraW5nXHJcbiAgICAgICAgICAgICAgICAkZWwudW5iaW5kKFwiLmlucHV0bWFza1wiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGVsLnRhZ05hbWUgPT09IFwiSU5QVVRcIiAmJiBpc0lucHV0VHlwZVN1cHBvcnRlZChlbC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSkgfHwgZWwuaXNDb250ZW50RWRpdGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2JpbmQgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAgICAgJGVsLmNsb3Nlc3QoXCJmb3JtXCIpLmJpbmQoXCJzdWJtaXRcIiwgZnVuY3Rpb24gKCkgeyAvL3RyaWdnZXIgY2hhbmdlIG9uIHN1Ym1pdCBpZiBhbnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGVsLmNoYW5nZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzICYmIGdldExhc3RWYWxpZFBvc2l0aW9uKCkgPT09IC0xICYmIGVsLmlucHV0bWFzay5fdmFsdWVHZXQgJiYgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzay5fdmFsdWVTZXQoXCJcIik7IC8vY2xlYXIgbWFza3RlbXBsZXRlIG9uIHN1Ym1pdCBhbmQgc3RpbGwgaGFzIGZvY3VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMucmVtb3ZlTWFza09uU3VibWl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2suX3ZhbHVlU2V0KGVsLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoZWwsIGdldEJ1ZmZlcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuYmluZChcInJlc2V0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWwudHJpZ2dlckhhbmRsZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkZWwuYmluZChcIm1vdXNlZW50ZXIuaW5wdXRtYXNrXCIsIG1vdXNlZW50ZXJFdmVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmJpbmQoXCJibHVyLmlucHV0bWFza1wiLCBibHVyRXZlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kKFwiZm9jdXMuaW5wdXRtYXNrXCIsIGZvY3VzRXZlbnQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kKFwibW91c2VsZWF2ZS5pbnB1dG1hc2tcIiwgbW91c2VsZWF2ZUV2ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmluZChcImNsaWNrLmlucHV0bWFza1wiLCBjbGlja0V2ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmluZChcImRibGNsaWNrLmlucHV0bWFza1wiLCBkYmxjbGlja0V2ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmluZChQYXN0ZUV2ZW50VHlwZSArIFwiLmlucHV0bWFzayBkcmFnZHJvcC5pbnB1dG1hc2sgZHJvcC5pbnB1dG1hc2tcIiwgcGFzdGVFdmVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmJpbmQoXCJjdXQuaW5wdXRtYXNrXCIsIGN1dEV2ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmluZChcImNvbXBsZXRlLmlucHV0bWFza1wiLCBvcHRzLm9uY29tcGxldGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kKFwiaW5jb21wbGV0ZS5pbnB1dG1hc2tcIiwgb3B0cy5vbmluY29tcGxldGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kKFwiY2xlYXJlZC5pbnB1dG1hc2tcIiwgb3B0cy5vbmNsZWFyZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kKFwia2V5ZG93bi5pbnB1dG1hc2tcIiwga2V5ZG93bkV2ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYmluZChcImtleXByZXNzLmlucHV0bWFza1wiLCBrZXlwcmVzc0V2ZW50KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghYW5kcm9pZGZpcmVmb3gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGVsLmJpbmQoXCJjb21wb3NpdGlvbnN0YXJ0LmlucHV0bWFza1wiLCBjb21wb3NpdGlvblN0YXJ0RXZlbnQpLmJpbmQoXCJjb21wb3NpdGlvbnVwZGF0ZS5pbnB1dG1hc2tcIiwgY29tcG9zaXRpb25VcGRhdGVFdmVudCkuYmluZChcImNvbXBvc2l0aW9uZW5kLmlucHV0bWFza1wiLCBjb21wb3NpdGlvbkVuZEV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQYXN0ZUV2ZW50VHlwZSA9PT0gXCJwYXN0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbC5iaW5kKFwiaW5wdXQuaW5wdXRtYXNrXCIsIGlucHV0RmFsbEJhY2tFdmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKGFuZHJvaWQgfHwgYW5kcm9pZGZpcmVmb3ggfHwgYW5kcm9pZGNocm9tZSB8fCBraW5kbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1x0XHQkZWwudW5iaW5kKFwiaW5wdXQuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vXHRcdCRlbC5iaW5kKFwiaW5wdXQuaW5wdXRtYXNrXCIsIG1vYmlsZUlucHV0RXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJGVsLmJpbmQoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIiwgc2V0VmFsdWVFdmVudCk7XHJcbiAgICAgICAgICAgICAgICBwYXRjaFZhbHVlUHJvcGVydHkoZWwpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vYXBwbHkgbWFza1xyXG4gICAgICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9ICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyAob3B0cy5vbkJlZm9yZU1hc2suY2FsbChlbCwgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpLCBvcHRzKSB8fCBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkpIDogZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwoZWwsIHRydWUsIGZhbHNlLCBpbml0aWFsVmFsdWUuc3BsaXQoXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICB1bmRvVmFsdWUgPSBidWZmZXIuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgIC8vIFdyYXAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbiBhIHRyeS9jYXRjaCBibG9jayBzaW5jZSBJRTkgdGhyb3cgXCJVbnNwZWNpZmllZCBlcnJvclwiIGlmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaXMgdW5kZWZpbmVkIHdoZW4gd2UgYXJlIGluIGFuIElGcmFtZS5cclxuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVFbGVtZW50O1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNDb21wbGV0ZShidWZmZXIpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmNsZWFySW5jb21wbGV0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXIuam9pbihcIlwiKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoZWwsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCA9PT0gZWwpIHsgLy9wb3NpdGlvbiB0aGUgY2FyZXQgd2hlbiBpbiBmb2N1c1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcmV0KGVsLCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaW5zdGFsbEV2ZW50UnVsZXIoZWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2FjdGlvbiBvYmplY3RcclxuICAgICAgICAgICAgdmFyIHZhbHVlQnVmZmVyO1xyXG4gICAgICAgICAgICBpZiAoYWN0aW9uT2JqICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uT2JqLmFjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpc0NvbXBsZXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gYWN0aW9uT2JqLmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWwgPSAkKGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldCA9IGVsLmlucHV0bWFzay5tYXNrc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzID0gZWwuaW5wdXRtYXNrLm9wdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0NvbXBsZXRlKGFjdGlvbk9iai5idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ1bm1hc2tlZHZhbHVlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gYWN0aW9uT2JqLmVsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RvcmUgaW5wdXRtYXNrIGluc3RhbmNlIG9uIHRoZSBpbnB1dCB3aXRoIGVsZW1lbnQgcmVmZXJlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZWwgPSAkKHt9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gJGVsWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrID0gbmV3IElucHV0bWFzaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLm9wdHMgPSBvcHRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLmVsID0gZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2subWFza3NldCA9IG1hc2tzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2suaXNSVEwgPSBvcHRzLm51bWVyaWNJbnB1dDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5udW1lcmljSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JUTCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUJ1ZmZlciA9ICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gKG9wdHMub25CZWZvcmVNYXNrLmNhbGwoJGVsLCBhY3Rpb25PYmoudmFsdWUsIG9wdHMpIHx8IGFjdGlvbk9iai52YWx1ZSkgOiBhY3Rpb25PYmoudmFsdWUpLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tWYWwoJGVsLCBmYWxzZSwgZmFsc2UsIGlzUlRMID8gdmFsdWVCdWZmZXIucmV2ZXJzZSgpIDogdmFsdWVCdWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlV3JpdGUpKSBvcHRzLm9uQmVmb3JlV3JpdGUuY2FsbCh0aGlzLCB1bmRlZmluZWQsIGdldEJ1ZmZlcigpLCAwLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRlbCA9ICQoZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0ID0gZWwuaW5wdXRtYXNrLm1hc2tzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMgPSBlbC5pbnB1dG1hc2sub3B0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNSVEwgPSBlbC5pbnB1dG1hc2suaXNSVEw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bm1hc2tlZHZhbHVlKCRlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1hc2tcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFzayhhY3Rpb25PYmouZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbCA9ICQoe30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0b3JlIGlucHV0bWFzayBpbnN0YW5jZSBvbiB0aGUgaW5wdXQgd2l0aCBlbGVtZW50IHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrID0gbmV3IElucHV0bWFzaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLm9wdHMgPSBvcHRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLmVsID0gJGVsWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLm1hc2tzZXQgPSBtYXNrc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLmlzUlRMID0gb3B0cy5udW1lcmljSW5wdXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5udW1lcmljSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUlRMID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUJ1ZmZlciA9ICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gKG9wdHMub25CZWZvcmVNYXNrLmNhbGwoJGVsLCBhY3Rpb25PYmoudmFsdWUsIG9wdHMpIHx8IGFjdGlvbk9iai52YWx1ZSkgOiBhY3Rpb25PYmoudmFsdWUpLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja1ZhbCgkZWwsIGZhbHNlLCBmYWxzZSwgaXNSVEwgPyB2YWx1ZUJ1ZmZlci5yZXZlcnNlKCkgOiB2YWx1ZUJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSkgb3B0cy5vbkJlZm9yZVdyaXRlLmNhbGwodGhpcywgdW5kZWZpbmVkLCBnZXRCdWZmZXIoKSwgMCwgb3B0cyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uT2JqLm1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiAkZWwuaW5wdXRtYXNrKFwiZ2V0bWV0YWRhdGFcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBnZXRCdWZmZXIoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpc1ZhbGlkXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbCA9ICQoe30pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0b3JlIGlucHV0bWFzayBpbnN0YW5jZSBvbiB0aGUgaW5wdXQgd2l0aCBlbGVtZW50IHJlZmVyZW5jZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrID0gbmV3IElucHV0bWFzaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLm9wdHMgPSBvcHRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLmVsID0gJGVsWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLm1hc2tzZXQgPSBtYXNrc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWxbMF0uaW5wdXRtYXNrLmlzUlRMID0gb3B0cy5udW1lcmljSW5wdXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5udW1lcmljSW5wdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUlRMID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUJ1ZmZlciA9IGFjdGlvbk9iai52YWx1ZS5zcGxpdChcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tWYWwoJGVsLCBmYWxzZSwgdHJ1ZSwgaXNSVEwgPyB2YWx1ZUJ1ZmZlci5yZXZlcnNlKCkgOiB2YWx1ZUJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJsID0gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtaWIgPSBidWZmZXIubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICg7IGxtaWIgPiBybDsgbG1pYi0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNNYXNrKGxtaWIpKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIuc3BsaWNlKHJsLCBsbWliICsgMSAtIHJsKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0NvbXBsZXRlKGJ1ZmZlcikgJiYgYWN0aW9uT2JqLnZhbHVlID09PSBidWZmZXIuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ2V0ZW1wdHltYXNrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gYWN0aW9uT2JqLmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWwgPSAkKGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldCA9IGVsLmlucHV0bWFzay5tYXNrc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzID0gZWwuaW5wdXRtYXNrLm9wdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRCdWZmZXJUZW1wbGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSBhY3Rpb25PYmouZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRlbCA9ICQoZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0ID0gZWwuaW5wdXRtYXNrLm1hc2tzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMgPSBlbC5pbnB1dG1hc2sub3B0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93cml0ZW91dCB0aGUgdW5tYXNrZWR2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2suX3ZhbHVlU2V0KHVubWFza2VkdmFsdWUoJGVsKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdW5iaW5kIGFsbCBldmVudHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGVsLnVuYmluZChcIi5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzdG9yZSB0aGUgdmFsdWUgcHJvcGVydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlUHJvcGVydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVByb3BlcnR5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlbCwgXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWVQcm9wZXJ0eSAmJiB2YWx1ZVByb3BlcnR5LmdldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLmlucHV0bWFzay5fX3ZhbHVlR2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsLCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBlbC5pbnB1dG1hc2suX192YWx1ZUdldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBlbC5pbnB1dG1hc2suX192YWx1ZVNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18gJiYgZWwuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5fX2RlZmluZUdldHRlcl9fKFwidmFsdWVcIiwgZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsLl9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLCBlbC5pbnB1dG1hc2suX192YWx1ZVNldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGVhciBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzayA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImdldG1ldGFkYXRhXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gYWN0aW9uT2JqLmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkZWwgPSAkKGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldCA9IGVsLmlucHV0bWFzay5tYXNrc2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzID0gZWwuaW5wdXRtYXNrLm9wdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkLmlzQXJyYXkobWFza3NldC5tZXRhZGF0YSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZmluZCBsYXN0IGFsdGVybmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRpb24sIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBmaXJzdEFsdCA9IGx2cDsgZmlyc3RBbHQgPj0gMDsgZmlyc3RBbHQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZmlyc3RBbHRdICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tmaXJzdEFsdF0uYWx0ZXJuYXRpb24gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGlvbiA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tmaXJzdEFsdF0uYWx0ZXJuYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbHRlcm5hdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tzZXQubWV0YWRhdGFbZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0ubG9jYXRvclthbHRlcm5hdGlvbl1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHJldHVybiBtYXNrc2V0Lm1ldGFkYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWFza3NldC5tZXRhZGF0YTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9tYWtlIGlucHV0bWFzayBhdmFpbGFibGVcclxuICAgICAgICB3aW5kb3cuSW5wdXRtYXNrID0gSW5wdXRtYXNrO1xyXG4gICAgICAgIHJldHVybiBJbnB1dG1hc2s7XHJcbiAgICB9KSk7XHJcbiJdfQ==
